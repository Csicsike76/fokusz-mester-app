<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kv√≠z: Tengelyes szimmetria</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-color: #007BFF;
            --secondary-color: #f1f1f1;
            --background-color: #f8f9fa;
            --text-color: #333;
            --correct-color: #28a745;
            --correct-bg: #d4edda;
            --incorrect-color: #dc3545;
            --incorrect-bg: #f8d7da;
            --neutral-border: #dee2e6;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .quiz-container {
            width: 100%;
            max-width: 800px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            padding: 20px;
            background: linear-gradient(90deg, #CD2A3E 33.3%, #FFFFFF 33.3%, #FFFFFF 66.6%, #477050 66.6%);
            text-align: center;
        }

        header h1 {
            color: var(--text-color);
            margin: 0;
            font-size: 2em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        main {
            padding: 30px;
        }

        #quiz-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .question-block {
            border: 1px solid var(--neutral-border);
            border-radius: 10px;
            padding: 20px;
            transition: box-shadow 0.3s;
        }

        .question-block:focus-within {
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.25);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .options label {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--neutral-border);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .options label:hover {
            background-color: #f8f9fa;
        }

        .options input[type="radio"] {
            margin-right: 15px;
            accent-color: var(--primary-color);
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--secondary-color);
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            display: none;
            font-size: 0.95em;
        }
        
        .explanation strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .evaluation-block {
            margin-bottom: 20px;
        }

        .controls-container {
            padding: 20px;
            background-color: #fdfdfd;
            border: 1px dashed var(--neutral-border);
            border-radius: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .controls-container label {
            font-weight: 600;
        }

        .pin-code-input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--neutral-border);
            width: 120px;
            text-align: center;
            font-size: 1em;
        }

        .check-btn {
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }

        .check-btn:hover {
            background-color: #0056b3;
        }
        
        .check-btn:active {
            transform: scale(0.98);
        }
        
        .check-btn:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        .result-container {
            margin-top: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            min-height: 1.5em;
        }

        .admin-panel {
            margin-top: 10px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            color: #856404;
        }

        /* Visszajelz≈ë st√≠lusok */
        .correct-answer {
            background-color: var(--correct-bg) !important;
            border-color: var(--correct-color) !important;
        }

        .incorrect-answer {
            background-color: var(--incorrect-bg) !important;
            border-color: var(--incorrect-color) !important;
        }
        
        .master-correct::before {
            content: '‚úÖ Helyes: ';
            font-weight: bold;
        }

        .label-correct::before {
            content: '‚úÖ ';
        }
        
        .label-incorrect::before {
            content: '‚ùå ';
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            main {
                padding: 15px;
            }
            header h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <header>
            <h1>Kv√≠z: Tengelyes szimmetria</h1>
        </header>
        <main>
            <div class="evaluation-block" id="top-evaluation">
                <div class="controls-container">
                    <label for="pin-code-top">PIN k√≥d:</label>
                    <input type="password" id="pin-code-top" class="pin-code-input" autocomplete="new-password">
                    <button type="button" class="check-btn">Ellen≈ërz√©s</button>
                </div>
                <div class="result-container"></div>
                <div class="admin-panel" style="display: none;">
                    <p>Mester m√≥d akt√≠v. V√°laszok eloszl√°sa: 8 'a', 9 'b', 8 'c'.</p>
                </div>
            </div>

            <hr style="border: none; border-top: 1px solid #eee; margin: 30px 0;">

            <form id="quiz-form" autocomplete="off">
                <div id="questions-container"></div>
            </form>
            
        </main>
    </div>

    <script>
        const quizData = [
            { question: "Mi a szimmetriatengely?", options: { a: "A leghosszabb √°tl√≥.", b: "A soksz√∂g oldala.", c: "Az a vonal, amire t√ºkr√∂zve az alakzat √∂nmag√°ra k√©pz≈ëdik." }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A szimmetriatengelyt elk√©pzelhetj√ºk egy 't√ºk√∂rnek' vagy egy hajt√°svonalnak. üîπ 2. L√©p√©s: Ha az alakzatot ezen a vonal ment√©n f√©lbehajtjuk, a k√©t fele t√∂k√©letesen fedi egym√°st. ‚úÖ Megold√°s: Az a vonal, amire t√ºkr√∂zve az alakzat √∂nmag√°ra k√©pz≈ëdik." },
            { question: "H√°ny szimmetriatengelye van egy n√©gyzetnek?", options: { a: "2", b: "4", c: "1" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A n√©gyzetnek van k√©t √°tl√≥s szimmetriatengelye. üîπ 2. L√©p√©s: Van k√©t, az oldalakkal p√°rhuzamos, k√∂z√©pen √°thalad√≥ tengelye is. üîπ 3. L√©p√©s: Ez √∂sszesen 2 + 2 = 4 tengely. ‚úÖ Megold√°s: A n√©gyzetnek 4 szimmetriatengelye van." },
            { question: "Melyik bet≈± tengelyesen szimmetrikus?", options: { a: "A", b: "F", c: "G" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: K√©pzelj√ºk el, hogy a bet≈±ket egy f√ºgg≈ëleges vonallal pr√≥b√°ljuk f√©lbev√°gni. üîπ 2. L√©p√©s: Az 'A' bet≈±nek van egy f√ºgg≈ëleges szimmetriatengelye. Az 'F' √©s 'G' bet≈±knek nincs. ‚úÖ Megold√°s: Az 'A' bet≈± tengelyesen szimmetrikus." },
            { question: "H√°ny szimmetriatengelye van egy k√∂rnek?", options: { a: "egy", b: "n√©gy", c: "v√©gtelen sok" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: Egy k√∂r b√°rmely, a k√∂z√©ppontj√°n √°thalad√≥ egyenesre n√©zve szimmetrikus. üîπ 2. L√©p√©s: Mivel a k√∂z√©pponton √°t v√©gtelen sok egyenest h√∫zhatunk, ez√©rt v√©gtelen sok szimmetriatengelye van. ‚úÖ Megold√°s: A k√∂rnek v√©gtelen sok szimmetriatengelye van." },
            { question: "Mi lesz egy P pont t√ºk√∂rk√©pe, ha a P pont rajta van a szimmetriatengelyen?", options: { a: "a P pontt√≥l jobbra lesz", b: "√∂nmaga", c: "a P pontt√≥l balra lesz" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A tengelyen l√©v≈ë pontok a t√ºkr√∂z√©s sor√°n nem mozdulnak el. üîπ 2. L√©p√©s: Ezeket a pontokat fixpontoknak nevezz√ºk. ‚úÖ Megold√°s: A pont t√ºk√∂rk√©pe √∂nmaga." },
            { question: "Melyik alakzatnak van pontosan egy szimmetriatengelye?", options: { a: "szab√°lyos h√°romsz√∂g", b: "egyenl≈ë sz√°r√∫ h√°romsz√∂g", c: "√°ltal√°nos h√°romsz√∂g" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A szab√°lyos h√°romsz√∂gnek 3, az √°ltal√°nosnak 0 szimmetriatengelye van. üîπ 2. L√©p√©s: Az egyenl≈ë sz√°r√∫ h√°romsz√∂gnek az alapra mer≈ëleges magass√°ga egyben a szimmetriatengelye is. ‚úÖ Megold√°s: Az egyenl≈ë sz√°r√∫ h√°romsz√∂gnek van pontosan egy." },
            { question: "Mit nevez√ºnk tengelyesen szimmetrikus alakzatnak?", options: { a: "Aminek van szimmetriatengelye.", b: "Amelyik kerek.", c: "Amelyiknek van ker√ºlete." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A fogalom a szimmetriatengely l√©tez√©s√©hez k√∂t≈ëdik. üîπ 2. L√©p√©s: Ha egy alakzatnak van legal√°bb egy olyan tengelye, amire t√ºkr√∂zve √∂nmag√°t kapjuk, akkor az alakzat tengelyesen szimmetrikus. ‚úÖ Megold√°s: Aminek van szimmetriatengelye." },
            { question: "Melyik √°ll√≠t√°s igaz egy pont √©s a t√ºk√∂rk√©pe k√∂z√∂tti szakaszra?", options: { a: "P√°rhuzamos a tengellyel.", b: "A tengely mer≈ëlegesen felezi.", c: "A tengely 45¬∞-ban metszi." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√ºkr√∂z√©s sor√°n a pont √©s k√©pe k√∂z√∂tti t√°vols√°g a tengelyt≈ël ugyanakkora. üîπ 2. L√©p√©s: Az ≈ëket √∂sszek√∂t≈ë szakasz mindig mer≈ëleges a t√ºk√∂rtengelyre, √©s a tengely pontosan a szakasz fel√©n√©l metszi azt. ‚úÖ Megold√°s: A tengely mer≈ëlegesen felezi." },
            { question: "H√°ny szimmetriatengelye van egy t√©glalapnak (ami nem n√©gyzet)?", options: { a: "1", b: "2", c: "4" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√©glalap √°tl√≥i nem szimmetriatengelyek. üîπ 2. L√©p√©s: A k√©t szimmetriatengelye a szemk√∂zti oldalak felez≈ëpontjait √∂sszek√∂t≈ë k√©t k√∂z√©pvonala. ‚úÖ Megold√°s: A t√©glalapnak 2 szimmetriatengelye van." },
            { question: "Melyik term√©szeti forma mutat gyakran tengelyes szimmetri√°t?", options: { a: "egy felh≈ë", b: "egy pillang√≥", c: "egy k≈ë" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A pillang√≥ k√©t sz√°rnya szinte t√∂k√©letes t√ºk√∂rk√©pe egym√°snak. üîπ 2. L√©p√©s: A teste jel√∂li ki a szimmetriatengelyt. ‚úÖ Megold√°s: A pillang√≥ szimmetrikus." },
            { question: "H√°ny szimmetriatengelye van egy szab√°lyos √∂tsz√∂gnek?", options: { a: "5", b: "1", c: "10" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A szab√°lyos soksz√∂geknek mindig annyi szimmetriatengely√ºk van, ah√°ny oldaluk. üîπ 2. L√©p√©s: A szab√°lyos √∂tsz√∂gnek 5 oldala van, teh√°t 5 szimmetriatengelye van (a cs√∫csokat a szemk√∂zti oldal felez≈ëpontj√°val √∂sszek√∂t≈ë egyenesek). ‚úÖ Megold√°s: A szab√°lyos √∂tsz√∂gnek 5 szimmetriatengelye van." },
            { question: "Melyik bet≈±nek van v√≠zszintes √©s f√ºgg≈ëleges szimmetriatengelye is?", options: { a: "A", b: "B", c: "H" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: Az 'A'-nak csak f√ºgg≈ëleges, a 'B'-nek csak v√≠zszintes tengelye van. üîπ 2. L√©p√©s: A 'H' bet≈±t a k√∂zep√©n v√≠zszintesen √©s f√ºgg≈ëlegesen is 'f√©lbehajthatjuk', hogy a r√©szek fedj√©k egym√°st. ‚úÖ Megold√°s: A 'H' bet≈±nek mindk√©t ir√°ny√∫ tengelye van." },
            { question: "Egy pont 4 cm-re van a szimmetriatengelyt≈ël. Milyen messze van a t√ºk√∂rk√©pe a tengelyt≈ël?", options: { a: "8 cm", b: "4 cm", c: "2 cm" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√ºkr√∂z√©s t√°vols√°gtart√≥ a tengelyhez k√©pest. üîπ 2. L√©p√©s: A pont √©s a k√©pe is ugyanakkora t√°vols√°gra van a tengelyt≈ël, csak az ellenkez≈ë oldalon. ‚úÖ Megold√°s: A t√ºk√∂rk√©p is 4 cm-re van a tengelyt≈ël." },
            { question: "Melyik soksz√∂gnek nincs szimmetriatengelye?", options: { a: "√°ltal√°nos h√°romsz√∂g", b: "szab√°lyos hatsz√∂g", c: "rombusz" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A szab√°lyos hatsz√∂gnek 6, a rombusznak 2 szimmetriatengelye van. üîπ 2. L√©p√©s: Az √°ltal√°nos h√°romsz√∂gnek, aminek minden oldala √©s sz√∂ge k√ºl√∂nb√∂z≈ë, nincs szimmetriatengelye. ‚úÖ Megold√°s: Az √°ltal√°nos h√°romsz√∂gnek nincs." },
            { question: "Mi a tengelyes t√ºkr√∂z√©s m√°sik neve?", options: { a: "nagy√≠t√°s", b: "forgat√°s", c: "tengelyes szimmetria" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A tengelyes t√ºkr√∂z√©s egy geometriai transzform√°ci√≥. üîπ 2. L√©p√©s: Azt a tulajdons√°got, hogy egy alakzat t√ºkr√∂zhet≈ë √∂nmag√°ra, tengelyes szimmetri√°nak nevezz√ºk. A k√©t fogalom szorosan √∂sszetartozik. ‚úÖ Megold√°s: A m√°sik n√©v a tengelyes szimmetria." },
            { question: "H√°ny szimmetriatengelye van egy egyenl≈ë oldal√∫ (szab√°lyos) h√°romsz√∂gnek?", options: { a: "1", b: "3", c: "0" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Mivel a h√°romsz√∂g szab√°lyos, mindh√°rom oldala √©s sz√∂ge egyenl≈ë. üîπ 2. L√©p√©s: Mindh√°rom cs√∫csb√≥l a szemk√∂zti oldal felez≈ëpontj√°ba h√∫zott magass√°gvonal egyben szimmetriatengely is. ‚úÖ Megold√°s: A szab√°lyos h√°romsz√∂gnek 3 szimmetriatengelye van." },
            { question: "Melyik k√∂zleked√©si t√°bla tengelyesen szimmetrikus?", options: { a: "STOP (nyolcsz√∂g)", b: "Behajtani tilos (k√∂r)", c: "Mindkett≈ë" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A 'STOP' t√°bla egy szab√°lyos nyolcsz√∂g, aminek 8 szimmetriatengelye van. üîπ 2. L√©p√©s: A 'Behajtani tilos' egy k√∂r alak√∫ t√°bla, aminek v√©gtelen sok szimmetriatengelye van. ‚úÖ Megold√°s: Mindkett≈ë tengelyesen szimmetrikus." },
            { question: "Egy pont √©s a t√ºk√∂rk√©pe k√∂z√∂tti t√°vols√°g 10 cm. Milyen messze van a pont a tengelyt≈ël?", options: { a: "10 cm", b: "5 cm", c: "20 cm" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A tengely pontosan felezi a pont √©s a t√ºk√∂rk√©pe k√∂z√∂tti szakaszt. üîπ 2. L√©p√©s: A teljes t√°vols√°g 10 cm, ennek a fele 5 cm. ‚úÖ Megold√°s: A pont 5 cm-re van a tengelyt≈ël." },
            { question: "Egy sz√≠v alakzatnak...", options: { a: "nincs szimmetriatengelye.", b: "egy f√ºgg≈ëleges szimmetriatengelye van.", c: "egy v√≠zszintes szimmetriatengelye van." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A sz√≠v alakzatot f√ºgg≈ëlegesen 'f√©lbe lehet hajtani'. üîπ 2. L√©p√©s: V√≠zszintesen viszont nem, mert az als√≥ √©s a fels≈ë r√©sze nem egyforma. ‚úÖ Megold√°s: Egy f√ºgg≈ëleges szimmetriatengelye van." },
            { question: "Melyik alakzatnak van t√∂bb szimmetriatengelye: a rombusznak vagy a t√©glalapnak?", options: { a: "a rombusznak", b: "a t√©glalapnak", c: "ugyanannyi van nekik" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A t√©glalapnak 2 szimmetriatengelye van (a k√∂z√©pvonalai). üîπ 2. L√©p√©s: A rombusznak (ami nem n√©gyzet) szint√©n 2 szimmetriatengelye van (az √°tl√≥i). ‚úÖ Megold√°s: Ugyanannyi, azaz 2-2 szimmetriatengely√ºk van." },
            { question: "A 'T' bet≈±nek h√°ny szimmetriatengelye van?", options: { a: "1", b: "2", c: "0" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A 'T' bet≈±nek van egy f√ºgg≈ëleges szimmetriatengelye, ami a v√≠zszintes sz√°r k√∂zep√©n megy √°t. üîπ 2. L√©p√©s: V√≠zszintes tengelye viszont nincs. ‚úÖ Megold√°s: A 'T' bet≈±nek 1 szimmetriatengelye van." },
            { question: "Ha leteszel egy vonalz√≥t a lapra, az maga a szimmetriatengely. Ha a vonalz√≥ f√∂l√© rajzolsz egy 'P' bet≈±t, hol lesz a t√ºk√∂rk√©pe?", options: { a: "a vonalz√≥ felett", b: "a vonalz√≥ alatt", c: "a vonalz√≥n" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√ºkr√∂z√©s sor√°n a k√©p a tengely 't√∫loldal√°ra' ker√ºl. üîπ 2. L√©p√©s: Ha a bet≈± a tengely felett van, a k√©pe a tengely alatt lesz. ‚úÖ Megold√°s: A t√ºk√∂rk√©p a vonalz√≥ alatt lesz." },
            { question: "Milyen viszonyban van egy szakasz felez≈ëmer≈ëlegese a szakasszal?", options: { a: "p√°rhuzamos vele", b: "mer≈ëleges r√°", c: "egybeesik vele" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A felez≈ëmer≈ëleges nev√©ben benne van a v√°lasz! 'Mer≈ëleges', teh√°t der√©ksz√∂get z√°r be a szakasszal. üîπ 2. L√©p√©s: A 'felez≈ë' pedig azt jelenti, hogy pont a szakasz k√∂zep√©n metszi azt. ‚úÖ Megold√°s: Mer≈ëleges a szakaszra." },
            { question: "A tengelyes szimmetria egy...", options: { a: "fajta soksz√∂g.", b: "geometriai tulajdons√°g.", c: "sz√∂gfajta." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A tengelyes szimmetria nem egy konkr√©t alakzat, hanem egy tulajdons√°g, amivel egy alakzat rendelkezhet (vagy nem). üîπ 2. L√©p√©s: Azt √≠rja le, hogy az alakzat 'szab√°lyos-e' a t√ºkr√∂z√©sre n√©zve. ‚úÖ Megold√°s: Geometriai tulajdons√°g." },
            { question: "Melyik √°ll√≠t√°s igaz egy egyenl≈ë sz√°r√∫ trap√©zra?", options: { a: "Nincs szimmetriatengelye.", b: "Az egyik √°tl√≥ja a szimmetriatengelye.", c: "A p√°rhuzamos oldalak felez≈ëmer≈ëlegese a szimmetriatengelye." }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: Az egyenl≈ë sz√°r√∫ trap√©z tengelyesen szimmetrikus. üîπ 2. L√©p√©s: A szimmetriatengelye az az egyenes, ami a k√©t p√°rhuzamos oldalt (alapot) mer≈ëlegesen felezi. ‚úÖ Megold√°s: A p√°rhuzamos oldalak felez≈ëmer≈ëlegese a szimmetriatengelye." }
        ];

        const questionsContainer = document.getElementById('questions-container');
        const topEvaluationBlock = document.getElementById('top-evaluation');

        let shuffledData;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function shuffleOptions(options) {
            const optionsArray = Object.entries(options).map(([key, text]) => ({ key, text }));
            return shuffle([...optionsArray]);
        }

        function renderQuiz() {
            shuffledData = shuffle([...quizData]);
            let questionHTML = '';
            shuffledData.forEach((item, index) => {
                const randomizedOptions = shuffleOptions(item.options);
                const optionLetters = ['a', 'b', 'c'];
                
                let optionsHTML = '';
                randomizedOptions.forEach((option, i) => {
                    const letter = optionLetters[i];
                    const uniqueId = `q${index}${letter}`;
                    optionsHTML += `
                        <label for="${uniqueId}">
                            <input type="radio" name="question${index}" id="${uniqueId}" value="${option.key}">
                            ${letter}) ${option.text}
                        </label>
                    `;
                });

                questionHTML += `
                    <div class="question-block" id="q-block-${index}">
                        <p class="question-text">${index + 1}. ${item.question}</p>
                        <div class="options">${optionsHTML}</div>
                        <div class="explanation" id="explanation-${index}">${item.explanation}</div>
                    </div>
                `;
            });
            questionsContainer.innerHTML = questionHTML;
        }

        function checkAnswers() {
            const pin = topEvaluationBlock.querySelector('.pin-code-input').value;
            const checkBtn = topEvaluationBlock.querySelector('.check-btn');
            const resultContainer = topEvaluationBlock.querySelector('.result-container');
            const adminPanel = topEvaluationBlock.querySelector('.admin-panel');

            const MASTER_PIN = '121909';
            const isMaster = pin === MASTER_PIN;
            const isStudent = (parseInt(pin) >= 100001 && parseInt(pin) <= 100020);

            if (!isMaster && !isStudent) {
                alert('√ârv√©nytelen PIN k√≥d! K√©rj√ºk, adjon meg egy √©rv√©nyes tanul√≥i (100001-100020) vagy mester PIN-t.');
                return;
            }

            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            if (!isMaster && answeredQuestions < shuffledData.length) {
                alert(`K√©rj√ºk, v√°laszolj az √∂sszes k√©rd√©sre! Jelenleg ${answeredQuestions}/${shuffledData.length} k√©rd√©sre v√°laszolt√°l.`);
                return;
            }

            let score = 0;
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.disabled = true);
            checkBtn.disabled = true;
            topEvaluationBlock.querySelector('.pin-code-input').disabled = true;

            shuffledData.forEach((item, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const explanationDiv = document.getElementById(`explanation-${index}`);
                explanationDiv.style.display = 'block';

                if (isMaster) {
                    document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                        if (radio.value === item.correctAnswer) {
                            radio.parentElement.classList.add('correct-answer', 'master-correct');
                        }
                    });
                } else {
                     if (selectedOption) {
                        const selectedLabel = selectedOption.parentElement;
                        if (selectedOption.value === item.correctAnswer) {
                            score++;
                            selectedLabel.classList.add('correct-answer', 'label-correct');
                        } else {
                            selectedLabel.classList.add('incorrect-answer', 'label-incorrect');
                             document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                                if (radio.value === item.correctAnswer) {
                                    radio.parentElement.classList.add('correct-answer');
                                }
                            });
                        }
                    } else { 
                         document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                            if (radio.value === item.correctAnswer) {
                                radio.parentElement.classList.add('correct-answer');
                            }
                        });
                    }
                }
            });

            const percentage = ((score / shuffledData.length) * 100).toFixed(1);
            if (!isMaster) {
                resultContainer.innerHTML = `Eredm√©nyed: ${score} / ${shuffledData.length} (${percentage}%)`;
            } else {
                 resultContainer.innerHTML = `Mester m√≥d: Helyes v√°laszok √©s magyar√°zatok felfedve.`;
            }


            if (isMaster) {
                adminPanel.style.display = 'block';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
            
            const mainCheckBtn = topEvaluationBlock.querySelector('.check-btn');
            const mainPinInput = topEvaluationBlock.querySelector('.pin-code-input');

            mainCheckBtn.addEventListener('click', checkAnswers);
            mainPinInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    checkAnswers();
                }
            });
        });

    </script>
</body>
</html>