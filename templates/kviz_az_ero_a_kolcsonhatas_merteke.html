<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyakorló Kvíz - Az erő, a kölcsönhatás mértéke</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #D50000; /* Piros */
            text-align: center;
            border-bottom: 2px solid #D50000; /* Piros */
            padding-bottom: 10px;
        }
        #quiz-container {
            background-color: #ffffff; /* Fehér */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-block {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-of-type {
            border-bottom: none;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .options-container label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #ddd;
        }
        .options-container label:hover {
            background-color: #f9f9f9;
        }
        .options-container input[type="radio"] {
            margin-right: 10px;
        }
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e9; /* Világos zöld */
            border-left: 4px solid #008751; /* Zöld */
            border-radius: 4px;
        }
        #control-panel {
            text-align: center;
            padding: 20px;
            background-color: #ffffff; /* Fehér */
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        #pin-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #check-button {
            padding: 10px 20px;
            background-color: #D50000; /* Piros */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #check-button:hover {
            background-color: #a30000; /* Sötétebb piros */
        }
        #results {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
        }
        /* Színkódok a kiértékeléshez */
        .correct-answer-reveal {
            background-color: #c8e6c9 !important; /* Zöld */
            border-color: #008751 !important; /* Zöld */
        }
        .student-incorrect {
            background-color: #f8d7da !important; /* Piros */
            border-color: #f5c6cb !important;
            color: #721c24 !important;
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }
        .admin-panel h3 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>

    <h1>Gyakorló Kvíz: Az erő, a kölcsönhatás mértéke</h1>

    <div id="control-panel">
        <input type="password" id="pin-input" placeholder="PIN kód">
        <button id="check-button">Ellenőrzés</button>
        <div id="results"></div>
        <div id="admin-panel" class="admin-panel">
            <h3>Adminisztrációs Panel</h3>
            <p>A helyes válaszok és a magarázatok feloldva.</p>
            <p>Helyes válaszok eloszlása (a/b/c): <span id="dist-a"></span> / <span id="dist-b"></span> / <span id="dist-c"></span></p>
        </div>
    </div>

    <div id="quiz-container">
        <!-- A kvízkérdések ide generálódnak -->
    </div>

    <script>
        const quizData = [
            // Kérdések 'a' helyes válasszal (8 db)
            {
                question: "Mi az erő mértékegysége az SI mértékrendszerben?",
                answers: { a: "newton (N)", b: "joule (J)", c: "kilogramm (kg)" },
                correctAnswer: 'a',
                explanation: "Az erő mértékegysége Isaac Newton tiszteletére a newton, jele N. A joule a munka és az energia, a kilogramm pedig a tömeg mértékegysége. ✅ Megoldás: newton (N)."
            },
            {
                question: "Melyik jellemzője van az erőnek a nagyságán kívül?",
                answers: { a: "Iránya", b: "Tömege", c: "Hőmérséklete" },
                correctAnswer: 'a',
                explanation: "Az erő vektormennyiség, ami azt jelenti, hogy a nagysága mellett iránya is van. Nem mindegy, hogy egy testet tolunk, húzunk vagy emelünk. ✅ Megoldás: Iránya."
            },
            {
                question: "Mivel mérjük az erőt?",
                answers: { a: "Rugós erőmérővel (dinamométerrel).", b: "Mérleggel.", c: "Vonalzóval." },
                correctAnswer: 'a',
                explanation: "Az erő mérésére szolgáló eszköz a rugós erőmérő, más néven dinamométer. A mérleg tömeget, a vonalzó hosszúságot mér. ✅ Megoldás: Rugós erőmérővel (dinamométerrel)."
            },
            {
                question: "Mit nevezünk súlynak?",
                answers: { a: "A testre ható nehézségi (gravitációs) erőt.", b: "A testben lévő anyag mennyiségét.", c: "A test tehetetlenségének mértékét." },
                correctAnswer: 'a',
                explanation: "A súly az az erő, amellyel egy égitest (pl. a Föld) vonzza a testet. Ez egy erő, mértékegysége a newton. Az anyag mennyisége a tömeg. ✅ Megoldás: A testre ható nehézségi (gravitációs) erőt."
            },
            {
                question: "A testek mozgását akadályozó, érintkező felületek között fellépő erőt minek nevezzük?",
                answers: { a: "Súrlódási erőnek.", b: "Gravitációs erőnek.", c: "Rugalmas erőnek." },
                correctAnswer: 'a',
                explanation: "A súrlódás egy olyan érintkezési kölcsönhatás, amely mindig a mozgás irányával ellentétesen hat, és gátolja a testek egymáson való elcsúszását. ✅ Megoldás: Súrlódási erőnek."
            },
            {
                question: "Ha egy nyíllal ábrázoljuk az erőt, mit jelképez a nyíl iránya?",
                answers: { a: "Az erő irányát.", b: "Az erő nagyságát.", c: "Az erő támadáspontját." },
                correctAnswer: 'a',
                explanation: "A vektormennyiségeket nyilakkal ábrázoljuk. A nyíl hegye mutatja a vektor irányát, a hossza pedig a nagyságát. ✅ Megoldás: Az erő irányát."
            },
            {
                question: "Mi a jele az erőnek a fizikai képletekben?",
                answers: { a: "F", b: "m", c: "t" },
                correctAnswer: 'a',
                explanation: "Az erőt az angol 'force' szó alapján általában F betűvel jelölik. Az 'm' a tömeg (mass), a 't' pedig az idő (time) jele. ✅ Megoldás: F."
            },
            {
                question: "A hatás-ellenhatás törvénye szerint a hatóerő és az ellenhatás...",
                answers: { a: "...mindig egyenlő nagyságú és ellentétes irányú.", b: "...mindig a nagyobb testre hat.", c: "...csak akkor egyenlő, ha a testek nyugalomban vannak." },
                correctAnswer: 'a',
                explanation: "Newton III. törvénye kimondja, hogy a kölcsönhatásban fellépő két erő (hatás és ellenhatás) minden esetben pontosan egyenlő nagyságú és egymással ellentétes irányú. ✅ Megoldás: ...mindig egyenlő nagyságú és ellentétes irányú."
            },
            // Kérdések 'b' helyes válasszal (9 db)
            {
                question: "Melyik fizikai mennyiség írja le a kölcsönhatás mértékét?",
                answers: { a: "A munka", b: "Az erő", c: "Az energia" },
                correctAnswer: 'b',
                explanation: "Az erő az a fizikai mennyiség, ami megadja, hogy a testek közötti kölcsönhatás milyen erős és milyen irányú. ✅ Megoldás: Az erő."
            },
            {
                question: "Melyik állítás igaz az erőre?",
                answers: { a: "Skalármennyiség.", b: "Vektormennyiség.", c: "Nincs mértékegysége." },
                correctAnswer: 'b',
                explanation: "Az erő vektormennyiség, mert a nagyságán (pl. 10 N) kívül az iránya is lényeges. A skalármennyiségeknek nincs irányuk. ✅ Megoldás: Vektormennyiség."
            },
            {
                question: "A Földön egy 1 kg tömegű testre kb. mekkora nehézségi erő hat?",
                answers: { a: "kb. 1 N", b: "kb. 10 N", c: "kb. 100 N" },
                correctAnswer: 'b',
                explanation: "A Földön a nehézségi gyorsulás (g) értéke körülbelül 10 m/s². A súly (erő) a tömeg és a nehézségi gyorsulás szorzata (F=m*g), így 1 kg * 10 m/s² = 10 N. ✅ Megoldás: kb. 10 N."
            },
            {
                question: "Ha egy test nyugalomban van egy lejtőn, mi tartja ott?",
                answers: { a: "A gravitációs erő.", b: "A súrlódási erő.", c: "A tehetetlensége." },
                correctAnswer: 'b',
                explanation: "A gravitációs erő a lejtő mentén lefelé húzná a testet. Ahhoz, hogy nyugalomban maradjon, egy másik erőnek kell ezt kiegyenlítenie. Ez az erő a lejtővel párhuzamos, felfelé mutató tapadási súrlódási erő. ✅ Megoldás: A súrlódási erő."
            },
            {
                question: "Ha egy nyíllal ábrázolunk egy 10 N-os erőt, és egy másik nyíllal egy 20 N-os erőt, akkor a második nyílnak...",
                answers: { a: "...fele olyan hosszúnak kell lennie.", b: "...kétszer olyan hosszúnak kell lennie.", c: "...ugyanolyan hosszúnak kell lennie." },
                correctAnswer: 'b',
                explanation: "A vektort jelölő nyíl hossza arányos a mennyiség nagyságával. Ha az erő kétszeres, a nyílnak is kétszer olyan hosszúnak kell lennie a helyes ábrázoláshoz. ✅ Megoldás: ...kétszer olyan hosszúnak kell lennie."
            },
            {
                question: "Mi az eredő erő?",
                answers: { a: "Az egy testre ható erők számtani átlaga.", b: "Az egy testre ható erők vektori összege.", c: "A legerősebb erő, ami a testre hat." },
                correctAnswer: 'b',
                explanation: "Az eredő erő az az egyetlen erő, amely ugyanazt a mozgásállapot-változást okozza, mint a testre ható erők együttesen. Az erők vektori összeadásával kapjuk meg. ✅ Megoldás: Az egy testre ható erők vektori összege."
            },
            {
                question: "Két kutya húz egy szánkót, mindketten 50 N erővel, de ellentétes irányban. Mekkora az eredő erő?",
                answers: { a: "100 N", b: "0 N", c: "50 N" },
                correctAnswer: 'b',
                explanation: "Mivel a két erő egyenlő nagyságú, de pontosan ellentétes irányú, a hatásuk kioltja egymást. A rájuk ható erők vektori összege, azaz az eredő erő nulla. A szánkó nem mozdul el (vagy nem változik a sebessége). ✅ Megoldás: 0 N."
            },
            {
                question: "Melyik erő tartja a bolygókat a Nap körüli pályájukon?",
                answers: { a: "Mágneses erő", b: "Gravitációs erő", c: "Rugalmas erő" },
                correctAnswer: 'b',
                explanation: "A Nap és a bolygók között ható tömegvonzási, azaz gravitációs erő biztosítja a keringéshez szükséges centripetális erőt, ami a bolygókat a pályájukon tartja. ✅ Megoldás: Gravitációs erő."
            },
            {
                question: "Milyen erő feszíti egy íj húrját, amikor megfeszítjük?",
                answers: { a: "Súrlódási erő", b: "Rugalmas erő", c: "Nehézségi erő" },
                correctAnswer: 'b',
                explanation: "Amikor egy rugalmas testet (mint az íj vagy egy gumiszalag) megnyújtunk vagy összenyomunk, benne egy erő ébred, ami igyekszik visszaállítani az eredeti alakját. Ezt nevezzük rugalmas erőnek. ✅ Megoldás: Rugalmas erő."
            },
            // Kérdések 'c' helyes válasszal (8 db)
            {
                question: "Mi az erő három jellemzője?",
                answers: { a: "Nagyság, irány, tömeg", b: "Nagyság, sebesség, irány", c: "Nagyság, irány, támadáspont" },
                correctAnswer: 'c',
                explanation: "Egy erőhatás teljes leírásához ismernünk kell a nagyságát (milyen erős), az irányát (merre hat) és a támadáspontját (a testen hol fejti ki a hatását). ✅ Megoldás: Nagyság, irány, támadáspont."
            },
            {
                question: "Ha egy testre nem hat erő, vagy a rá ható erők eredője nulla, akkor a test...",
                answers: { a: "...biztosan felgyorsul.", b: "...biztosan lelassul.", c: "...mozgásállapota nem változik." },
                correctAnswer: 'c',
                explanation: "Ez a tehetetlenség törvényének (Newton I. törvénye) a lényege. Erőhatás hiányában a test megtartja addigi mozgásállapotát: vagy nyugalomban marad, vagy egyenes vonalban, változatlan sebességgel mozog tovább. ✅ Megoldás: ...mozgásállapota nem változik."
            },
            {
                question: "A súrlódási erő iránya mindig...",
                answers: { a: "...a mozgás irányával megegyező.", b: "...függőlegesen lefelé mutat.", c: "...a mozgás irányával ellentétes." },
                correctAnswer: 'c',
                explanation: "A súrlódási erő egy mozgást akadályozó erő, ezért az iránya mindig ellentétes az elmozdulás vagy a mozgási szándék irányával. ✅ Megoldás: ...a mozgás irányával ellentétes."
            },
            {
                question: "Mi történik egy rugóval, ha erő hat rá?",
                answers: { a: "A tömege megnő.", b: "A színe megváltozik.", c: "Megváltozik az alakja (megnyúlik vagy összenyomódik)." },
                correctAnswer: 'c',
                explanation: "Az erő egyik lehetséges hatása az alakváltoztatás. A rugalmas testek, mint a rugó, erő hatására megváltoztatják az alakjukat, majd az erő megszűntével visszanyerik azt. ✅ Megoldás: Megváltozik az alakja (megnyúlik vagy összenyomódik)."
            },
            {
                question: "Melyik NEM erőfajta?",
                answers: { a: "Gravitációs erő", b: "Mágneses erő", c: "Hőmérséklet" },
                correctAnswer: 'c',
                explanation: "A hőmérséklet egy skalármennyiség, ami egy test belső energiájának állapotát jellemzi. Nem erő, nincs iránya és nem okoz közvetlenül mozgásállapot-változást. ✅ Megoldás: Hőmérséklet."
            },
            {
                question: "Ha egy követ feldobunk a levegőbe, a legmagasabb pontján mekkora az eredő erő, ami rá hat (a közegellenállástól eltekintve)?",
                answers: { a: "Nulla.", b: "A dobás ereje.", c: "A nehézségi erő." },
                correctAnswer: 'c',
                explanation: "Miután a kő elhagyta a kezünket, már csak a gravitáció hat rá (a levegő ellenállását elhanyagolva). A legmagasabb ponton a sebessége pillanatnyilag nulla, de a nehézségi erő ugyanúgy húzza lefelé, ezért fog elkezdeni visszaesni. ✅ Megoldás: A nehézségi erő."
            },
            {
                question: "Az asztalon lévő könyvre ható nehézségi erő és az asztal által a könyvre kifejtett tartóerő...",
                answers: { a: "...hatás-ellenhatás erők.", b: "...nem egyenlő nagyságúak.", c: "...kiegyenlítik egymást." },
                correctAnswer: 'c',
                explanation: "Ez a két erő ugyanarra a testre (a könyvre) hat. Mivel a könyv nyugalomban van, a rá ható erők eredője nulla, ami azt jelenti, hogy a két erő kiegyenlíti egymást. Nem hatás-ellenhatás pár, mert ugyanarra a testre hatnak. ✅ Megoldás: ...kiegyenlítik egymást."
            },
            {
                question: "Melyik mértékegységgel mérjük az erőt?",
                answers: { a: "méter", b: "kilogramm", c: "newton" },
                correctAnswer: 'c',
                explanation: "Az erő mértékegysége az SI rendszerben a newton (N). A méter a hosszúság, a kilogramm a tömeg mértékegysége. ✅ Megoldás: newton."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkButton = document.getElementById('check-button');
        const pinInput = document.getElementById('pin-input');
        const resultsContainer = document.getElementById('results');
        const adminPanel = document.getElementById('admin-panel');

        let shuffledQuizData = [];
        let internalCorrectAnswers = { a: 0, b: 0, c: 0 };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            quizData.forEach(q => {
                internalCorrectAnswers[q.correctAnswer]++;
            });

            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            
            let quizHTML = '';
            shuffledQuizData.forEach((q, index) => {
                quizHTML += `<div class="question-block" id="q-${index}">`;
                quizHTML += `<div class="question-text">${index + 1}. ${q.question}</div>`;
                quizHTML += `<div class="options-container">`;

                const options = Object.entries(q.answers);
                shuffleArray(options);

                options.forEach(([key, value]) => {
                    quizHTML += `<label>
                                    <input type="radio" name="question${index}" value="${key}">
                                    ${value}
                                 </label>`;
                });

                quizHTML += `</div>`;
                quizHTML += `<div class="explanation" id="exp-${index}">${q.explanation}</div>`;
                quizHTML += `</div>`;
            });
            quizContainer.innerHTML = quizHTML;
        }

        function checkAnswers() {
            const pin = pinInput.value;
            const isMasterPin = pin === '121909';
            const isStudentPin = pin >= 100001 && pin <= 100020;
            let score = 0;
            let allAnswered = true;

            if (!isMasterPin) {
                 for (let i = 0; i < shuffledQuizData.length; i++) {
                    const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                    if (!selectedOption) {
                        allAnswered = false;
                        break;
                    }
                }
            }
           
            if (!isMasterPin && !isStudentPin) {
                resultsContainer.textContent = "Érvénytelen PIN kód!";
                resultsContainer.style.color = '#D50000';
                return;
            }

            if (!allAnswered && !isMasterPin) {
                resultsContainer.textContent = "Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!";
                resultsContainer.style.color = 'orange';
                return;
            }
            resultsContainer.style.color = '#333'; // Reset color

            shuffledQuizData.forEach((q, index) => {
                const explanation = document.getElementById(`exp-${index}`);
                explanation.style.display = 'block';

                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);

                document.querySelectorAll(`input[name="question${index}"]`).forEach(option => {
                    const label = option.parentElement;
                    option.disabled = true;

                    // Reveal the correct answer for everyone
                    if (option.value === q.correctAnswer) {
                        label.classList.add('correct-answer-reveal');
                    }
                    
                    // Color student's specific choice if a student PIN is used
                    if(isStudentPin && selectedOption && selectedOption === option){
                        if(selectedOption.value !== q.correctAnswer){
                             label.classList.add('student-incorrect');
                        }
                    }
                });
                
                if (selectedOption && selectedOption.value === q.correctAnswer) {
                    score++;
                }
            });

            if(isMasterPin){
                resultsContainer.textContent = "Minden válasz és magyarázat felfedve.";
                adminPanel.style.display = 'block';
                document.getElementById('dist-a').textContent = internalCorrectAnswers.a;
                document.getElementById('dist-b').textContent = internalCorrectAnswers.b;
                document.getElementById('dist-c').textContent = internalCorrectAnswers.c;
            }

            if(isStudentPin){
                const percentage = Math.round((score / shuffledQuizData.length) * 100);
                resultsContainer.innerHTML = `Eredményed: ${score} / ${shuffledQuizData.length} (${percentage}%)`;
            }
        }
        
        pinInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                checkButton.click(); // Simulate a button click
            }
        });

        checkButton.addEventListener('click', checkAnswers);
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>

</body>
</html>