<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyakorló Kvíz - Mágneses jelenségek</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #D50000; /* Piros */
            text-align: center;
            border-bottom: 2px solid #D50000; /* Piros */
            padding-bottom: 10px;
        }
        #quiz-container {
            background-color: #ffffff; /* Fehér */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-block {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-of-type {
            border-bottom: none;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .options-container label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #ddd;
        }
        .options-container label:hover {
            background-color: #f9f9f9;
        }
        .options-container input[type="radio"] {
            margin-right: 10px;
        }
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e9; /* Világos zöld */
            border-left: 4px solid #008751; /* Zöld */
            border-radius: 4px;
        }
        #control-panel {
            text-align: center;
            padding: 20px;
            background-color: #ffffff; /* Fehér */
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        #pin-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #check-button {
            padding: 10px 20px;
            background-color: #D50000; /* Piros */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #check-button:hover {
            background-color: #a30000; /* Sötétebb piros */
        }
        #results {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
        }
        .correct-answer-reveal {
            background-color: #c8e6c9 !important; /* Zöld */
            border-color: #008751 !important; /* Zöld */
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }
        .admin-panel h3 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>

    <h1>Gyakorló Kvíz: Mágneses jelenségek</h1>

    <div id="control-panel">
        <input type="password" id="pin-input" placeholder="PIN kód">
        <button id="check-button">Ellenőrzés</button>
        <div id="results"></div>
        <div id="admin-panel" class="admin-panel">
            <h3>Adminisztrációs Panel</h3>
            <p>A helyes válaszok és a magyarázatok feloldva.</p>
            <p>Helyes válaszok eloszlása (a/b/c): <span id="dist-a"></span> / <span id="dist-b"></span> / <span id="dist-c"></span></p>
        </div>
    </div>

    <div id="quiz-container">
        <!-- A kvízkérdések ide generálódnak -->
    </div>

    <script>
        const quizData = [
            // Kérdések 'a' helyes válasszal (8 db)
            {
                question: "Hogyan hat egymásra két mágnes ellentétes nevű pólusa?",
                answers: {
                    a: "Vonzás jön létre közöttük.",
                    b: "Taszítás jön létre közöttük.",
                    c: "Nem hatnak egymásra."
                },
                correctAnswer: 'a',
                explanation: "A mágneses kölcsönhatás alaptörvénye, hogy az ellentétes pólusok (északi és déli) vonzzák egymást. A taszítás az azonos nevű pólusok (északi-északi vagy déli-déli) között lép fel. ✅ Megoldás: Vonzás jön létre közöttük."
            },
            {
                question: "Melyik eszköz működése alapul a Föld mágneses mezejének kihasználásán?",
                answers: {
                    a: "Iránytű",
                    b: "Távcső",
                    c: "Mikroszkóp"
                },
                correctAnswer: 'a',
                explanation: "Az iránytű egy szabadon elforgó mágnestű, amelynek északi pólusa mindig a Föld mágneses északi pólusa felé mutat. Ezzel segít a tájékozódásban. ✅ Megoldás: Iránytű."
            },
            {
                question: "Milyen anyagokat vonz a mágnes?",
                answers: {
                    a: "A ferromágneses anyagokat, mint a vasat.",
                    b: "Minden fémből készült tárgyat.",
                    c: "Csak más mágneseket."
                },
                correctAnswer: 'a',
                explanation: "A mágnesek az ún. ferromágneses anyagokat vonzzák, melyek legfontosabb képviselője a vas, de ide tartozik a nikkel és a kobalt is. Fontos tudni, hogy nem minden fém mágneses, például az alumíniumot vagy a rezet a mágnes nem vonzza. ✅ Megoldás: A ferromágneses anyagokat, mint a vasat."
            },
            {
                question: "Mi történik, ha egy mágnest kettétörünk?",
                answers: {
                    a: "Két kisebb mágnest kapunk, mindkettőnek van északi és déli pólusa.",
                    b: "Az egyik darab csak északi, a másik csak déli pólusú lesz.",
                    c: "A darabok elveszítik mágnesességüket."
                },
                correctAnswer: 'a',
                explanation: "A mágneses pólusokat nem lehet szétválasztani. Ha egy mágnest kettétörünk, a törési felületeknél új, ellentétes pólusok jönnek létre. Így két kisebb, de teljes értékű mágnest kapunk, melyeknek szintén van északi és déli pólusuk. ✅ Megoldás: Két kisebb mágnest kapunk, mindkettőnek van északi és déli pólusa."
            },
            {
                question: "Hogyan nevezzük a mágnes körüli teret, ahol a mágneses hatás érvényesül?",
                answers: {
                    a: "Mágneses mező",
                    b: "Gravitációs mező",
                    c: "Elektromos mező"
                },
                correctAnswer: 'a',
                explanation: "Azt a teret, amelyben a mágneses erőhatás kimutatható, mágneses mezőnek nevezzük. Ezt a mezőt szemléletesen mágneses erővonalakkal ábrázoljuk. ✅ Megoldás: Mágneses mező."
            },
            {
                question: "Mit mutat meg a mágneses erővonalak sűrűsége?",
                answers: {
                    a: "A mágneses mező erősségét.",
                    b: "A mágnes hőmérsékletét.",
                    c: "A mágnes anyagának sűrűségét."
                },
                correctAnswer: 'a',
                explanation: "A mágneses mezőt erővonalakkal szemléltetjük. Ahol az erővonalak sűrűbben helyezkednek el (jellemzően a pólusoknál), ott a mágneses mező erősebb. Ahol ritkábban, ott gyengébb a mező. ✅ Megoldás: A mágneses mező erősségét."
            },
            {
                question: "Mi az elektromágnes?",
                answers: {
                    a: "Egy vasmaggal ellátott tekercs, amelyben áram folyik.",
                    b: "Egy természetben előforduló mágneses kőzet.",
                    c: "Egy nagyon erős állandó mágnes."
                },
                correctAnswer: 'a',
                explanation: "Az elektromágnes egy tekercsből és a benne elhelyezett vasmagból áll. Mágneses hatása csak akkor jelentkezik, ha a tekercsben elektromos áram folyik. Az áram kikapcsolásával a mágnesesség megszűnik. ✅ Megoldás: Egy vasmaggal ellátott tekercs, amelyben áram folyik."
            },
            {
                question: "Mi a mágnes két pólusa?",
                answers: {
                    a: "Északi és déli pólus",
                    b: "Pozitív és negatív pólus",
                    c: "Keleti és nyugati pólus"
                },
                correctAnswer: 'a',
                explanation: "Minden mágnesnek két pólusa van: egy északi és egy déli pólus. Ezek a mágnes azon részei, ahol a mágneses vonzó- és taszítóerő a legerősebb. ✅ Megoldás: Északi és déli pólus. A pozitív és negatív a töltéseket jelöli az elektromosságban."
            },
            // Kérdések 'b' helyes válasszal (9 db)
            {
                question: "Hogyan hat egymásra két mágnes azonos nevű pólusa?",
                answers: {
                    a: "Vonzás jön létre közöttük.",
                    b: "Taszítás jön létre közöttük.",
                    c: "Néha vonzzák, néha taszítják egymást."
                },
                correctAnswer: 'b',
                explanation: "A mágneses kölcsönhatás alaptörvénye, hogy az azonos nevű pólusok (északi az északival, déli a délivel) taszítják egymást. ✅ Megoldás: Taszítás jön létre közöttük."
            },
            {
                question: "Merre mutatnak a mágneses erővonalak a mágnesen kívül?",
                answers: {
                    a: "A déli pólustól az északi pólus felé.",
                    b: "Az északi pólustól a déli pólus felé.",
                    c: "Párhuzamosan a mágnessel."
                },
                correctAnswer: 'b',
                explanation: "Megegyezés szerint a mágneses erővonalak a mágnesen kívül az északi pólusból indulnak ki és a déli pólusba érkeznek. Az erővonalak iránya azt mutatja, merre állna be egy apró iránytű északi pólusa. ✅ Megoldás: Az északi pólustól a déli pólus felé."
            },
            {
                question: "Melyik NEM ferromágneses anyag?",
                answers: {
                    a: "Vas",
                    b: "Alumínium",
                    c: "Nikkel"
                },
                correctAnswer: 'b',
                explanation: "A vas és a nikkel ferromágneses anyagok, ami azt jelenti, hogy a mágnes erősen vonzza őket. Az alumínium azonban nem mágneses anyag, így a mágnes nem hat rá. ✅ Megoldás: Alumínium."
            },
            {
                question: "Melyik állítás igaz az iránytűre?",
                answers: {
                    a: "Az iránytű déli pólusa mutat a Föld északi sarka felé.",
                    b: "Az iránytű északi pólusa mutat a Föld mágneses északi pólusa felé.",
                    c: "Az iránytű bármerre mutathat, ha megrázzuk."
                },
                correctAnswer: 'b',
                explanation: "Az iránytű egy kis mágnestű. Mivel az ellentétes pólusok vonzzák egymást, az iránytű északi pólusa a Föld mágneses déli pólusa felé mutat, ami a földrajzi Északi-sark közelében van. A mindennapi szóhasználatban ezt egyszerűsítve mondjuk úgy, hogy a Föld mágneses északi pólusa felé mutat. ✅ Megoldás: Az iránytű északi pólusa mutat a Föld mágneses északi pólusa felé."
            },
            {
                question: "Mitől vesztheti el egy mágnes az erejét?",
                answers: {
                    a: "Ha hideg vízbe tesszük.",
                    b: "Ha erősen megütögetjük vagy felhevítjük.",
                    c: "Ha egy másik mágnes mellé tesszük."
                },
                correctAnswer: 'b',
                explanation: "A mágnesesség az anyag belső, rendezett szerkezetének köszönhető. Erős ütögetés (rezgés) vagy magas hőmérséklet hatására ez a belső rend felbomlik, így a mágnes elveszíti erejét, vagyis demagnetizálódik. ✅ Megoldás: Ha erősen megütögetjük vagy felhevítjük."
            },
            {
                question: "Hol a legerősebb a mágnes vonzereje?",
                answers: {
                    a: "A közepén.",
                    b: "A pólusoknál.",
                    c: "Mindenhol egyforma."
                },
                correctAnswer: 'b',
                explanation: "A mágneses erő a pólusoknál, azaz a mágnes két végén a legerősebb. Itt a legsűrűbbek a mágneses erővonalak. A mágnes közepe felé haladva a mágneses hatás gyengül. ✅ Megoldás: A pólusoknál."
            },
            {
                question: "Mi NEM jellemző a mágneses mezőre?",
                answers: {
                    a: "Vannak erővonalai.",
                    b: "Látható és tapintható.",
                    c: "Kölcsönhatásba lép a vasreszelékkel."
                },
                correctAnswer: 'b',
                explanation: "A mágneses mező egy anyagi mező, amely láthatatlan az emberi szem számára. A létezését a hatásai alapján tudjuk kimutatni, például vasreszelék segítségével, amely kirajzolja a mágneses erővonalakat. ✅ Megoldás: Látható és tapintható."
            },
            {
                question: "Milyen kölcsönhatás lép fel egy mágnes és egy gémkapocs között?",
                answers: {
                    a: "Taszítás",
                    b: "Mágneses vonzás",
                    c: "Nincs kölcsönhatás"
                },
                correctAnswer: 'b',
                explanation: "A gémkapocs vasból készül, ami ferromágneses anyag. A mágnes vonzza a ferromágneses anyagokat, ezért a mágnes és a gémkapocs között vonzás lép fel. Ezt a jelenséget mágneses megosztásnak is nevezik. ✅ Megoldás: Mágneses vonzás."
            },
            {
                question: "Miért lebeghet egyik mágnes a másik felett anélkül, hogy hozzáérne?",
                answers: {
                    a: "Mert a gravitáció ott nem működik.",
                    b: "Mert az azonos pólusaik taszítják egymást.",
                    c: "Mert a levegő sűrűbb közöttük."
                },
                correctAnswer: 'b',
                explanation: "Ha két mágnes azonos pólusait (pl. két északi pólust) fordítjuk egymás felé, akkor azok taszítóerőt fejtenek ki egymásra. Ha a felső mágnes súlya kisebb, mint ez a taszítóerő, akkor a mágnes lebegni fog. ✅ Megoldás: Mert az azonos pólusaik taszítják egymást."
            },
            // Kérdések 'c' helyes válasszal (8 db)
            {
                question: "A Föld... viselkedik úgy, mint egy hatalmas mágnes.",
                answers: {
                    a: "mágneses mezeje",
                    b: "gravitációs mezeje",
                    c: "maga a bolygó"
                },
                correctAnswer: 'c',
                explanation: "A Föld belsejében lévő, olvadt vas mozgása miatt a bolygónk egy hatalmas mágnesként viselkedik, amelynek van északi és déli mágneses pólusa. Ez a mágneses mező véd minket a káros kozmikus sugárzásoktól. ✅ Megoldás: maga a bolygó."
            },
            {
                question: "Melyik állítás HAMIS?",
                answers: {
                    a: "Az iránytű egy mágnestű.",
                    b: "A Földnek van mágneses mezeje.",
                    c: "Minden fém mágneses."
                },
                correctAnswer: 'c',
                explanation: "Ez az állítás hamis. Csak a ferromágneses fémek (pl. vas, nikkel, kobalt) mutatnak erős mágneses tulajdonságokat. Sok fém, mint például az alumínium, a réz, az arany vagy az ezüst, nem vonzódik a mágneshez. ✅ Megoldás: Minden fém mágneses."
            },
            {
                question: "Mit jelent a mágneses megosztás?",
                answers: {
                    a: "A mágnes kettétörését.",
                    b: "A mágnes erejének megosztását több tárgy között.",
                    c: "Amikor egy mágnes hatására egy vasdarab is mágnesként viselkedik."
                },
                correctAnswer: 'c',
                explanation: "Ha egy mágnest egy vasdarab (pl. egy szög) közelébe helyezünk, a vasdarab a mágneses mező hatására maga is ideiglenes mágnessé válik. Ennek is lesznek pólusai, és képes lesz vonzani más vas tárgyakat. Ezt a jelenséget hívjuk mágneses megosztásnak. ✅ Megoldás: Amikor egy mágnes hatására egy vasdarab is mágnesként viselkedik."
            },
            {
                question: "Milyen alakúak a mágneses erővonalak egy rúdmágnes körül?",
                answers: {
                    a: "Egyenes vonalak.",
                    b: "Koncentrikus körök.",
                    c: "Zárt görbék, amelyek a pólusoknál sűrűsödnek."
                },
                correctAnswer: 'c',
                explanation: "A mágneses erővonalak mindig zárt görbék. Egy rúdmágnes esetében az északi pólusból indulnak ki, ívesen haladnak a déli pólus felé, majd a mágnes belsejében záródnak. A pólusoknál a legsűrűbbek, jelezve az erős mágneses teret. ✅ Megoldás: Zárt görbék, amelyek a pólusoknál sűrűsödnek."
            },
            {
                question: "Mi az a magnetit?",
                answers: {
                    a: "Egy mesterségesen előállított erős mágnes.",
                    b: "Az iránytű tűjének anyaga.",
                    c: "Egy természetben előforduló mágneses ásvány."
                },
                correctAnswer: 'c',
                explanation: "A magnetit, más néven mágnesvasérc, egy természetben előforduló ásvány, amelynek mágneses tulajdonságai vannak. Az ókorban ezt a követ használták első iránytűként. ✅ Megoldás: Egy természetben előforduló mágneses ásvány."
            },
            {
                question: "Hogyan lehet egy vasdarabot (pl. egy csavarhúzót) felmágnesezni?",
                answers: {
                    a: "Forró vízbe kell tenni.",
                    b: "Le kell ejteni a földre.",
                    c: "Egy erős mágnessel többször egy irányba végig kell simítani."
                },
                correctAnswer: 'c',
                explanation: "Egy vasdarabot úgy lehet felmágnesezni, ha egy állandó mágnes egyik pólusával többször, következetesen egy irányba végighúzzuk a felületén. Ez rendezi a vasdarab belső szerkezetét, így az ideiglenesen mágnessé válik. ✅ Megoldás: Egy erős mágnessel többször egy irányba végig kell simítani."
            },
            {
                question: "Mi a közös a Föld mágneses mezejében és egy rúdmágnes mezejében?",
                answers: {
                    a: "Mindkettő erőssége állandóan változik.",
                    b: "Mindkettő vonzza a műanyagot.",
                    c: "Mindkettőnek van északi és déli pólusa."
                },
                correctAnswer: 'c',
                explanation: "A Föld mágneses mezeje nagyon hasonló egy óriási rúdmágnes mezejéhez. Mindkettőnek van egy északi és egy déli pólusa, és a mágneses erővonalak hasonló mintázatot mutatnak. ✅ Megoldás: Mindkettőnek van északi és déli pólusa."
            },
            {
                question: "Melyik folyamat NEM használ elektromágnest?",
                answers: {
                    a: "Autóbontóban a fémhulladék emelése.",
                    b: "Elektromos csengő működése.",
                    c: "Egy iránytű használata tájékozódásra."
                },
                correctAnswer: 'c',
                explanation: "Az iránytű egy állandó mágnest tartalmaz, amely a Föld mágneses mezejéhez igazodik. Működéséhez nincs szükség elektromos áramra. Ezzel szemben az autóbontó darui és az elektromos csengők erős elektromágneseket használnak, amelyek ki- és bekapcsolhatók. ✅ Megoldás: Egy iránytű használata tájékozódásra."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkButton = document.getElementById('check-button');
        const pinInput = document.getElementById('pin-input');
        const resultsContainer = document.getElementById('results');
        const adminPanel = document.getElementById('admin-panel');

        let shuffledQuizData = [];
        let internalCorrectAnswers = { a: 0, b: 0, c: 0 };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            quizData.forEach(q => {
                internalCorrectAnswers[q.correctAnswer]++;
            });

            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            
            let quizHTML = '';
            shuffledQuizData.forEach((q, index) => {
                quizHTML += `<div class="question-block" id="q-${index}">`;
                quizHTML += `<div class="question-text">${index + 1}. ${q.question}</div>`;
                quizHTML += `<div class="options-container">`;

                const options = Object.entries(q.answers);
                shuffleArray(options);

                options.forEach(([key, value]) => {
                    quizHTML += `<label>
                                    <input type="radio" name="question${index}" value="${key}">
                                    ${value}
                                 </label>`;
                });

                quizHTML += `</div>`;
                quizHTML += `<div class="explanation" id="exp-${index}">${q.explanation}</div>`;
                quizHTML += `</div>`;
            });
            quizContainer.innerHTML = quizHTML;
        }

        function checkAnswers() {
            const pin = pinInput.value;
            const isMasterPin = pin === '121909';
            const isStudentPin = pin >= 100001 && pin <= 100020;
            let score = 0;
            let allAnswered = true;

            if (!isMasterPin) {
                 for (let i = 0; i < shuffledQuizData.length; i++) {
                    const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                    if (!selectedOption) {
                        allAnswered = false;
                        break;
                    }
                }
            }
           
            if (!isMasterPin && !isStudentPin) {
                resultsContainer.textContent = "Érvénytelen PIN kód!";
                return;
            }

            if (!allAnswered && !isMasterPin) {
                resultsContainer.textContent = "Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!";
                return;
            }

            shuffledQuizData.forEach((q, index) => {
                const explanation = document.getElementById(`exp-${index}`);
                explanation.style.display = 'block';

                const options = document.querySelectorAll(`input[name="question${index}"]`);
                options.forEach(option => {
                    const label = option.parentElement;
                    
                    if (option.value === q.correctAnswer) {
                        if (isMasterPin) {
                            label.classList.add('correct-answer-reveal');
                        }
                        if (option.checked) {
                            score++;
                        }
                    }
                    option.disabled = true;
                });
            });

            if(isMasterPin){
                resultsContainer.textContent = "Minden válasz és magyarázat felfedve.";
                adminPanel.style.display = 'block';
                document.getElementById('dist-a').textContent = internalCorrectAnswers.a;
                document.getElementById('dist-b').textContent = internalCorrectAnswers.b;
                document.getElementById('dist-c').textContent = internalCorrectAnswers.c;
            }

            if(isStudentPin){
                const percentage = Math.round((score / shuffledQuizData.length) * 100);
                resultsContainer.innerHTML = `Eredményed: ${score} / ${shuffledQuizData.length} (${percentage}%)`;
            }
        }

        checkButton.addEventListener('click', checkAnswers);
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>

</body>
</html>