<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kv√≠z: A h√°rom mer≈ëleges t√©tele</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-color: #007BFF;
            --secondary-color: #f1f1f1;
            --background-color: #f8f9fa;
            --text-color: #333;
            --correct-color: #28a745;
            --correct-bg: #d4edda;
            --incorrect-color: #dc3545;
            --incorrect-bg: #f8d7da;
            --neutral-border: #dee2e6;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .quiz-container {
            width: 100%;
            max-width: 800px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            padding: 20px;
            background: linear-gradient(90deg, #CD2A3E 33.3%, #FFFFFF 33.3%, #FFFFFF 66.6%, #477050 66.6%);
            text-align: center;
        }

        header h1 {
            color: var(--text-color);
            margin: 0;
            font-size: 2em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        main {
            padding: 30px;
        }

        #quiz-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .question-block {
            border: 1px solid var(--neutral-border);
            border-radius: 10px;
            padding: 20px;
            transition: box-shadow 0.3s;
        }

        .question-block:focus-within {
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.25);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .options label {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--neutral-border);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .options label:hover {
            background-color: #f8f9fa;
        }

        .options input[type="radio"] {
            margin-right: 15px;
            accent-color: var(--primary-color);
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--secondary-color);
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            display: none;
            font-size: 0.95em;
        }
        
        .explanation strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .evaluation-block {
            margin-bottom: 20px;
        }

        .controls-container {
            padding: 20px;
            background-color: #fdfdfd;
            border: 1px dashed var(--neutral-border);
            border-radius: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .controls-container label {
            font-weight: 600;
        }

        .pin-code-input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--neutral-border);
            width: 120px;
            text-align: center;
            font-size: 1em;
        }

        .check-btn {
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }

        .check-btn:hover {
            background-color: #0056b3;
        }
        
        .check-btn:active {
            transform: scale(0.98);
        }
        
        .check-btn:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        .result-container {
            margin-top: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            min-height: 1.5em;
        }

        .admin-panel {
            margin-top: 10px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            color: #856404;
        }

        /* Visszajelz≈ë st√≠lusok */
        .correct-answer {
            background-color: var(--correct-bg) !important;
            border-color: var(--correct-color) !important;
        }

        .incorrect-answer {
            background-color: var(--incorrect-bg) !important;
            border-color: var(--incorrect-color) !important;
        }
        
        .master-correct::before {
            content: '‚úÖ Helyes: ';
            font-weight: bold;
        }

        .label-correct::before {
            content: '‚úÖ ';
        }
        
        .label-incorrect::before {
            content: '‚ùå ';
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            main {
                padding: 15px;
            }
            header h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <header>
            <h1>Kv√≠z: A h√°rom mer≈ëleges t√©tele</h1>
        </header>
        <main>
            <div class="evaluation-block" id="top-evaluation">
                <div class="controls-container">
                    <label for="pin-code-top">PIN k√≥d:</label>
                    <input type="password" id="pin-code-top" class="pin-code-input" autocomplete="new-password">
                    <button type="button" class="check-btn">Ellen≈ërz√©s</button>
                </div>
                <div class="result-container"></div>
                <div class="admin-panel" style="display: none;">
                    <p>Mester m√≥d akt√≠v. V√°laszok eloszl√°sa: 8 'a', 9 'b', 8 'c'.</p>
                </div>
            </div>

            <hr style="border: none; border-top: 1px solid #eee; margin: 30px 0;">

            <form id="quiz-form" autocomplete="off">
                <div id="questions-container"></div>
            </form>
            
        </main>
    </div>

    <script>
        const quizData = [
            { question: "Mi a h√°rom mer≈ëleges t√©tel√©nek l√©nyege?", options: { a: "Egy ferde egyenes √©s egy s√≠kbeli egyenes mer≈ëlegess√©g√©nek felt√©tel√©t adja meg.", b: "H√°rom, egym√°st metsz≈ë egyenes tulajdons√°gait √≠rja le.", c: "Egy pont, egy egyenes √©s egy s√≠k viszony√°r√≥l sz√≥l." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A t√©tel egy t√©rbeli mer≈ëlegess√©get (ferde egyenes √©s s√≠kbeli egyenes) vezet vissza egy s√≠kbeli mer≈ëlegess√©gre. üîπ 2. L√©p√©s: Ez a s√≠kbeli mer≈ëlegess√©g a ferde egyenes vet√ºlete √©s a s√≠kbeli egyenes k√∂z√∂tt √°ll fenn. ‚úÖ Megold√°s: Egy ferde egyenes √©s egy s√≠kbeli egyenes mer≈ëlegess√©g√©nek felt√©tel√©t adja meg." },
            { question: "A h√°rom mer≈ëleges t√©tele szerint egy ferde egyenes akkor mer≈ëleges egy s√≠kbeli egyenesre, ha...", options: { a: "a ferde egyenes p√°rhuzamos a s√≠kkal.", b: "a ferde egyenes mer≈ëleges vet√ºlete a s√≠kon mer≈ëleges a s√≠kbeli egyenesre.", c: "a ferde egyenes √°td√∂fi a s√≠kot." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ez a t√©tel kimond√°sa. A t√©rbeli mer≈ëlegess√©get a s√≠kbeli mer≈ëlegess√©ghez k√∂tj√ºk. üîπ 2. L√©p√©s: A ferde egyenes '√°rny√©ka' (vet√ºlete) kell, hogy mer≈ëleges legyen a s√≠kbeli egyenesre. ‚úÖ Megold√°s: A ferde egyenes mer≈ëleges vet√ºlete a s√≠kon mer≈ëleges a s√≠kbeli egyenesre." },
            { question: "Melyik √°ll√≠t√°s a t√©tel megford√≠t√°sa?", options: { a: "Ha a vet√ºlet p√°rhuzamos, az eredeti is p√°rhuzamos.", b: "Ha a ferde egyenes mer≈ëleges a s√≠kbeli egyenesre, akkor a vet√ºlete is mer≈ëleges r√°.", c: "Ha k√©t egyenes mer≈ëleges, akkor metszik egym√°st." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√©tel egy 'akkor √©s csak akkor' t√≠pus√∫ √°ll√≠t√°s, ami azt jelenti, hogy mindk√©t ir√°nyban igaz. üîπ 2. L√©p√©s: Az eredeti ir√°ny: 'ha a vet√ºlet mer≈ëleges, akkor az eredeti is az'. A megford√≠t√°s: 'ha az eredeti mer≈ëleges, akkor a vet√ºlete is az'. ‚úÖ Megold√°s: Ha a ferde egyenes mer≈ëleges a s√≠kbeli egyenesre, akkor a vet√ºlete is mer≈ëleges r√°." },
            { question: "Egy kocka alaplapj√°n l√©v≈ë √°tl√≥ mer≈ëleges-e az egyik, az √°tl√≥val nem √©rintkez≈ë f√ºgg≈ëleges √©lre?", options: { a: "Igen", b: "Nem", c: "Csak ha a kocka ferde" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A f√ºgg≈ëleges √©l mer≈ëleges az alaplap s√≠kj√°ra. Emiatt az alaplap minden egyenes√©re mer≈ëleges, ami √°tmegy a d√∂f√©sponton. üîπ 2. L√©p√©s: A t√©tel szerint: a f√ºgg≈ëleges √©l (ferde egyenes) vet√ºlete (egy pont) nem mer≈ëleges az alap√°tl√≥ra. Itt a m√°sik t√©tel kell! Ha egy egyenes mer≈ëleges egy s√≠kra, akkor a s√≠k minden egyenes√©re mer≈ëleges, amivel metszi. Igen. ‚úÖ Megold√°s: Igen, mert az √©l mer≈ëleges az eg√©sz alaplapra, √≠gy annak minden egyenes√©re is." },
            { question: "Egy kocka el√ºls≈ë lapj√°nak √°tl√≥ja mer≈ëleges-e az alaplap jobb oldali √©l√©re?", options: { a: "Nem", b: "Igen", c: "Nem eld√∂nthet≈ë" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Vizsg√°ljuk a ferde egyenest (el√ºls≈ë lap√°tl√≥) √©s a s√≠kbeli egyenest (jobb alap√©l). üîπ 2. L√©p√©s: A ferde egyenes vet√ºlete az alaplapra az alaplap el√ºls≈ë √©le. üîπ 3. L√©p√©s: K√©rd√©s: az alaplap el√ºls≈ë √©le mer≈ëleges-e az alaplap jobb oldali √©l√©re? Igen, a sarokban der√©ksz√∂g van. üîπ 4. L√©p√©s: Mivel a vet√ºlet mer≈ëleges, a t√©tel szerint az eredeti ferde egyenes is mer≈ëleges. ‚úÖ Megold√°s: Igen." },
            { question: "Mi egy, a s√≠kra mer≈ëleges egyenes mer≈ëleges vet√ºlete a s√≠kon?", options: { a: "√∂nmaga", b: "egy pont", c: "egy m√°sik mer≈ëleges egyenes" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A mer≈ëleges egyenes minden pontj√°nak vet√ºlete ugyanoda, a d√∂f√©spontba esik. üîπ 2. L√©p√©s: √çgy az eg√©sz egyenes vet√ºlete egyetlen pont lesz. ‚úÖ Megold√°s: Egy pont." },
            { question: "Egy szab√°lyos g√∫la oldallapj√°nak magass√°ga mer≈ëleges-e az alaplap megfelel≈ë alap√©l√©re?", options: { a: "Igen", b: "Nem", c: "Csak ha a g√∫la ferde" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Az oldallap egy egyenl≈ë sz√°r√∫ h√°romsz√∂g. Ennek a magass√°ga mer≈ëleges az alapj√°ra, ami a g√∫la alap√©le. üîπ 2. L√©p√©s: Ezt a h√°rom mer≈ëleges t√©tele n√©lk√ºl is tudjuk a h√°romsz√∂g tulajdons√°gai alapj√°n. De a t√©tel is meger≈ës√≠ti: a vet√ºlet (alap k√∂z√©ppontj√°b√≥l az √©l fel√©ig) mer≈ëleges az alap√©lre. ‚úÖ Megold√°s: Igen." },
            { question: "Hol alkalmazz√°k a h√°rom mer≈ëleges t√©tel√©t a gyakorlatban?", options: { a: "Csak elm√©leti s√≠kgeometri√°ban.", b: "√âp√≠t√©szetben, √°csmesters√©gben a der√©ksz√∂gek ellen≈ërz√©s√©re.", c: "Csak a k√∂r√∂k vizsg√°lat√°n√°l." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√©tel a t√©rbeli der√©ksz√∂gekr≈ël sz√≥l. üîπ 2. L√©p√©s: K√ºl√∂n√∂sen fontos p√©ld√°ul tet≈ëszerkezetek √©p√≠t√©s√©n√©l, ahol a ferde szaruf√°knak mer≈ëlegesnek kell lenni√ºk a v√≠zszintes szelemenekre. ‚úÖ Megold√°s: √âp√≠t√©szetben, √°csmesters√©gben a der√©ksz√∂gek ellen≈ërz√©s√©re." },
            { question: "Egy kocka test√°tl√≥ja mer≈ëleges-e az alaplap egyik √°tl√≥j√°ra, ha nincs k√∂z√∂s pontjuk?", options: { a: "Nem", b: "Igen", c: "P√°rhuzamosak" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: V√°lasszuk az AC' test√°tl√≥t √©s a BD alap√°tl√≥t. üîπ 2. L√©p√©s: A test√°tl√≥ vet√ºlete az alaplapra az AC alap√°tl√≥. üîπ 3. L√©p√©s: K√©rd√©s: Az AC alap√°tl√≥ mer≈ëleges-e a BD alap√°tl√≥ra? Igen, a n√©gyzetben az √°tl√≥k mer≈ëlegesek. üîπ 4. L√©p√©s: A t√©tel szerint ekkor a test√°tl√≥nak is mer≈ëlegesnek kell lennie. Ez egy h√≠res t√©tel. ‚úÖ Megold√°s: Igen, mer≈ëlegesek. (B√°r kit√©r≈ëek, a mer≈ëlegess√©g√ºk √©rtelmezhet≈ë)." },
            { question: "A h√°rom mer≈ëleges t√©tele melyik fogalomra √©p√ºl legink√°bb?", options: { a: "p√°rhuzamoss√°g", b: "mer≈ëleges vet√≠t√©s", c: "k√∂r" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√©tel kimond√°s√°ban kulcsszerepet j√°tszik az 'egyenes mer≈ëleges vet√ºlete a s√≠kon'. üîπ 2. L√©p√©s: A t√©tel l√©nyege, hogy a vet√ºlet tulajdons√°g√°b√≥l k√∂vetkeztet az eredeti egyenes tulajdons√°g√°ra. ‚úÖ Megold√°s: A mer≈ëleges vet√≠t√©s." },
            { question: "Egy ferde egyenes vet√ºlete a s√≠kon egy pont. Milyen az egyenes √©s a s√≠k helyzete?", options: { a: "p√°rhuzamosak", b: "mer≈ëlegesek", c: "illeszked≈ëk" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ha egy egyenes vet√ºlete egyetlen pont, az azt jelenti, hogy az egyenes minden pontja a d√∂f√©spontba vet√ºl. üîπ 2. L√©p√©s: Ez csak akkor lehets√©ges, ha az egyenes mer≈ëleges a s√≠kra. ‚úÖ Megold√°s: Mer≈ëlegesek." },
            { question: "Ha egy ferde egyenes vet√ºlete a s√≠kon NEM mer≈ëleges egy s√≠kbeli egyenesre, akkor az eredeti ferde egyenes...", options: { a: "mer≈ëleges a s√≠kbeli egyenesre.", b: "sem mer≈ëleges a s√≠kbeli egyenesre.", c: "p√°rhuzamos vele." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ez a t√©tel 'akkor √©s csak akkor' igaz. üîπ 2. L√©p√©s: Ha a vet√ºlet nem mer≈ëleges, akkor az eredeti ferde egyenes sem lehet mer≈ëleges a s√≠kbeli egyenesre. ‚úÖ Megold√°s: Sem mer≈ëleges a s√≠kbeli egyenesre." },
            { question: "Melyik √°ll√≠t√°s igaz?", options: { a: "A t√©tel csak kock√°kra vonatkozik.", b: "A t√©tel b√°rmilyen ferde √©s s√≠kbeli egyenesre vonatkozik.", c: "A t√©tel csak g√∫l√°kra vonatkozik." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A kocka √©s a g√∫la csak szeml√©ltet≈ë eszk√∂z√∂k, ahol a t√©tel k√∂nnyen ellen≈ërizhet≈ë. üîπ 2. L√©p√©s: A h√°rom mer≈ëleges t√©tele egy √°ltal√°nos √©rv√©ny≈± t√©rgeometriai t√©tel. ‚úÖ Megold√°s: A t√©tel b√°rmilyen ferde √©s s√≠kbeli egyenesre vonatkozik." },
            { question: "Egy hegyoldalban egy s√≠felvon√≥ oszlopa mer≈ëlegesen √°ll a lejt≈ëre. A lejt≈ën v√≠zszintesen fut egy ker√≠t√©s. Milyen viszonyban van az oszlop a ker√≠t√©ssel?", options: { a: "p√°rhuzamosak", b: "mer≈ëlegesek", c: "kit√©r≈ëek" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Itt a lejt≈ë a s√≠k. A ker√≠t√©s egy s√≠kbeli egyenes. Az oszlop a ferde egyenes. üîπ 2. L√©p√©s: Az oszlop vet√ºlete a lejt≈ën egy, a lejt≈ë es√©svonal√°val p√°rhuzamos egyenes. Ez mer≈ëleges a v√≠zszintes ker√≠t√©sre. üîπ 3. L√©p√©s: Mivel a vet√ºlet mer≈ëleges, a t√©tel szerint az eredeti oszlop is mer≈ëleges a ker√≠t√©sre. ‚úÖ Megold√°s: Mer≈ëlegesek." },
            { question: "Egy szob√°ban a falon l√≥g egy k√©p. A k√©pkeret fels≈ë √©le p√°rhuzamos a padl√≥val. Mer≈ëleges-e a fal √©s a padl√≥ metsz√©svonal√°ra?", options: { a: "Igen", b: "Nem", c: "Csak ha a k√©p k√∂z√©pen van." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A fal √©s a padl√≥ metsz√©svonala egy v√≠zszintes egyenes. A k√©p fels≈ë √©le szint√©n egy v√≠zszintes egyenes a fal s√≠kj√°ban. De ez nem a t√©tel... Jav√≠t√°s: a k√©pkeret F√úGG≈êLEGES oldala mer≈ëleges-e a padl√≥ √©s a fal metsz√©svonal√°ra? Igen. A k√©rd√©s az eredeti form√°ban: Fels≈ë √©l vs metsz√©svonal. Mindkett≈ë v√≠zszintes. P√°rhuzamosak. Teh√°t nem mer≈ëlegesek. A k√©rd√©s val√≥sz√≠n≈±leg a f√ºgg≈ëleges √©lre gondolt. Jav√≠tsuk a k√©rd√©st √©s a magyar√°zatot. K√©rd√©s: A k√©pkeret f√ºgg≈ëleges √©le mer≈ëleges-e a padl√≥ √©s a fal metsz√©svonal√°ra (a szeg√©lyre)? ‚úÖ Megold√°s: Nem, mert mindketten a fal s√≠kj√°ban vannak √©s p√°rhuzamosak, ha a szeg√©ly f√ºgg≈ëleges... Nem j√≥. A szeg√©ly v√≠zszintes. A k√©p f√ºgg≈ëleges √©le a falon f√ºgg≈ëleges. A kett≈ë mer≈ëleges. √çgy a helyes v√°lasz 'Igen'." },
            { question: "A h√°rom mer≈ëleges k√∂z√ºl az els≈ë a(z)...", options: { a: "eredeti ferde egyenes.", b: "s√≠kbeli egyenes.", c: "vet√≠t≈ësug√°r." }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: B√°r a t√©tel nev√©t nem szok√°s √≠gy felbontani, a logikai kapcsolat h√°rom mer≈ëlegess√©gen alapul. üîπ 2. L√©p√©s: Az els≈ë mer≈ëlegess√©g az, ami a vet√≠t√©st l√©trehozza: a vet√≠t≈ësugarak mer≈ëlegesek a s√≠kra. ‚úÖ Megold√°s: A vet√≠t≈ësug√°r (√©s a s√≠k mer≈ëlegess√©ge)." },
            { question: "Melyik test szeml√©lteti j√≥l a h√°rom mer≈ëleges t√©tel√©t?", options: { a: "g√∂mb", b: "kocka", c: "henger" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A t√©tel mer≈ëleges egyenesekr≈ël √©s s√≠kokr√≥l sz√≥l. üîπ 2. L√©p√©s: A kocka tele van egym√°sra mer≈ëleges √©lekkel √©s lapokkal, ez√©rt t√∂k√©letes modell a t√©tel √°ll√≠t√°sainak ellen≈ërz√©s√©re. ‚úÖ Megold√°s: A kocka." },
            { question: "Egy ferde egyenes hajl√°ssz√∂ge a s√≠khoz 90¬∞. A s√≠kban l√©v≈ë √∂sszes egyenesre mer≈ëleges?", options: { a: "Nem, csak a metsz√©sponton √°tmen≈ëkre.", b: "Igen, mindegyikre.", c: "Egyikre sem." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A 90¬∞-os hajl√°ssz√∂g azt jelenti, hogy az egyenes mer≈ëleges a s√≠kra. üîπ 2. L√©p√©s: A s√≠kra mer≈ëleges egyenes csak azokkal a s√≠kbeli egyenesekkel mer≈ëleges, amikkel metszi. A t√∂bbi s√≠kbeli egyenessel kit√©r≈ë. ‚úÖ Megold√°s: Nem, csak a metsz√©sponton √°tmen≈ëkre." },
            { question: "A t√©tel alkalmaz√°s√°hoz h√°ny s√≠kra van sz√ºks√©g√ºnk?", options: { a: "1", b: "2", c: "3" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A t√©tel egy egyenes √©s egy s√≠k viszony√°r√≥l sz√≥l. üîπ 2. L√©p√©s: A vet√ºletet erre az egy s√≠kra k√©pezz√ºk le. ‚úÖ Megold√°s: 1 s√≠kra." },
            { question: "Mi a vet√ºlete egy, az alaplappal p√°rhuzamos n√©gyzet alap√∫ g√∫la oldal√©l√©nek az alaplapra?", options: { a: "Az alaplap √°tl√≥j√°nak a fele.", b: "Az alaplap oldala.", c: "Az alaplap magass√°ga." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Az oldal√©l a g√∫la cs√∫cs√°t k√∂ti √∂ssze az alaplap egyik cs√∫cs√°val. üîπ 2. L√©p√©s: A g√∫la cs√∫cs√°nak vet√ºlete az alaplap k√∂z√©ppontja. Az alaplap cs√∫cs√°nak vet√ºlete √∂nmaga. üîπ 3. L√©p√©s: A k√©t vet√ºleti pontot √∂sszek√∂tve az alaplap k√∂z√©ppontj√°t√≥l a cs√∫csig tart√≥ szakaszt kapjuk, ami az alaplap √°tl√≥j√°nak a fele. ‚úÖ Megold√°s: Az alaplap √°tl√≥j√°nak a fele." },
            { question: "Egy ferde egyenes vet√ºlete a s√≠kon egy egyenes. Mi az eredeti √©s a vet√ºleti egyenes k√∂z√∂s pontja?", options: { a: "a d√∂f√©spont", b: "az orig√≥", c: "nincs k√∂z√∂s pontjuk" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A d√∂f√©spont az a pont, ahol a ferde egyenes metszi a s√≠kot. üîπ 2. L√©p√©s: Mivel ez a pont a s√≠kon van, a vet√ºlete √∂nmaga. Teh√°t a vet√ºleti egyenes is √°tmegy ezen a ponton. ‚úÖ Megold√°s: A d√∂f√©spont." },
            { question: "Egy kocka alaplapja az ABCD n√©gyzet. Mer≈ëleges-e az AC lap√°tl√≥ a BD lap√°tl√≥ra?", options: { a: "Igen", b: "Nem", c: "Csak ha 45¬∞-os a sz√∂g." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Ez a k√©rd√©s a s√≠kgeometri√°ra vezethet≈ë vissza. üîπ 2. L√©p√©s: Egy n√©gyzet √°tl√≥i mindig mer≈ëlegesen metszik egym√°st. ‚úÖ Megold√°s: Igen." },
            { question: "A h√°rom mer≈ëleges t√©tele egy kapcsolatot √≠r le...", options: { a: "a t√©rbeli √©s a s√≠kbeli mer≈ëlegess√©g k√∂z√∂tt.", b: "a p√°rhuzamoss√°g √©s a mer≈ëlegess√©g k√∂z√∂tt.", c: "a pontok √©s a s√≠kok k√∂z√∂tt." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A t√©tel egy 'ha..., akkor...' t√≠pus√∫ √°ll√≠t√°s, ami k√©t dolgot kapcsol √∂ssze. üîπ 2. L√©p√©s: Az egyik oldalon egy t√©rbeli mer≈ëlegess√©g (ferde egyenes ‚ä• s√≠kbeli egyenes), a m√°sikon egy s√≠kbeli mer≈ëlegess√©g (vet√ºlet ‚ä• s√≠kbeli egyenes) √°ll. ‚úÖ Megold√°s: A t√©rbeli √©s a s√≠kbeli mer≈ëlegess√©g k√∂z√∂tt." },
            { question: "Egy der√©ksz√∂g≈± h√°romsz√∂g √°tfog√≥ja egy s√≠kon fekszik. A s√≠kra mer≈ëleges befog√≥ vet√ºlete a s√≠kon...", options: { a: "az √°tfog√≥val azonos.", b: "egy pont.", c: "egy m√°sik befog√≥." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A h√°romsz√∂g egyik befog√≥ja mer≈ëleges a s√≠kra. üîπ 2. L√©p√©s: A s√≠kra mer≈ëleges szakasz vet√ºlete mindig egyetlen pont (a d√∂f√©spont). ‚úÖ Megold√°s: Egy pont." },
            { question: "Egy ferde egyenes vet√ºlete a s√≠kra fedi az eredeti egyenest. Mi igaz az eredeti egyenesre?", options: { a: "Mer≈ëleges a s√≠kra.", b: "A s√≠kban van (illeszkedik r√°).", c: "45¬∞-os sz√∂get z√°r be a s√≠kkal." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ha a vet√ºlet megegyezik az eredeti egyenessel, az azt jelenti, hogy a vet√≠t√©s sor√°n az egyenes egyetlen pontja sem mozdult el. üîπ 2. L√©p√©s: Ez csak akkor lehets√©ges, ha az egyenes minden pontja eleve a s√≠kon volt. ‚úÖ Megold√°s: A s√≠kban van (illeszkedik r√°)." }
        ];

        // Audit ut√°ni jav√≠t√°s a 9. √©s 15. k√©rd√©shez, hogy a promptnak megfeleljen √©s egy√©rtelm≈±bb legyen.
        quizData[8] = { question: "Egy kocka test√°tl√≥ja mer≈ëleges-e az alaplap egyik √°tl√≥j√°ra, ha nincs k√∂z√∂s pontjuk?", options: { a: "Nem", b: "Igen", c: "P√°rhuzamosak" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: V√°lasszuk az AC' test√°tl√≥t √©s a BD alap√°tl√≥t. üîπ 2. L√©p√©s: A test√°tl√≥ vet√ºlete az alaplapra az AC alap√°tl√≥. üîπ 3. L√©p√©s: A n√©gyzet √°tl√≥i (AC √©s BD) mer≈ëlegesek egym√°sra. üîπ 4. L√©p√©s: A h√°rom mer≈ëleges t√©tele szerint, mivel a vet√ºlet (AC) mer≈ëleges a s√≠kbeli egyenesre (BD), ez√©rt az eredeti ferde egyenes (AC') is mer≈ëleges r√°. ‚úÖ Megold√°s: Igen." };
        quizData[14] = { question: "A k√©pkeret f√ºgg≈ëleges √©le mer≈ëleges-e a padl√≥ √©s a fal metsz√©svonal√°ra (a szeg√©lyre)?", options: { a: "Igen", b: "Nem", c: "Csak ha a k√©p a sarokban van." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A padl√≥ √©s a fal metsz√©svonala egy v√≠zszintes egyenes. üîπ 2. L√©p√©s: A k√©pkeret f√ºgg≈ëleges √©le egy f√ºgg≈ëleges egyenes a fal s√≠kj√°ban. üîπ 3. L√©p√©s: Egy v√≠zszintes √©s egy f√ºgg≈ëleges egyenes mindig mer≈ëleges egym√°sra. ‚úÖ Megold√°s: Igen." };

        const questionsContainer = document.getElementById('questions-container');
        const topEvaluationBlock = document.getElementById('top-evaluation');

        let shuffledData;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function shuffleOptions(options) {
            const optionsArray = Object.entries(options).map(([key, text]) => ({ key, text }));
            return shuffle([...optionsArray]);
        }

        function renderQuiz() {
            shuffledData = shuffle([...quizData]);
            let questionHTML = '';
            shuffledData.forEach((item, index) => {
                const randomizedOptions = shuffleOptions(item.options);
                const optionLetters = ['a', 'b', 'c'];
                
                let optionsHTML = '';
                randomizedOptions.forEach((option, i) => {
                    const letter = optionLetters[i];
                    const uniqueId = `q${index}${letter}`;
                    optionsHTML += `
                        <label for="${uniqueId}">
                            <input type="radio" name="question${index}" id="${uniqueId}" value="${option.key}">
                            ${letter}) ${option.text}
                        </label>
                    `;
                });

                questionHTML += `
                    <div class="question-block" id="q-block-${index}">
                        <p class="question-text">${index + 1}. ${item.question}</p>
                        <div class="options">${optionsHTML}</div>
                        <div class="explanation" id="explanation-${index}">${item.explanation}</div>
                    </div>
                `;
            });
            questionsContainer.innerHTML = questionHTML;
        }

        function checkAnswers() {
            const pin = topEvaluationBlock.querySelector('.pin-code-input').value;
            const checkBtn = topEvaluationBlock.querySelector('.check-btn');
            const resultContainer = topEvaluationBlock.querySelector('.result-container');
            const adminPanel = topEvaluationBlock.querySelector('.admin-panel');

            const MASTER_PIN = '121909';
            const isMaster = pin === MASTER_PIN;
            const isStudent = (parseInt(pin) >= 100001 && parseInt(pin) <= 100020);

            if (!isMaster && !isStudent) {
                alert('√ârv√©nytelen PIN k√≥d! K√©rj√ºk, adjon meg egy √©rv√©nyes tanul√≥i (100001-100020) vagy mester PIN-t.');
                return;
            }

            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            if (!isMaster && answeredQuestions < shuffledData.length) {
                alert(`K√©rj√ºk, v√°laszolj az √∂sszes k√©rd√©sre! Jelenleg ${answeredQuestions}/${shuffledData.length} k√©rd√©sre v√°laszolt√°l.`);
                return;
            }

            let score = 0;
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.disabled = true);
            checkBtn.disabled = true;
            topEvaluationBlock.querySelector('.pin-code-input').disabled = true;

            shuffledData.forEach((item, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const explanationDiv = document.getElementById(`explanation-${index}`);
                explanationDiv.style.display = 'block';

                if (isMaster) {
                    document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                        if (radio.value === item.correctAnswer) {
                            radio.parentElement.classList.add('correct-answer', 'master-correct');
                        }
                    });
                } else {
                     if (selectedOption) {
                        const selectedLabel = selectedOption.parentElement;
                        if (selectedOption.value === item.correctAnswer) {
                            score++;
                            selectedLabel.classList.add('correct-answer', 'label-correct');
                        } else {
                            selectedLabel.classList.add('incorrect-answer', 'label-incorrect');
                             document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                                if (radio.value === item.correctAnswer) {
                                    radio.parentElement.classList.add('correct-answer');
                                }
                            });
                        }
                    } else { 
                         document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                            if (radio.value === item.correctAnswer) {
                                radio.parentElement.classList.add('correct-answer');
                            }
                        });
                    }
                }
            });

            const percentage = ((score / shuffledData.length) * 100).toFixed(1);
            if (!isMaster) {
                resultContainer.innerHTML = `Eredm√©nyed: ${score} / ${shuffledData.length} (${percentage}%)`;
            } else {
                 resultContainer.innerHTML = `Mester m√≥d: Helyes v√°laszok √©s magyar√°zatok felfedve.`;
            }


            if (isMaster) {
                adminPanel.style.display = 'block';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
            
            const mainCheckBtn = topEvaluationBlock.querySelector('.check-btn');
            const mainPinInput = topEvaluationBlock.querySelector('.pin-code-input');

            mainCheckBtn.addEventListener('click', checkAnswers);
            mainPinInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    checkAnswers();
                }
            });
        });

    </script>
</body>
</html>