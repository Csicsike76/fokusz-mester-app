<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyakorló Kvíz - Fény terjedése</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #D50000; /* Piros */
            text-align: center;
            border-bottom: 2px solid #D50000; /* Piros */
            padding-bottom: 10px;
        }
        #quiz-container {
            background-color: #ffffff; /* Fehér */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-block {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-of-type {
            border-bottom: none;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .options-container label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #ddd;
        }
        .options-container label:hover {
            background-color: #f9f9f9;
        }
        .options-container input[type="radio"] {
            margin-right: 10px;
        }
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e9; /* Világos zöld */
            border-left: 4px solid #008751; /* Zöld */
            border-radius: 4px;
        }
        #control-panel {
            text-align: center;
            padding: 20px;
            background-color: #ffffff; /* Fehér */
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        #pin-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #check-button {
            padding: 10px 20px;
            background-color: #D50000; /* Piros */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #check-button:hover {
            background-color: #a30000; /* Sötétebb piros */
        }
        #results {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
        }
        /* Színkódok a kiértékeléshez */
        .correct-answer-reveal {
            background-color: #c8e6c9 !important; /* Zöld */
            border-color: #008751 !important; /* Zöld */
        }
        .student-incorrect {
            background-color: #f8d7da !important; /* Piros */
            border-color: #f5c6cb !important;
            color: #721c24 !important;
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }
        .admin-panel h3 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>

    <h1>Gyakorló Kvíz: A fény terjedése</h1>

    <div id="control-panel">
        <input type="password" id="pin-input" placeholder="PIN kód">
        <button id="check-button">Ellenőrzés</button>
        <div id="results"></div>
        <div id="admin-panel" class="admin-panel">
            <h3>Adminisztrációs Panel</h3>
            <p>A helyes válaszok és a magyarázatok feloldva.</p>
            <p>Helyes válaszok eloszlása (a/b/c): <span id="dist-a"></span> / <span id="dist-b"></span> / <span id="dist-c"></span></p>
        </div>
    </div>

    <div id="quiz-container">
        <!-- A kvízkérdések ide generálódnak -->
    </div>

    <script>
        const quizData = [
            // Kérdések 'a' helyes válasszal (8 db)
            {
                question: "Hogyan terjed a fény homogén, átlátszó közegben?",
                answers: { a: "Egyenes vonalban", b: "Görbe vonalban", c: "Cikk-cakkban" },
                correctAnswer: 'a',
                explanation: "A fény egyenes vonalú terjedése az optika egyik alapelve. Ez azt jelenti, hogy amíg a közeg, amiben halad, egynemű (homogén), a fény egyenes mentén terjed. Ezt a jelenséget figyelhetjük meg például a napsugaraknál. ✅ Megoldás: Egyenes vonalban."
            },
            {
                question: "Mi a fénysugár?",
                answers: { a: "A fény útját jelölő egyenes.", b: "A fényforrás maga.", c: "A fény színe." },
                correctAnswer: 'a',
                explanation: "A fénysugár egy modell, amivel a fény egyenes vonalú terjedését szemléltetjük. Ez egy nyíllal ellátott egyenes, amely megmutatja a fény útját és irányát. ✅ Megoldás: A fény útját jelölő egyenes."
            },
            {
                question: "Mekkora a fény sebessége vákuumban (légüres térben)?",
                answers: { a: "Körülbelül 300 000 km/s", b: "Körülbelül 340 m/s", c: "Végtelen" },
                correctAnswer: 'a',
                explanation: "A fény sebessége vákuumban a legnagyobb lehetséges sebesség a természetben, értéke megközelítőleg 300 000 kilométer másodpercenként. Más közegekben, mint a víz vagy az üveg, a fény ennél lassabban terjed. A 340 m/s a hang sebessége levegőben. ✅ Megoldás: Körülbelül 300 000 km/s."
            },
            {
                question: "Miért látjuk a villámlást előbb, mint ahogy a dörgést halljuk?",
                answers: { a: "Mert a fény sokkal gyorsabban terjed, mint a hang.", b: "Mert a dörgés később keletkezik.", c: "Mert a fülünk lassabban érzékel, mint a szemünk." },
                correctAnswer: 'a',
                explanation: "A villámlás fénye szinte azonnal eljut hozzánk (fénysebességgel), míg a dörgés hangja sokkal lassabban (hangsebességgel) terjed a levegőben. Ebből a időkülönbségből ki is lehet számolni a vihar távolságát. ✅ Megoldás: Mert a fény sokkal gyorsabban terjed, mint a hang."
            },
            {
                question: "Milyen jelenség bizonyítja a fény egyenes vonalú terjedését?",
                answers: { a: "Az árnyék keletkezése.", b: "A szivárvány kialakulása.", c: "A hang visszaverődése." },
                correctAnswer: 'a',
                explanation: "Az árnyék akkor jön létre, amikor egy átlátszatlan test a fény útját elállja. Mivel a fény egyenesen terjed és nem tudja 'megkerülni' a testet, mögötte egy fénymentes terület, azaz árnyék alakul ki. ✅ Megoldás: Az árnyék keletkezése."
            },
            {
                question: "Mi a fényév?",
                answers: { a: "Az a távolság, amit a fény egy év alatt megtesz.", b: "Az az idő, amíg a fény a Napról a Földre ér.", c: "A fény sebességének mértékegysége." },
                correctAnswer: 'a',
                explanation: "A fényév egy távolság mértékegység, amit a csillagászatban használnak hatalmas távolságok mérésére. Ez az a gigantikus távolság, amit a fény egy év alatt befut. ✅ Megoldás: Az a távolság, amit a fény egy év alatt megtesz."
            },
            {
                question: "Melyik terjed gyorsabban: a rádióhullám vagy a látható fény?",
                answers: { a: "Egyforma sebességgel terjednek.", b: "A látható fény.", c: "A rádióhullám." },
                correctAnswer: 'a',
                explanation: "Mind a rádióhullám, mind a látható fény elektromágneses sugárzás. Vákuumban minden elektromágneses sugárzás, típustól függetlenül, fénysebességgel terjed. ✅ Megoldás: Egyforma sebességgel terjednek."
            },
            {
                question: "Ha egy keskeny résen keresztül nézünk egy lámpát, a rés...",
                answers: { a: "...egyfajta pontszerű fényforrásként viselkedik.", b: "...eltünteti a fényt.", c: "...megváltoztatja a fény színét." },
                correctAnswer: 'a',
                explanation: "Ha egy fényforrás fényét egy nagyon kicsi nyíláson engedjük át, a nyílásból kiinduló fény úgy terjed tovább, mintha maga a nyílás lenne a fényforrás. Ezt használjuk ki, amikor a fény egyenes vonalú terjedését vizsgáljuk. ✅ Megoldás: ...egyfajta pontszerű fényforrásként viselkedik."
            },
            // Kérdések 'b' helyes válasszal (9 db)
            {
                question: "Milyen közegben terjed a fény a leggyorsabban?",
                answers: { a: "Vízben", b: "Vákuumban (légüres térben)", c: "Levegőben" },
                correctAnswer: 'b',
                explanation: "A fény sebessége akkor a legnagyobb, ha semmilyen anyag nem lassítja a terjedését. Ez a vákuum, azaz a légüres tér. Minden más közegben (levegő, víz, üveg) a fény sebessége kisebb. ✅ Megoldás: Vákuumban (légüres térben)."
            },
            {
                question: "Hány perc alatt ér a Nap fénye a Földre?",
                answers: { a: "Körülbelül 1 perc", b: "Körülbelül 8 perc", c: "Körülbelül 1 óra" },
                correctAnswer: 'b',
                explanation: "A Nap és a Föld közötti átlagos távolság körülbelül 150 millió kilométer. Ezt a távolságot a fény körülbelül 8 perc és 20 másodperc alatt teszi meg. ✅ Megoldás: Körülbelül 8 perc."
            },
            {
                question: "Mi a fény?",
                answers: { a: "Anyagi részecskék áramlása.", b: "Elektromágneses sugárzás.", c: "Hanghullám." },
                correctAnswer: 'b',
                explanation: "A fény az elektromágneses sugárzás egy formája, amelynek az emberi szem által is érzékelhető tartományát látható fénynek nevezzük. ✅ Megoldás: Elektromágneses sugárzás."
            },
            {
                question: "Melyik állítás igaz a fény terjedésére?",
                answers: { a: "A fénynek mindig szüksége van valamilyen közegre a terjedéshez.", b: "A fény vákuumban is képes terjedni.", c: "A fény csak levegőben terjed." },
                correctAnswer: 'b',
                explanation: "Ellentétben a hanggal, a fénynek nincs szüksége közvetítő közegre a terjedéshez. Képes áthatolni a légüres téren (vákuumon), ezért jut el hozzánk a Nap és a csillagok fénye is. ✅ Megoldás: A fény vákuumban is képes terjedni."
            },
            {
                question: "Mi történik a fénysugárral, amikor eléri egy átlátszatlan test felületét?",
                answers: { a: "Változatlanul áthalad rajta.", b: "Egy része visszaverődik, más része elnyelődik.", c: "Mindig csak visszaverődik." },
                correctAnswer: 'b',
                explanation: "Amikor a fény egy átlátszatlan test felületére ér, két dolog történik: a fény egy része visszaverődik a felületről (ezért látjuk a testet), a másik része pedig elnyelődik a testben (és általában hővé alakul). ✅ Megoldás: Egy része visszaverődik, más része elnyelődik."
            },
            {
                question: "Mikor látunk egy tárgyat?",
                answers: { a: "Amikor a tárgy fényt nyel el.", b: "Amikor a tárgyról a szemünkbe jut a fény.", c: "Amikor a szemünk fényt bocsát a tárgyra." },
                correctAnswer: 'b',
                explanation: "A látás alapfeltétele, hogy a megfigyelt tárgyról (ami vagy saját fényforrás, vagy egy megvilágított test) a fénysugarak a szemünkbe érkezzenek. ✅ Megoldás: Amikor a tárgyról a szemünkbe jut a fény."
            },
            {
                question: "Mi a különbség a fény és a hang terjedése között?",
                answers: { a: "A fény csak egyenesen terjed, a hang görbe vonalban.", b: "A fénynek nem kell közeg a terjedéshez, a hangnak igen.", c: "Nincs lényeges különbség." },
                correctAnswer: 'b',
                explanation: "A legfontosabb különbség, hogy a fény (elektromágneses sugárzás) képes terjedni a légüres térben, míg a hang (mechanikai hullám) terjedéséhez mindig szükség van valamilyen közvetítő közegre (levegőre, vízre, stb.). ✅ Megoldás: A fénynek nem kell közeg a terjedéshez, a hangnak igen."
            },
            {
                question: "A lézershow során látható 'fénykardok'...",
                answers: { a: "...valódi, megfogható fényből vannak.", b: "...a levegőben lévő porszemcséken és párarészecskéken szétszóródó lézerfény útját mutatják.", c: "...csak a filmekben léteznek." },
                correctAnswer: 'b',
                explanation: "Normál esetben a lézerfény sugarát nem látjuk, csak a pontot, ahova érkezik. Ahhoz, hogy az egész 'fénykard' láthatóvá váljon, a levegőbe apró részecskéket (pl. füstöt, párát) juttatnak, amelyek szétszórják a lézerfényt, így az útja láthatóvá válik a szemünk számára. ✅ Megoldás: ...a levegőben lévő porszemcséken és párarészecskéken szétszóródó lézerfény útját mutatják."
            },
            {
                question: "Melyik jelenség NEM magyarázható a fény egyenes vonalú terjedésével?",
                answers: { a: "A napfogyatkozás.", b: "A szivárvány színeinek kialakulása.", c: "Az éles árnyékok létrejötte." },
                correctAnswer: 'b',
                explanation: "A napfogyatkozás és az árnyékok a fény egyenes vonalú terjedésének látványos következményei. A szivárvány kialakulása azonban egy összetettebb jelenség, a fénytörés és a színekre bontás (diszperzió) eredménye, amikor a napfény áthalad az esőcseppeken. ✅ Megoldás: A szivárvány színeinek kialakulása."
            },
            // Kérdések 'c' helyes válasszal (8 db)
            {
                question: "Hogyan hívjuk azokat a testeket, amelyek saját maguk bocsátanak ki fényt?",
                answers: { a: "Másodlagos fényforrások", b: "Átlátszó testek", c: "Elsődleges fényforrások" },
                correctAnswer: 'c',
                explanation: "Azokat a testeket, amelyek valamilyen belső energiaátalakulás (pl. égés, izzás) révén saját maguk termelnek és bocsátanak ki fényt, elsődleges fényforrásoknak nevezzük. Ilyen a Nap, a csillagok vagy egy égő gyertya. ✅ Megoldás: Elsődleges fényforrások."
            },
            {
                question: "A fény terjedési sebessége üvegben...",
                answers: { a: "...nagyobb, mint vákuumban.", b: "...ugyanakkora, mint vákuumban.", c: "...kisebb, mint vákuumban." },
                correctAnswer: 'c',
                explanation: "Amikor a fény egy sűrűbb optikai közegbe, például üvegbe vagy vízbe lép, lelassul. A fény sebessége mindig vákuumban a legnagyobb. ✅ Megoldás: ...kisebb, mint vákuumban."
            },
            {
                question: "Miért látjuk a tárgyak színét?",
                answers: { a: "Mert a tárgyak maguk termelik a színes fényt.", b: "Mert a szemünk színezi be a tárgyakat.", c: "Mert a tárgy a fehér fényből csak a saját színének megfelelő fényt veri vissza." },
                correctAnswer: 'c',
                explanation: "A fehér fény (pl. napfény) sok szín keveréke. Amikor ez a fény egy színes tárgyra esik, a tárgy a legtöbb színt elnyeli, és csak azt a színt (vagy színeket) veri vissza, amilyennek látjuk. Például egy piros alma a piros fényt veri vissza, a többit elnyeli. ✅ Megoldás: Mert a tárgy a fehér fényből csak a saját színének megfelelő fényt veri vissza."
            },
            {
                question: "Mi történik, ha egy fénysugár eléri egy síktükör felületét?",
                answers: { a: "Elnyelődik.", b: "Átmegy rajta.", c: "Visszaverődik." },
                correctAnswer: 'c',
                explanation: "A tükör egy sima, fényes felület, amely a ráeső fénysugarak nagy részét szabályosan visszaveri. Ezt a jelenséget nevezzük fényvisszaverődésnek. ✅ Megoldás: Visszaverődik."
            },
            {
                question: "A fény terjedéséhez szükséges idő...",
                answers: { a: "...nulla, a fény terjedése pillanatszerű.", b: "...mindig ugyanannyi, távolságtól függetlenül.", c: "...a távolságtól függ, de általában nagyon rövid." },
                correctAnswer: 'c',
                explanation: "Bár a fény sebessége rendkívül nagy, de véges. Ebből következik, hogy a fénynek időre van szüksége a távolságok megtételéhez. Földi méretekben ez az idő elhanyagolhatóan kicsi, de csillagászati távolságoknál már jelentős. ✅ Megoldás: ...a távolságtól függ, de általában nagyon rövid."
            },
            {
                question: "Egy zseblámpa fénycsóvája a sötétben azért látszik kúp alakúnak, mert...",
                answers: { a: "...az elemek gyengék.", b: "...a levegő meggörbíti a fényt.", c: "...a fény egyenes vonalban terjed a fényforrástól minden irányba." },
                correctAnswer: 'c',
                explanation: "A zseblámpa izzója egy közel pontszerű fényforrás. Innen a fénysugarak egyenes vonalban, minden irányba szétterjednek, így egy egyre táguló fénykúpot alkotnak. ✅ Megoldás: ...a fény egyenes vonalban terjed a fényforrástól minden irányba."
            },
            {
                question: "Ha egy tárgyat nagyon messziről nézünk, a róla érkező fénysugarak...",
                answers: { a: "...görbévé válnak.", b: "...erősebbek lesznek.", c: "...közel párhuzamosnak tekinthetők." },
                correctAnswer: 'c',
                explanation: "Egy távoli fényforrásból (mint a Nap) érkező fénysugarak annyira kis szögben távolodnak egymástól, hogy a Földön egy kis területre érkezve gyakorlatilag párhuzamosnak tekinthetjük őket. ✅ Megoldás: ...közel párhuzamosnak tekinthetők."
            },
            {
                question: "Melyik állítás HAMIS?",
                answers: { a: "A fény egyenes vonalban terjed.", b: "A fény sebessége végtelen.", c: "Az árnyék a fény egyenes vonalú terjedésének következménye." },
                correctAnswer: 'b',
                explanation: "Ez az állítás hamis. A fény sebessége rendkívül nagy, de nem végtelen. Vákuumban az értéke kb. 300 000 km/s. A másik két állítás igaz. ✅ Megoldás: A fény sebessége végtelen."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkButton = document.getElementById('check-button');
        const pinInput = document.getElementById('pin-input');
        const resultsContainer = document.getElementById('results');
        const adminPanel = document.getElementById('admin-panel');

        let shuffledQuizData = [];
        let internalCorrectAnswers = { a: 0, b: 0, c: 0 };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            quizData.forEach(q => {
                internalCorrectAnswers[q.correctAnswer]++;
            });

            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            
            let quizHTML = '';
            shuffledQuizData.forEach((q, index) => {
                quizHTML += `<div class="question-block" id="q-${index}">`;
                quizHTML += `<div class="question-text">${index + 1}. ${q.question}</div>`;
                quizHTML += `<div class="options-container">`;

                const options = Object.entries(q.answers);
                shuffleArray(options);

                options.forEach(([key, value]) => {
                    quizHTML += `<label>
                                    <input type="radio" name="question${index}" value="${key}">
                                    ${value}
                                 </label>`;
                });

                quizHTML += `</div>`;
                quizHTML += `<div class="explanation" id="exp-${index}">${q.explanation}</div>`;
                quizHTML += `</div>`;
            });
            quizContainer.innerHTML = quizHTML;
        }

        function checkAnswers() {
            const pin = pinInput.value;
            const isMasterPin = pin === '121909';
            const isStudentPin = pin >= 100001 && pin <= 100020;
            let score = 0;
            let allAnswered = true;

            if (!isMasterPin) {
                 for (let i = 0; i < shuffledQuizData.length; i++) {
                    const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                    if (!selectedOption) {
                        allAnswered = false;
                        break;
                    }
                }
            }
           
            if (!isMasterPin && !isStudentPin) {
                resultsContainer.textContent = "Érvénytelen PIN kód!";
                resultsContainer.style.color = '#D50000';
                return;
            }

            if (!allAnswered && !isMasterPin) {
                resultsContainer.textContent = "Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!";
                resultsContainer.style.color = 'orange';
                return;
            }
            resultsContainer.style.color = '#333'; // Reset color

            shuffledQuizData.forEach((q, index) => {
                const explanation = document.getElementById(`exp-${index}`);
                explanation.style.display = 'block';

                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);

                document.querySelectorAll(`input[name="question${index}"]`).forEach(option => {
                    const label = option.parentElement;
                    option.disabled = true;

                    // Reveal the correct answer for everyone
                    if (option.value === q.correctAnswer) {
                        label.classList.add('correct-answer-reveal');
                    }
                    
                    // Color student's specific choice if a student PIN is used
                    if(isStudentPin && selectedOption && selectedOption === option){
                        if(selectedOption.value !== q.correctAnswer){
                             label.classList.add('student-incorrect');
                        }
                    }
                });
                
                if (selectedOption && selectedOption.value === q.correctAnswer) {
                    score++;
                }
            });

            if(isMasterPin){
                resultsContainer.textContent = "Minden válasz és magyarázat felfedve.";
                adminPanel.style.display = 'block';
                document.getElementById('dist-a').textContent = internalCorrectAnswers.a;
                document.getElementById('dist-b').textContent = internalCorrectAnswers.b;
                document.getElementById('dist-c').textContent = internalCorrectAnswers.c;
            }

            if(isStudentPin){
                const percentage = Math.round((score / shuffledQuizData.length) * 100);
                resultsContainer.innerHTML = `Eredményed: ${score} / ${shuffledQuizData.length} (${percentage}%)`;
            }
        }
        
        pinInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                checkButton.click(); // Simulate a button click
            }
        });

        checkButton.addEventListener('click', checkAnswers);
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>

</body>
</html>