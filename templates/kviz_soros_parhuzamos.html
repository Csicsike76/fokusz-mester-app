<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyakorló Kvíz - Soros és párhuzamos kapcsolás</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #D50000; /* Piros */
            text-align: center;
            border-bottom: 2px solid #D50000; /* Piros */
            padding-bottom: 10px;
        }
        #quiz-container {
            background-color: #ffffff; /* Fehér */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-block {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-of-type {
            border-bottom: none;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .options-container label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #ddd;
        }
        .options-container label:hover {
            background-color: #f9f9f9;
        }
        .options-container input[type="radio"] {
            margin-right: 10px;
        }
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e9; /* Világos zöld */
            border-left: 4px solid #008751; /* Zöld */
            border-radius: 4px;
        }
        #control-panel {
            text-align: center;
            padding: 20px;
            background-color: #ffffff; /* Fehér */
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        #pin-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #check-button {
            padding: 10px 20px;
            background-color: #D50000; /* Piros */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #check-button:hover {
            background-color: #a30000; /* Sötétebb piros */
        }
        #results {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
        }
        /* Színkódok a kiértékeléshez */
        .correct-answer-reveal {
            background-color: #c8e6c9 !important; /* Zöld */
            border-color: #008751 !important; /* Zöld */
        }
        .student-incorrect {
            background-color: #f8d7da !important; /* Piros */
            border-color: #f5c6cb !important;
            color: #721c24 !important;
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }
        .admin-panel h3 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>

    <h1>Gyakorló Kvíz: Soros és párhuzamos kapcsolás</h1>

    <div id="control-panel">
        <input type="password" id="pin-input" placeholder="PIN kód">
        <button id="check-button">Ellenőrzés</button>
        <div id="results"></div>
        <div id="admin-panel" class="admin-panel">
            <h3>Adminisztrációs Panel</h3>
            <p>A helyes válaszok és a magyarázatok feloldva.</p>
            <p>Helyes válaszok eloszlása (a/b/c): <span id="dist-a"></span> / <span id="dist-b"></span> / <span id="dist-c"></span></p>
        </div>
    </div>

    <div id="quiz-container">
        <!-- A kvízkérdések ide generálódnak -->
    </div>

    <script>
        const quizData = [
            // Kérdések 'a' helyes válasszal (8 db)
            {
                question: "Mi történik, ha egy sorba kapcsolt áramkörben az egyik izzó kiég?",
                answers: { a: "A többi izzó is kialszik.", b: "A többi izzó fényesebben világít.", c: "A többi izzó tovább világít." },
                correctAnswer: 'a',
                explanation: "A soros kapcsolásban az áramnak csak egyetlen útja van. Ha ez az út bárhol megszakad, például egy izzó kiégésével (az izzószál elszakad), az egész áramkör nyitottá válik, és az áramlás mindenhol megszűnik. ✅ Megoldás: A többi izzó is kialszik."
            },
            {
                question: "Melyik kapcsolási módot használják jellemzően a lakásokban a konnektorok és lámpák bekötésére?",
                answers: { a: "Párhuzamos kapcsolást.", b: "Soros kapcsolást.", c: "Vegyes kapcsolást." },
                correctAnswer: 'a',
                explanation: "A lakásokban párhuzamos kapcsolást alkalmaznak, mert így minden fogyasztó (lámpa, TV, hűtő) egymástól függetlenül működtethető. Ha egy kiég, a többi még működik, és mindegyik a hálózati feszültséget kapja. ✅ Megoldás: Párhuzamos kapcsolást."
            },
            {
                question: "Hogyan változik az izzók fényereje, ha egy meglévő mellé még egy izzót sorba kötünk?",
                answers: { a: "Minden izzó halványabban fog világítani.", b: "Minden izzó fényesebben fog világítani.", c: "Az izzók fényereje nem változik." },
                correctAnswer: 'a',
                explanation: "Soros kapcsolásnál a fogyasztók 'osztoznak' az áramforrás feszültségén. Ha több izzót kötünk sorba, akkor egy izzóra kisebb feszültség jut, ezért mindegyik halványabban fog világítani. ✅ Megoldás: Minden izzó halványabban fog világítani."
            },
            {
                question: "Mit jelent a soros kapcsolás?",
                answers: { a: "A fogyasztók egymás után, egyetlen áramköri ágban vannak elhelyezve.", b: "A fogyasztók külön ágakon helyezkednek el.", c: "A fogyasztók nincsenek összekötve." },
                correctAnswer: 'a',
                explanation: "Soros kapcsolás esetén a fogyasztók úgy vannak összekötve, mint a láncszemek: az egyik vége a másik elejéhez csatlakozik, így az áramnak csak egyetlen útja van, amin végighaladhat. ✅ Megoldás: A fogyasztók egymás után, egyetlen áramköri ágban vannak elhelyezve."
            },
            {
                question: "Egy párhuzamos kapcsolásban minden ágban...",
                answers: { a: "...ugyanakkora feszültség mérhető.", b: "...ugyanakkora az áramerősség.", c: "...más-más feszültség mérhető." },
                correctAnswer: 'a',
                explanation: "Párhuzamos kapcsolás nagy előnye, hogy minden párhuzamosan kapcsolt ágra ugyanakkora feszültség jut, ami megegyezik az áramforrás feszültségével. ✅ Megoldás: ...ugyanakkora feszültség mérhető."
            },
            {
                question: "Hogyan viszonyul a főág áramerőssége a mellékágak áramerősségéhez párhuzamos kapcsolásnál?",
                answers: { a: "A főág áramerőssége a mellékágak áramerősségének összege.", b: "A főág áramerőssége kisebb, mint bármelyik mellékágé.", c: "A főág és a mellékágak áramerőssége mindig megegyezik." },
                correctAnswer: 'a',
                explanation: "A csomóponti törvény értelmében az áram a párhuzamos ágakon szétoszlik. Az áramforrásból kilépő főági áramerősség pontosan annyi, mint a mellékágakban folyó áramok összege. ✅ Megoldás: A főág áramerőssége a mellékágak áramerősségének összege."
            },
            {
                question: "Mi történik, ha egy elemet és egy kapcsolót sorba kötünk egy izzóval?",
                answers: { a: "Működőképes áramkört kapunk.", b: "Rövidzárlat keletkezik.", c: "Az izzó nem fog világítani." },
                correctAnswer: 'a',
                explanation: "Ez egy egyszerű, alapvető áramkör felépítése: áramforrás (elem), kapcsoló (az áram út megszakítására/zárására) és fogyasztó (izzó) sorba kötve. Ha a kapcsolót zárjuk, az izzó világítani fog. ✅ Megoldás: Működőképes áramkört kapunk."
            },
            {
                question: "Soros kapcsolásban a fogyasztókon átfolyó áram...",
                answers: { a: "...minden fogyasztón ugyanakkora.", b: "...eloszlik a fogyasztók között.", c: "...a fogyasztók számával nő." },
                correctAnswer: 'a',
                explanation: "Mivel soros kapcsolásnál az áramnak csak egy útja van, ugyanazok a töltések haladnak át minden egyes fogyasztón. Ebből következik, hogy az áramerősség az áramkör minden pontján, így minden fogyasztón is megegyezik. ✅ Megoldás: ...minden fogyasztón ugyanakkora."
            },
            // Kérdések 'b' helyes válasszal (9 db)
            {
                question: "Mi történik, ha egy párhuzamosan kapcsolt áramkörben az egyik izzó kiég?",
                answers: { a: "Az összes többi izzó is kialszik.", b: "A többi izzó tovább világít.", c: "Az áramforrás tönkremegy." },
                correctAnswer: 'b',
                explanation: "Párhuzamos kapcsolásnál az áram több úton, külön ágakon haladhat. Ha az egyik ág megszakad (pl. egy izzó kiég), az áram a többi, ép ágon zavartalanul tovább tud folyni. ✅ Megoldás: A többi izzó tovább világít."
            },
            {
                question: "Mit jelent a párhuzamos kapcsolás?",
                answers: { a: "A fogyasztók láncszerűen vannak összekötve.", b: "A fogyasztók külön ágakra vannak kötve, melyek egy közös pontban ágaznak szét és futnak össze.", c: "A fogyasztókat egymás mellé helyezzük, de nem kötjük össze." },
                correctAnswer: 'b',
                explanation: "Párhuzamos kapcsolás esetén az áramkör egy ponton elágazik, és a fogyasztók ezeken a különálló, párhuzamos ágakon helyezkednek el. Az ágak később újra egyesülnek. ✅ Megoldás: A fogyasztók külön ágakra vannak kötve, melyek egy közös pontban ágaznak szét és futnak össze."
            },
            {
                question: "Hogyan változik az izzók fényereje, ha egy meglévő mellé még egy izzót párhuzamosan kötünk?",
                answers: { a: "Az eredeti izzó halványabb lesz.", b: "Az eredeti izzó fényereje lényegében nem változik.", c: "Az eredeti izzó kialszik." },
                correctAnswer: 'b',
                explanation: "Párhuzamos kapcsolásnál minden fogyasztó közvetlenül az áramforrásra csatlakozik, így mindegyik a teljes feszültséget kapja, függetlenül a többi ágtól. Emiatt egy újabb izzó bekötése nem befolyásolja a már meglévő fényerejét. ✅ Megoldás: Az eredeti izzó fényereje lényegében nem változik."
            },
            {
                question: "Melyik kapcsolásnál nagyobb az áramkör teljes áramfelvétele, ha két egyforma izzót használunk?",
                answers: { a: "Soros kapcsolásnál.", b: "Párhuzamos kapcsolásnál.", c: "Mindkettőnél ugyanakkora." },
                correctAnswer: 'b',
                explanation: "Párhuzamos kapcsolásnál a főágban folyó áram a két mellékág áramának összege. Mivel mindkét izzó a teljes feszültséget kapja, a két ág árama összeadódik, így a teljes áramfelvétel nagyobb lesz, mint soros kapcsolásnál, ahol a nagyobb ellenállás miatt kisebb áram folyik. ✅ Megoldás: Párhuzamos kapcsolásnál."
            },
            {
                question: "A régi típusú karácsonyfaizzók gyakran sorba voltak kötve. Mi volt ennek a hátránya?",
                answers: { a: "Túl erősen világítottak.", b: "Ha egy izzó kiégett, az egész füzér elaludt.", c: "Túl sok áramot fogyasztottak." },
                correctAnswer: 'b',
                explanation: "A soros kapcsolás jellegzetessége, hogy ha az áram útja bárhol megszakad, az egész áramkör működésképtelenné válik. Emiatt a régi izzósoroknál egyetlen izzó meghibásodása az egész füzér kialvását okozta, és nehéz volt megtalálni a hibás darabot. ✅ Megoldás: Ha egy izzó kiégett, az egész füzér elaludt."
            },
            {
                question: "Ha két elemet sorba kötünk, mi történik a feszültségükkel?",
                answers: { a: "A feszültségük nem változik.", b: "A feszültségük összeadódik.", c: "A feszültségük lefeleződik." },
                correctAnswer: 'b',
                explanation: "Ha áramforrásokat (pl. elemeket) sorba kapcsolunk (a pozitív pólust a negatívhoz), akkor a feszültségük összeadódik. Például két 1,5 V-os elem sorba kötve 3 V feszültséget biztosít. ✅ Megoldás: A feszültségük összeadódik."
            },
            {
                question: "Mi a különbség a soros és párhuzamos kapcsolás között az áram útja szempontjából?",
                answers: { a: "Nincs különbség.", b: "A sorosnál egy út van, a párhuzamosnál több.", c: "A párhuzamosnál egy út van, a sorosnál több." },
                correctAnswer: 'b',
                explanation: "Ez a legfontosabb megkülönböztető jegy. A soros kapcsolás egyetlen, elágazás nélküli utat biztosít az áramnak, míg a párhuzamos kapcsolás több, alternatív útvonalat, azaz ágat kínál. ✅ Megoldás: A sorosnál egy út van, a párhuzamosnál több."
            },
            {
                question: "Ha egy kapcsolási rajzon két izzó egymás melletti ágakon van, és ezek az ágak ugyanabból a pontból indulnak, az...",
                answers: { a: "...soros kapcsolás.", b: "...párhuzamos kapcsolás.", c: "...rövidzárlat." },
                correctAnswer: 'b',
                explanation: "Az elágazás és a külön ágakon elhelyezkedő fogyasztók a párhuzamos kapcsolás egyértelmű ismérvei a kapcsolási rajzokon. ✅ Megoldás: ...párhuzamos kapcsolás."
            },
            {
                question: "Melyik kapcsolás esetén merül le gyorsabban az elem, ha két egyforma izzót működtetünk?",
                answers: { a: "Soros kapcsolás esetén.", b: "Párhuzamos kapcsolás esetén.", c: "Mindkét esetben ugyanannyi idő alatt." },
                correctAnswer: 'b',
                explanation: "Párhuzamos kapcsolásnál a teljes áramfelvétel nagyobb, mint soros kapcsolásnál. A nagyobb áramfelvétel jobban terheli az áramforrást, ezért az elem (telep) gyorsabban lemerül. ✅ Megoldás: Párhuzamos kapcsolás esetén."
            },
            // Kérdések 'c' helyes válasszal (8 db)
            {
                question: "Egy áramkörben az elem, a kapcsoló és két izzó egymás után van kötve. Milyen ez a kapcsolás?",
                answers: { a: "Párhuzamos", b: "Vegyes", c: "Soros" },
                correctAnswer: 'c',
                explanation: "Ha az áramkör elemei egymás után, egyetlen elágazás nélküli ágban helyezkednek el, akkor soros kapcsolásról beszélünk. ✅ Megoldás: Soros."
            },
            {
                question: "Melyik állítás HAMIS a soros kapcsolásra?",
                answers: { a: "Az áramerősség mindenütt ugyanakkora.", b: "A feszültség eloszlik a fogyasztókon.", c: "Ha egy elem kiég, a többi tovább működik." },
                correctAnswer: 'c',
                explanation: "Ez az állítás hamis. Soros kapcsolásban, ha egy fogyasztó (pl. izzó) meghibásodik, megszakítja az áramkört, és emiatt a többi fogyasztó sem kap áramot, tehát nem működik tovább. ✅ Megoldás: Ha egy elem kiég, a többi tovább működik."
            },
            {
                question: "Melyik állítás HAMIS a párhuzamos kapcsolásra?",
                answers: { a: "Minden fogyasztóra ugyanakkora feszültség jut.", b: "Ha egy fogyasztó kiég, a többi tovább működik.", c: "Az áramerősség minden fogyasztón ugyanakkora." },
                correctAnswer: 'c',
                explanation: "Ez az állítás csak akkor igaz, ha a párhuzamosan kapcsolt fogyasztók teljesen egyformák. Ha különbözőek, akkor a különböző ágakban különböző nagyságú áram fog folyni. ✅ Megoldás: Az áramerősség minden fogyasztón ugyanakkora."
            },
            {
                question: "Egy elágazási pont egy áramkörben mire utal?",
                answers: { a: "Soros kapcsolásra.", b: "Rövidzárlatra.", c: "Párhuzamos kapcsolásra." },
                correctAnswer: 'c',
                explanation: "Az elágazási pont (csomópont) az a hely, ahol az áram útja több felé ágazik. Ez a párhuzamos kapcsolás definíciószerű jellemzője. ✅ Megoldás: Párhuzamos kapcsolásra."
            },
            {
                question: "Ha egy áramkörben az áramforrást közvetlenül, fogyasztó nélkül kötjük össze egy vezetékkel, mi jön létre?",
                answers: { a: "Soros kapcsolás.", b: "Párhuzamos kapcsolás.", c: "Rövidzárlat." },
                correctAnswer: 'c',
                explanation: "Ha az áramforrás két pólusát egy nagyon kis ellenállású vezetővel (lényegében fogyasztó nélkül) kötjük össze, az áram akadálytalanul folyhat. Ez a rendkívül nagy áramerősség a rövidzárlat, ami tönkreteheti az áramforrást és tűzveszélyes. ✅ Megoldás: Rövidzárlat."
            },
            {
                question: "Egy áramkörben két izzó van. Az egyik egy kapcsolóval ki-be kapcsolható, a másik pedig ettől függetlenül folyamatosan világít. Milyen a kapcsolásuk?",
                answers: { a: "Soros", b: "Soros és párhuzamos is.", c: "Párhuzamos" },
                correctAnswer: 'c',
                explanation: "Ahhoz, hogy a két izzó egymástól függetlenül működhessen (az egyiket ki lehet kapcsolni, míg a másik világít), külön ágakon kell lenniük. Ez a párhuzamos kapcsolás jellemzője. ✅ Megoldás: Párhuzamos."
            },
            {
                question: "Miért kell óvatosnak lenni az elektromos árammal?",
                answers: { a: "Mert drága.", b: "Mert láthatatlan.", c: "Mert az emberi test vezeti az áramot és áramütést okozhat." },
                correctAnswer: 'c',
                explanation: "Az emberi test, főleg a benne lévő sók és víz miatt, vezeti az elektromos áramot. A testen áthaladó áram súlyos, akár halálos sérüléseket (égés, szívleállás) okozhat, ezért kell az elektromos berendezéseket körültekintően használni. ✅ Megoldás: Mert az emberi test vezeti az áramot és áramütést okozhat."
            },
            {
                question: "Soros kapcsolásban a feszültség...",
                answers: { a: "...minden fogyasztón ugyanakkora.", b: "...az áramkörben sehol sem mérhető.", c: "...eloszlik a fogyasztók között." },
                correctAnswer: 'c',
                explanation: "Soros kapcsolás esetén az áramforrás feszültsége megoszlik a sorba kapcsolt fogyasztók között. A nagyobb ellenállású fogyasztóra több, a kisebb ellenállásúra kevesebb feszültség jut. ✅ Megoldás: ...eloszlik a fogyasztók között."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkButton = document.getElementById('check-button');
        const pinInput = document.getElementById('pin-input');
        const resultsContainer = document.getElementById('results');
        const adminPanel = document.getElementById('admin-panel');

        let shuffledQuizData = [];
        let internalCorrectAnswers = { a: 0, b: 0, c: 0 };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            quizData.forEach(q => {
                internalCorrectAnswers[q.correctAnswer]++;
            });

            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            
            let quizHTML = '';
            shuffledQuizData.forEach((q, index) => {
                quizHTML += `<div class="question-block" id="q-${index}">`;
                quizHTML += `<div class="question-text">${index + 1}. ${q.question}</div>`;
                quizHTML += `<div class="options-container">`;

                const options = Object.entries(q.answers);
                shuffleArray(options);

                options.forEach(([key, value]) => {
                    quizHTML += `<label>
                                    <input type="radio" name="question${index}" value="${key}">
                                    ${value}
                                 </label>`;
                });

                quizHTML += `</div>`;
                quizHTML += `<div class="explanation" id="exp-${index}">${q.explanation}</div>`;
                quizHTML += `</div>`;
            });
            quizContainer.innerHTML = quizHTML;
        }

        function checkAnswers() {
            const pin = pinInput.value;
            const isMasterPin = pin === '121909';
            const isStudentPin = pin >= 100001 && pin <= 100020;
            let score = 0;
            let allAnswered = true;

            if (!isMasterPin) {
                 for (let i = 0; i < shuffledQuizData.length; i++) {
                    const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                    if (!selectedOption) {
                        allAnswered = false;
                        break;
                    }
                }
            }
           
            if (!isMasterPin && !isStudentPin) {
                resultsContainer.textContent = "Érvénytelen PIN kód!";
                resultsContainer.style.color = '#D50000';
                return;
            }

            if (!allAnswered && !isMasterPin) {
                resultsContainer.textContent = "Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!";
                resultsContainer.style.color = 'orange';
                return;
            }
            resultsContainer.style.color = '#333'; // Reset color

            shuffledQuizData.forEach((q, index) => {
                const explanation = document.getElementById(`exp-${index}`);
                explanation.style.display = 'block';

                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);

                document.querySelectorAll(`input[name="question${index}"]`).forEach(option => {
                    const label = option.parentElement;
                    option.disabled = true;

                    // Reveal the correct answer for everyone
                    if (option.value === q.correctAnswer) {
                        label.classList.add('correct-answer-reveal');
                    }
                    
                    // Color student's specific choice if a student PIN is used
                    if(isStudentPin && selectedOption && selectedOption === option){
                        if(selectedOption.value !== q.correctAnswer){
                             label.classList.add('student-incorrect');
                        }
                    }
                });
                
                if (selectedOption && selectedOption.value === q.correctAnswer) {
                    score++;
                }
            });

            if(isMasterPin){
                resultsContainer.textContent = "Minden válasz és magyarázat felfedve.";
                adminPanel.style.display = 'block';
                document.getElementById('dist-a').textContent = internalCorrectAnswers.a;
                document.getElementById('dist-b').textContent = internalCorrectAnswers.b;
                document.getElementById('dist-c').textContent = internalCorrectAnswers.c;
            }

            if(isStudentPin){
                const percentage = Math.round((score / shuffledQuizData.length) * 100);
                resultsContainer.innerHTML = `Eredményed: ${score} / ${shuffledQuizData.length} (${percentage}%)`;
            }
        }
        
        pinInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                checkButton.click(); // Simulate a button click
            }
        });

        checkButton.addEventListener('click', checkAnswers);
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>

</body>
</html>