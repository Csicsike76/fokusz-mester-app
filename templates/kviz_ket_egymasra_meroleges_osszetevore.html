<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gyakorló Kvíz - Erő felbontása merőleges összetevőkre</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            max-width: 800px;
            margin: auto;
        }
        h1 {
            color: #D50000; /* Piros */
            text-align: center;
            border-bottom: 2px solid #D50000; /* Piros */
            padding-bottom: 10px;
        }
        #quiz-container {
            background-color: #ffffff; /* Fehér */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .question-block {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        .question-block:last-of-type {
            border-bottom: none;
        }
        .question-text {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 15px;
        }
        .options-container label {
            display: block;
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid #ddd;
        }
        .options-container label:hover {
            background-color: #f9f9f9;
        }
        .options-container input[type="radio"] {
            margin-right: 10px;
        }
        .explanation {
            display: none;
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e9; /* Világos zöld */
            border-left: 4px solid #008751; /* Zöld */
            border-radius: 4px;
        }
        #control-panel {
            text-align: center;
            padding: 20px;
            background-color: #ffffff; /* Fehér */
            margin-bottom: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        #pin-input {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
            margin-right: 10px;
        }
        #check-button {
            padding: 10px 20px;
            background-color: #D50000; /* Piros */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
        }
        #check-button:hover {
            background-color: #a30000; /* Sötétebb piros */
        }
        #results {
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            margin-top: 15px;
        }
        /* Színkódok a kiértékeléshez */
        .correct-answer-reveal {
            background-color: #c8e6c9 !important; /* Zöld */
            border-color: #008751 !important; /* Zöld */
        }
        .student-incorrect {
            background-color: #f8d7da !important; /* Piros */
            border-color: #f5c6cb !important;
            color: #721c24 !important;
        }
        .admin-panel {
            display: none;
            margin-top: 20px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 5px;
            text-align: center;
        }
        .admin-panel h3 {
            margin-top: 0;
            color: #856404;
        }
    </style>
</head>
<body>

    <h1>Gyakorló Kvíz: Erő felbontása merőleges összetevőkre</h1>

    <div id="control-panel">
        <input type="password" id="pin-input" placeholder="PIN kód">
        <button id="check-button">Ellenőrzés</button>
        <div id="results"></div>
        <div id="admin-panel" class="admin-panel">
            <h3>Adminisztrációs Panel</h3>
            <p>A helyes válaszok és a magarázatok feloldva.</p>
            <p>Helyes válaszok eloszlása (a/b/c): <span id="dist-a"></span> / <span id="dist-b"></span> / <span id="dist-c"></span></p>
        </div>
    </div>

    <div id="quiz-container">
        <!-- A kvízkérdések ide generálódnak -->
    </div>

    <script>
        const quizData = [
            // Kérdések 'a' helyes válasszal (8 db)
            {
                question: "Miért hasznos egy erőt két, egymásra merőleges összetevőre bontani?",
                answers: { a: "Mert így a mozgás két független, egyszerűbb irányban vizsgálható.", b: "Mert így az erő megnő.", c: "Mert csak így lehet megmérni." },
                correctAnswer: 'a',
                explanation: "Az egymásra merőleges összetevők (komponensek) nem befolyásolják egymást. Ez lehetővé teszi, hogy a bonyolult, ferde irányú mozgásokat két egyszerű, egyenes vonalú mozgás összegeként kezeljük, ami nagyban leegyszerűsíti a számításokat. ✅ Megoldás: Mert így a mozgás két független, egyszerűbb irányban vizsgálható."
            },
            {
                question: "Egy F erőt felbontunk F₁ és F₂ merőleges összetevőkre. Melyik matematikai tétel írja le a nagyságuk közti kapcsolatot?",
                answers: { a: "Pitagorasz-tétel", b: "Thalész-tétel", c: "Hatás-ellenhatás törvénye" },
                correctAnswer: 'a',
                explanation: "Az eredeti F erő a két merőleges összetevő (F₁ és F₂) által alkotott derékszögű háromszög átfogója. Az oldalak hossza közötti összefüggést a Pitagorasz-tétel adja meg: F₁² + F₂² = F². ✅ Megoldás: Pitagorasz-tétel."
            },
            {
                question: "Egy lejtőn lévő testre ható nehézségi erőt felbontjuk. Melyik összetevő csúsztatja lefelé a testet?",
                answers: { a: "A lejtővel párhuzamos összetevő.", b: "A lejtőre merőleges összetevő.", c: "Egyik sem, a súrlódás mozgatja." },
                correctAnswer: 'a',
                explanation: "A nehézségi erő lejtővel párhuzamos komponense az az erő, amely a testet a lejtő mentén lefelé igyekszik gyorsítani. ✅ Megoldás: A lejtővel párhuzamos összetevő."
            },
            {
                question: "Egy 10 N nagyságú erőt felbontunk két merőleges összetevőre. Lehet-e az egyik összetevő 12 N?",
                answers: { a: "Nem, mert az összetevő nem lehet nagyobb az eredeti erőnél.", b: "Igen, ha a másik összetevő negatív.", c: "Igen, ha a szög megfelelő." },
                correctAnswer: 'a',
                explanation: "Merőleges felbontás esetén az eredeti erő a derékszögű háromszög átfogója, az összetevők a befogók. Mivel az átfogó mindig a leghosszabb oldal, a befogók (az összetevők) nagysága nem lehet nagyobb az átfogó (az eredeti erő) nagyságánál. ✅ Megoldás: Nem, mert az összetevő nem lehet nagyobb az eredeti erőnél."
            },
            {
                question: "Egy ládát 100 N erővel húzunk vízszintesen. Mekkora ennek az erőnek a függőleges összetevője?",
                answers: { a: "0 N", b: "100 N", c: "50 N" },
                correctAnswer: 'a',
                explanation: "Mivel az erő tisztán vízszintes, a függőleges irányra eső vetülete, azaz a függőleges összetevője nulla. ✅ Megoldás: 0 N."
            },
            {
                question: "Egy testet egy ferdén felfelé mutató erő húz. Melyik összetevő emeli a testet?",
                answers: { a: "A függőleges összetevő.", b: "A vízszintes összetevő.", c: "Az eredő erő maga." },
                correctAnswer: 'a',
                explanation: "Az erő függőleges komponense az, ami a nehézségi erő ellenében hat, és emeli a testet. A vízszintes komponens a test vízszintes irányú gyorsításáért felelős. ✅ Megoldás: A függőleges összetevő."
            },
            {
                question: "Egy 50 N nagyságú erő vízszintes összetevője 30 N. Mekkora a függőleges összetevője?",
                answers: { a: "40 N", b: "20 N", c: "80 N" },
                correctAnswer: 'a',
                explanation: "A Pitagorasz-tételt használjuk: 30² + F_függőleges² = 50². Ebből 900 + F_függőleges² = 2500. Tehát F_függőleges² = 1600, amiből F_függőleges = 40 N. ✅ Megoldás: 40 N."
            },
            {
                question: "Mikor a leghasznosabb az erőfelbontás?",
                answers: { a: "Ferde síkon (lejtőn) vagy ferde irányú erők esetén.", b: "Ha az erők egy irányba mutatnak.", c: "Ha a test nyugalomban van." },
                correctAnswer: 'a',
                explanation: "Az erőfelbontás akkor a leghatékonyabb eszköz, amikor a mozgás és az erők nem esnek egy egyenesbe, például egy lejtőn csúszó test vagy egy ferdén húzott szánkó esetében. ✅ Megoldás: Ferde síkon (lejtőn) vagy ferde irányú erők esetén."
            },
            // Kérdések 'b' helyes válasszal (9 db)
            {
                question: "Milyen alakzatot alkot az eredeti erő és a két merőleges összetevője?",
                answers: { a: "Egy egyenlő oldalú háromszöget.", b: "Egy derékszögű háromszöget.", c: "Egy paralelogrammát." },
                correctAnswer: 'b',
                explanation: "Amikor egy erőt két, egymásra merőleges összetevőre bontunk, az eredeti erő (mint átfogó) és a két összetevő (mint befogók) egy derékszögű háromszöget alkotnak. ✅ Megoldás: Egy derékszögű háromszöget."
            },
            {
                question: "Egy 100 N súlyú láda van egy lejtőn. A nehézségi erő lejtővel párhuzamos összetevője...",
                answers: { a: "...mindig 100 N.", b: "...mindig kisebb, mint 100 N (kivéve függőleges lejtőnél).", c: "...mindig nagyobb, mint 100 N." },
                correctAnswer: 'b',
                explanation: "A nehézségi erő a derékszögű háromszög átfogója, az összetevők a befogók. Mivel a befogó mindig rövidebb az átfogónál (kivéve az elfajult esetet), a lejtővel párhuzamos összetevő nagysága mindig kisebb, mint a teljes súly. ✅ Megoldás: ...mindig kisebb, mint 100 N (kivéve függőleges lejtőnél)."
            },
            {
                question: "Melyik állítás igaz az erőfelbontásra?",
                answers: { a: "Az összetevők összege mindig nagyobb, mint az eredeti erő.", b: "Az összetevők vektori összege visszaadja az eredeti erőt.", c: "Egy erőt csak egyféleképpen lehet felbontani." },
                correctAnswer: 'b',
                explanation: "Az erőfelbontás definíciója, hogy a komponensek együttes hatása megegyezik az eredeti erő hatásával. Ez azt jelenti, hogy ha a komponenseket vektorilag összeadjuk, visszakapjuk az eredeti vektort. ✅ Megoldás: Az összetevők vektori összege visszaadja az eredeti erőt."
            },
            {
                question: "Egy lámpát két, egymásra merőleges kötél tart, az egyik 30 N, a másik 40 N erővel. Mekkora a lámpa súlya?",
                answers: { a: "70 N", b: "50 N", c: "10 N" },
                correctAnswer: 'b',
                explanation: "A lámpa súlyát a két kötélerő eredője egyenlíti ki. Mivel a kötélerők merőlegesek, az eredőjüket a Pitagorasz-tétellel számolhatjuk: 30² + 40² = 900 + 1600 = 2500. Az eredő erő √2500 = 50 N. Tehát a lámpa súlya is 50 N. ✅ Megoldás: 50 N."
            },
            {
                question: "Egy testet 10 N erő húz függőlegesen felfelé. Mekkora ennek az erőnek a vízszintes összetevője?",
                answers: { a: "10 N", b: "0 N", c: "5 N" },
                correctAnswer: 'b',
                explanation: "Mivel az erő tisztán függőleges, a vízszintes irányra eső vetülete, azaz a vízszintes összetevőjének nagysága nulla. ✅ Megoldás: 0 N."
            },
            {
                question: "Egy lejtőn lévő testre ható nehézségi erő lejtőre merőleges összetevőjét mi egyenlíti ki?",
                answers: { a: "A súrlódási erő.", b: "A lejtő által kifejtett tartóerő.", c: "A levegő felhajtóereje." },
                correctAnswer: 'b',
                explanation: "A nehézségi erő lejtőre merőleges komponense 'nyomja' a testet a lejtőnek. Erre a nyomóerőre válaszol a lejtő egy ugyanakkora, de ellentétes irányú tartóerővel. ✅ Megoldás: A lejtő által kifejtett tartóerő."
            },
            {
                question: "Mikor egyenlő egy erő két merőleges összetevőjének nagysága?",
                answers: { a: "Soha.", b: "Ha az erő 45°-os szöget zár be mindkét tengellyel.", c: "Ha az erő függőleges." },
                correctAnswer: 'b',
                explanation: "Ha az erő pont 'félúton' van a két merőleges tengely között, azaz 45°-os szöget zár be velük, akkor a két összetevője egyenlő nagyságú lesz. A felbontás egy egyenlő szárú derékszögű háromszöget eredményez. ✅ Megoldás: Ha az erő 45°-os szöget zár be mindkét tengellyel."
            },
            {
                question: "Az erőfelbontás...",
                answers: { a: "...új erőket hoz létre.", b: "...egy létező erőt helyettesít több, egyszerűbb erővel.", c: "...csökkenti az eredeti erő hatását." },
                correctAnswer: 'b',
                explanation: "Fontos megérteni, hogy az erőfelbontás egy matematikai trükk. Nem hozunk létre új, valós erőket, csupán az egyetlen, bonyolult irányú erő hatását írjuk le több, egyszerűbb irányú (pl. merőleges) erő hatásaként. ✅ Megoldás: ...egy létező erőt helyettesít több, egyszerűbb erővel."
            },
            {
                question: "Ha egy erőt két merőleges összetevőre bontunk, akkor az összetevők...",
                answers: { a: "...párhuzamosak egymással.", b: "...derékszöget zárnak be egymással.", c: "...mindig egyenlő nagyságúak." },
                correctAnswer: 'b',
                explanation: "A felbontás definíciója szerint az összetevők egymásra merőlegesek. Ez a módszer lényege és legnagyobb előnye. ✅ Megoldás: ...derékszöget zárnak be egymással."
            },
            // Kérdések 'c' helyes válasszal (8 db)
            {
                question: "Az erő felbontása az erőösszeadás...",
                answers: { a: "...egy speciális esete.", b: "...ugyanaz a művelet.", c: "...ellentétes (inverz) művelete." },
                correctAnswer: 'c',
                explanation: "Míg az erőösszeadásnál több erőből csinálunk egy eredőt, addig a felbontásnál egy erőből csinálunk több összetevőt. A két művelet logikailag egymás fordítottja. ✅ Megoldás: ...ellentétes (inverz) művelete."
            },
            {
                question: "Ha egy erőt felbontunk két összetevőre, mi igaz az összetevők vektori összegére?",
                answers: { a: "Kisebb, mint az eredeti erő.", b: "Nagyobb, mint az eredeti erő.", c: "Pontosan megegyezik az eredeti erővel." },
                correctAnswer: 'c',
                explanation: "Az erőfelbontás alapelve, hogy az összetevők együttes hatása azonos legyen az eredeti erő hatásával. Ez azt jelenti, hogy ha az összetevőket vektorilag összeadjuk, visszakapjuk az eredeti erőt. ✅ Megoldás: Pontosan megegyezik az eredeti erővel."
            },
            {
                question: "Egy ferdén eldobott labda mozgását vizsgáljuk. Milyen irányú összetevőkre bontjuk a nehézségi erőt?",
                answers: { a: "A dobás irányával párhuzamos és merőleges.", b: "Lejtővel párhuzamos és merőleges.", c: "Vízszintes és függőleges." },
                correctAnswer: 'c',
                explanation: "A ferde hajítás mozgásának elemzéséhez a legcélszerűbb a mozgást egy vízszintes (egyenletes) és egy függőleges (egyenletesen változó) mozgásra bontani. Ehhez az erőket is vízszintes és függőleges összetevőkre bontjuk. ✅ Megoldás: Vízszintes és függőleges."
            },
            {
                question: "Egy 100 N súlyú test csúszik le egy 30°-os lejtőn. Mekkora a lejtővel párhuzamos erőkomponens?",
                answers: { a: "100 N", b: "kb. 87 N", c: "50 N" },
                correctAnswer: 'c',
                explanation: "A derékszögű háromszögben, amit a súlyerő és komponensei alkotnak, a lejtővel párhuzamos komponens a 30°-os szöggel szemközti befogó. A 30°-os szögű derékszögű háromszögekre vonatkozó tétel szerint ez a befogó fele az átfogónak (a súlyerőnek). Tehát 100 N / 2 = 50 N. ✅ Megoldás: 50 N."
            },
            {
                question: "Egy testet egy 100 N-os, a vízszintessel 60°-os szöget bezáró kötéllel húzunk. Mekkora az erő vízszintes összetevője?",
                answers: { a: "100 N", b: "kb. 87 N", c: "50 N" },
                correctAnswer: 'c',
                explanation: "Az erő, annak vízszintes és függőleges összetevője egy derékszögű háromszöget alkot. A vízszintes összetevő a 60°-os szög melletti befogó. A 30-60-90 fokos háromszögekre vonatkozó szabály szerint a 60°-os szög melletti befogó fele az átfogónak. Tehát 100 N / 2 = 50 N. ✅ Megoldás: 50 N."
            },
            {
                question: "Az erőfelbontás során kapott összetevők...",
                answers: { a: "...valós erők, amik ténylegesen hatnak a testre.", b: "...mindig erősebbek, mint az eredeti erő.", c: "...matematikai segédeszközök, amelyekkel helyettesítjük az eredeti erőt." },
                correctAnswer: 'c',
                explanation: "Fontos tudni, hogy a valóságban csak az eredeti erő hat. Az összetevők csupán egy számítási segédeszköz, egy modell, amivel leírjuk az egyetlen, valós erő hatását különböző irányokban. ✅ Megoldás: ...matematikai segédeszközök, amelyekkel helyettesítjük az eredeti erőt."
            },
            {
                question: "Mi az erő komponens?",
                answers: { a: "Az erő iránya.", b: "Az erő nagysága.", c: "Az erő egyik összetevője egy adott irányban." },
                correctAnswer: 'c',
                explanation: "Az erő összetevőjét gyakran komponensnek is nevezik. Ez az eredeti erő vetülete egy kiválasztott irányra (tengelyre). ✅ Megoldás: Az erő egyik összetevője egy adott irányban."
            },
            {
                question: "Ha egy erőt két, egymásra nem merőleges összetevőre bontunk, az összetevők nagyságának négyzetösszege...",
                answers: { a: "...kisebb, mint az eredeti erő négyzete.", b: "...egyenlő az eredeti erő négyzetével.", c: "...nem egyenlő az eredeti erő négyzetével." },
                correctAnswer: 'c',
                explanation: "A Pitagorasz-tétel (a² + b² = c²) kizárólag derékszögű háromszögekre érvényes. Ha az összetevők nem merőlegesek, akkor nem alkotnak derékszögű háromszöget az eredeti erővel, így a négyzetösszegük nem lesz egyenlő az eredeti erő négyzetével. ✅ Megoldás: ...nem egyenlő az eredeti erő négyzetével."
            }
        ];

        const quizContainer = document.getElementById('quiz-container');
        const checkButton = document.getElementById('check-button');
        const pinInput = document.getElementById('pin-input');
        const resultsContainer = document.getElementById('results');
        const adminPanel = document.getElementById('admin-panel');

        let shuffledQuizData = [];
        let internalCorrectAnswers = { a: 0, b: 0, c: 0 };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function loadQuiz() {
            quizData.forEach(q => {
                internalCorrectAnswers[q.correctAnswer]++;
            });

            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            
            let quizHTML = '';
            shuffledQuizData.forEach((q, index) => {
                quizHTML += `<div class="question-block" id="q-${index}">`;
                quizHTML += `<div class="question-text">${index + 1}. ${q.question}</div>`;
                quizHTML += `<div class="options-container">`;

                const options = Object.entries(q.answers);
                shuffleArray(options);

                options.forEach(([key, value]) => {
                    quizHTML += `<label>
                                    <input type="radio" name="question${index}" value="${key}">
                                    ${value}
                                 </label>`;
                });

                quizHTML += `</div>`;
                quizHTML += `<div class="explanation" id="exp-${index}">${q.explanation}</div>`;
                quizHTML += `</div>`;
            });
            quizContainer.innerHTML = quizHTML;
        }

        function checkAnswers() {
            const pin = pinInput.value;
            const isMasterPin = pin === '121909';
            const isStudentPin = pin >= 100001 && pin <= 100020;
            let score = 0;
            let allAnswered = true;

            if (!isMasterPin) {
                 for (let i = 0; i < shuffledQuizData.length; i++) {
                    const selectedOption = document.querySelector(`input[name="question${i}"]:checked`);
                    if (!selectedOption) {
                        allAnswered = false;
                        break;
                    }
                }
            }
           
            if (!isMasterPin && !isStudentPin) {
                resultsContainer.textContent = "Érvénytelen PIN kód!";
                resultsContainer.style.color = '#D50000';
                return;
            }

            if (!allAnswered && !isMasterPin) {
                resultsContainer.textContent = "Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!";
                resultsContainer.style.color = 'orange';
                return;
            }
            resultsContainer.style.color = '#333'; // Reset color

            shuffledQuizData.forEach((q, index) => {
                const explanation = document.getElementById(`exp-${index}`);
                explanation.style.display = 'block';

                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);

                document.querySelectorAll(`input[name="question${index}"]`).forEach(option => {
                    const label = option.parentElement;
                    option.disabled = true;

                    // Reveal the correct answer for everyone
                    if (option.value === q.correctAnswer) {
                        label.classList.add('correct-answer-reveal');
                    }
                    
                    // Color student's specific choice if a student PIN is used
                    if(isStudentPin && selectedOption && selectedOption === option){
                        if(selectedOption.value !== q.correctAnswer){
                             label.classList.add('student-incorrect');
                        }
                    }
                });
                
                if (selectedOption && selectedOption.value === q.correctAnswer) {
                    score++;
                }
            });

            if(isMasterPin){
                resultsContainer.textContent = "Minden válasz és magyarázat felfedve.";
                adminPanel.style.display = 'block';
                document.getElementById('dist-a').textContent = internalCorrectAnswers.a;
                document.getElementById('dist-b').textContent = internalCorrectAnswers.b;
                document.getElementById('dist-c').textContent = internalCorrectAnswers.c;
            }

            if(isStudentPin){
                const percentage = Math.round((score / shuffledQuizData.length) * 100);
                resultsContainer.innerHTML = `Eredményed: ${score} / ${shuffledQuizData.length} (${percentage}%)`;
            }
        }
        
        pinInput.addEventListener('keydown', function(event) {
            if (event.key === 'Enter') {
                checkButton.click(); // Simulate a button click
            }
        });

        checkButton.addEventListener('click', checkAnswers);
        document.addEventListener('DOMContentLoaded', loadQuiz);
    </script>

</body>
</html>