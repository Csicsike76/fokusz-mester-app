<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kv√≠z: 8. Oszt√°ly - √âv v√©gi √∂sszefoglal√≥</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');
        :root{--primary-color:#007BFF;--secondary-color:#f1f1f1;--background-color:#f8f9fa;--text-color:#333;--correct-color:#28a745;--correct-bg:#d4edda;--incorrect-color:#dc3545;--incorrect-bg:#f8d7da;--neutral-border:#dee2e6}body{font-family:'Poppins',sans-serif;background-color:var(--background-color);color:var(--text-color);margin:0;padding:20px;display:flex;justify-content:center}.quiz-container{width:100%;max-width:800px;background-color:#fff;border-radius:15px;box-shadow:0 4px 20px rgba(0,0,0,.1);overflow:hidden}header{padding:20px;background:linear-gradient(90deg,#cd2a3e 33.3%,#fff 33.3%,#fff 66.6%,#477050 66.6%);text-align:center}header h1{color:var(--text-color);margin:0;font-size:2em;text-shadow:1px 1px 3px rgba(0,0,0,.2)}main{padding:30px}#quiz-form{display:flex;flex-direction:column;gap:25px}.question-block{border:1px solid var(--neutral-border);border-radius:10px;padding:20px;transition:box-shadow .3s}.question-block:focus-within{box-shadow:0 0 10px rgba(0,123,255,.25)}.question-text{font-weight:600;margin-bottom:15px;font-size:1.1em}.options{display:flex;flex-direction:column;gap:10px}.options label{display:flex;align-items:center;padding:15px;border:1px solid var(--neutral-border);border-radius:8px;cursor:pointer;transition:background-color .3s,border-color .3s}.options label:hover{background-color:#f8f9fa}.options input[type=radio]{margin-right:15px;accent-color:var(--primary-color)}.explanation{margin-top:15px;padding:15px;background-color:var(--secondary-color);border-left:5px solid var(--primary-color);border-radius:5px;display:none;font-size:.95em}.explanation strong{display:block;margin-bottom:5px}.evaluation-block{margin-bottom:20px}.controls-container{padding:20px;background-color:#fdfdfd;border:1px dashed var(--neutral-border);border-radius:10px;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;gap:15px}.controls-container label{font-weight:600}.pin-code-input{padding:10px;border-radius:5px;border:1px solid var(--neutral-border);width:120px;text-align:center;font-size:1em}.check-btn{padding:12px 25px;background-color:var(--primary-color);color:#fff;border:none;border-radius:5px;cursor:pointer;font-size:1em;font-weight:600;transition:background-color .3s,transform .1s}.check-btn:hover{background-color:#0056b3}.check-btn:active{transform:scale(.98)}.check-btn:disabled{background-color:#aaa;cursor:not-allowed}.result-container{margin-top:15px;text-align:center;font-size:1.2em;font-weight:700;min-height:1.5em}.admin-panel{margin-top:10px;padding:15px;background-color:#fffbe6;border:1px solid #ffeeba;border-radius:8px;text-align:center;font-weight:600;color:#856404}.correct-answer{background-color:var(--correct-bg)!important;border-color:var(--correct-color)!important}.incorrect-answer{background-color:var(--incorrect-bg)!important;border-color:var(--incorrect-color)!important}.master-correct::before{content:'‚úÖ Helyes: ';font-weight:700}.label-correct::before{content:'‚úÖ '}.label-incorrect::before{content:'‚ùå '}@media (max-width:600px){body{padding:10px}main{padding:15px}header h1{font-size:1.5em}}
    </style>
</head>
<body>
    <div class="quiz-container">
        <header><h1>Kv√≠z: 8. Oszt√°ly - √âv v√©gi √∂sszefoglal√≥</h1></header>
        <main>
            <div class="evaluation-block" id="top-evaluation">
                <div class="controls-container">
                    <label for="pin-code-top">PIN k√≥d:</label>
                    <input type="password" id="pin-code-top" class="pin-code-input" autocomplete="new-password">
                    <button type="button" class="check-btn">Ellen≈ërz√©s</button>
                </div>
                <div class="result-container"></div>
                <div class="admin-panel" style="display: none;"><p>Mester m√≥d akt√≠v. V√°laszok eloszl√°sa: 8 'a', 9 'b', 8 'c'.</p></div>
            </div>
            <hr style="border: none; border-top: 1px solid #eee; margin: 30px 0;">
            <form id="quiz-form" autocomplete="off"><div id="questions-container"></div></form>
        </main>
    </div>
    <script>
        const quizData = [
            { question: "Mi az f(x) = 2x - 8 f√ºggv√©ny z√©rushelye?", options: { a: "x = 4", b: "x = -8", c: "x = 8" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A z√©rushelyet az f(x)=0 egyenlet megold√°s√°val kapjuk. 2x - 8 = 0. üîπ 2. L√©p√©s: Adjunk 8-at mindk√©t oldalhoz: 2x = 8. Osszunk 2-vel: x = 4. ‚úÖ Megold√°s: A z√©rushely x=4." },
            { question: "Melyik √°ll√≠t√°s igaz a p√°rhuzamos s√≠kokra?", options: { a: "Pontosan egy k√∂z√∂s pontjuk van.", b: "Nincs k√∂z√∂s pontjuk.", c: "Egy egyenesben metszik egym√°st." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A p√°rhuzamoss√°g defin√≠ci√≥ja, hogy a k√©t s√≠k soha nem tal√°lkozik. üîπ 2. L√©p√©s: Ha nincs tal√°lkoz√°si pont, akkor a k√∂z√∂s pontok sz√°ma nulla. ‚úÖ Megold√°s: Nincs k√∂z√∂s pontjuk." },
            { question: "Mennyi egy 3 cm √©l≈± kocka t√©rfogata?", options: { a: "9 cm¬≥", b: "54 cm¬≥", c: "27 cm¬≥" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A kocka t√©rfogat√°nak k√©plete V = a * a * a. üîπ 2. L√©p√©s: Behelyettes√≠tve az a=3 cm √©rt√©ket: V = 3 * 3 * 3 = 27. ‚úÖ Megold√°s: A kocka t√©rfogata 27 cm¬≥." },
            { question: "Melyik a megold√°sa az x¬≤ - 25 = 0 egyenletnek?", options: { a: "csak 5", b: "5 √©s -5", c: "csak 25" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ez egy hi√°nyos m√°sodfok√∫ egyenlet. Rendezz√ºk: x¬≤ = 25. üîπ 2. L√©p√©s: Olyan sz√°mot keres√ºnk, aminek a n√©gyzete 25. Mind az 5-nek (5*5=25), mind a -5-nek (-5*-5=25) a n√©gyzete 25. ‚úÖ Megold√°s: Az egyenletnek k√©t megold√°sa van: 5 √©s -5." },
            { question: "Mi egy 10 cm sugar√∫ g√∂mb felsz√≠ne?", options: { a: "100œÄ cm¬≤", b: "400œÄ cm¬≤", c: "kb. 4000/3 œÄ cm¬≥" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A g√∂mb felsz√≠n√©nek k√©plete A = 4 * œÄ * r¬≤. üîπ 2. L√©p√©s: Behelyettes√≠tve r=10: A = 4 * œÄ * 10¬≤ = 4 * œÄ * 100 = 400œÄ. ‚úÖ Megold√°s: 400œÄ cm¬≤." },
            { question: "Mi a [‚àí2, 5) √©s [3, 8] intervallumok metszete?", options: { a: "[3, 5)", b: "[‚àí2, 8]", c: "{3, 4}" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A metszet a k√∂z√∂s r√©szt jelenti. Rajzoljuk fel a k√©t intervallumot a sz√°megyenesre! üîπ 2. L√©p√©s: Az els≈ë intervallum -2-t≈ël (z√°rt) 5-ig (ny√≠lt) tart. A m√°sodik 3-t√≥l (z√°rt) 8-ig (z√°rt). üîπ 3. L√©p√©s: A k√∂z√∂s r√©sz ott kezd≈ëdik, ahol a 'k√©s≈ëbbi' intervallum kezd≈ëdik (3), √©s ott √©r v√©get, ahol a 'kor√°bbi' v√©gz≈ëdik (5). Mivel az 5 az els≈ë intervallumban ny√≠lt, a metszetben is ny√≠lt lesz. ‚úÖ Megold√°s: [3, 5)." },
            { question: "Milyen a monotonit√°sa az f(x) = -3x + 1 f√ºggv√©nynek?", options: { a: "szigor√∫an monoton n√∂vekv≈ë", b: "szigor√∫an monoton cs√∂kken≈ë", c: "konstans" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A monotonit√°st a meredeks√©g ('a' √©rt√©ke) hat√°rozza meg. Itt a = -3. üîπ 2. L√©p√©s: Mivel a meredeks√©g negat√≠v, a f√ºggv√©ny grafikonja balr√≥l jobbra 'lefel√©' halad. ‚úÖ Megold√°s: A f√ºggv√©ny szigor√∫an monoton cs√∂kken≈ë." },
            { question: "Mi egy 6 cm magas, 8 cm alap√©l≈± n√©gyzet alap√∫ g√∫la oldallapj√°nak magass√°ga?", options: { a: "10 cm", b: "‚àö52 cm (kb. 7,2 cm)", c: "5 cm" }, correctAnswer: "b", explanation: "A k√©rd√©s nem egy√©rtelm≈±. Jav√≠tom: A testmagass√°g 6, az alap√©l 8. Az alap√©l fele 4. Pitagorasz-t√©tel: 6¬≤+4¬≤ = (m_o)¬≤. 36+16=52. m_o=‚àö52. A v√°lasz j√≥. ‚úÖ Megold√°s: A testmagass√°g (befog√≥), az alap√©l fele (befog√≥, 8/2=4) √©s az oldallap magass√°ga (√°tfog√≥) der√©ksz√∂g≈± h√°romsz√∂get alkotnak. 6¬≤+4¬≤ = 36+16=52. Az oldallap magass√°ga ‚àö52 cm." },
            { question: "Mi a megold√°sa a 2x - 5 > 7 egyenl≈ëtlens√©gnek?", options: { a: "x > 6", b: "x < 6", c: "x > 1" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Rendezz√ºk az egyenl≈ëtlens√©get, mint egy egyenletet. Adjunk 5-√∂t mindk√©t oldalhoz: 2x > 12. üîπ 2. L√©p√©s: Osszunk 2-vel. Mivel pozit√≠v sz√°mmal osztunk, a rel√°ci√≥s jel nem fordul meg. x > 6. ‚úÖ Megold√°s: x > 6." },
            { question: "Mi a (x - 4)¬≤ kifejez√©s kifejtett alakja?", options: { a: "x¬≤ - 16", b: "x¬≤ - 8x + 16", c: "x¬≤ + 8x + 16" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Az (a - b)¬≤ = a¬≤ - 2ab + b¬≤ nevezetes azonoss√°got haszn√°ljuk. üîπ 2. L√©p√©s: Itt a=x √©s b=4. Behelyettes√≠tve: x¬≤ - 2*x*4 + 4¬≤ = x¬≤ - 8x + 16. ‚úÖ Megold√°s: x¬≤ - 8x + 16." },
            { question: "K√©t p√°rhuzamos egyenest egy harmadik metsz. Az egyik sz√∂g 65¬∞. Mekkora a v√°lt√≥sz√∂ge?", options: { a: "115¬∞", b: "65¬∞", c: "25¬∞" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A v√°lt√≥sz√∂gek a metsz≈ë ellent√©tes oldal√°n, a p√°rhuzamosok 'k√∂z√∂tt' helyezkednek el. üîπ 2. L√©p√©s: P√°rhuzamos egyenesek eset√©n a v√°lt√≥sz√∂gek mindig egyenl≈ëek. ‚úÖ Megold√°s: 65¬∞." },
            { question: "Mi egy 10 cm sugar√∫, 10 cm magas henger t√©rfogata?", options: { a: "1000œÄ cm¬≥", b: "100œÄ cm¬≥", c: "200œÄ cm¬≥" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A henger t√©rfogata V = T_alap * m = (œÄ * r¬≤) * m. üîπ 2. L√©p√©s: V = œÄ * 10¬≤ * 10 = œÄ * 100 * 10 = 1000œÄ. ‚úÖ Megold√°s: 1000œÄ cm¬≥." },
            { question: "Mi a 2, 8, 3, 2, 5 adatsor medi√°nja?", options: { a: "3", b: "2", c: "4" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: El≈ësz√∂r rendezz√ºk sorba az adatokat: 2, 2, 3, 5, 8. üîπ 2. L√©p√©s: A medi√°n a sorba rendezett adatsor k√∂z√©ps≈ë eleme. P√°ratlan (5) sz√°m√∫ adatunk van, a k√∂z√©ps≈ë a harmadik. ‚úÖ Megold√°s: A medi√°n 3." },
            { question: "Melyik pont van rajta az f(x) = -x + 5 f√ºggv√©ny grafikonj√°n?", options: { a: "(5; 0)", b: "(2; 7)", c: "(3; 8)" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Helyettes√≠ts√ºk be az x koordin√°t√°t a f√ºggv√©nybe. üîπ 2. L√©p√©s: Ha x=5, f(5) = -5 + 5 = 0. Az y koordin√°ta 0. Teh√°t az (5; 0) pont rajta van. (Ez a z√©rushelye is). ‚úÖ Megold√°s: (5; 0)." },
            { question: "Egy kocka test√°tl√≥ja mer≈ëleges az alaplap √°tl√≥j√°ra, amellyel kit√©r≈ë helyzet≈±. Melyik t√©tel bizony√≠tja ezt?", options: { a: "Pitagorasz-t√©tel", b: "Thal√©sz-t√©tel", c: "A h√°rom mer≈ëleges t√©tele" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A test√°tl√≥ (ferde egyenes) vet√ºlete az alaplapra a m√°sik lap√°tl√≥. üîπ 2. L√©p√©s: Mivel a n√©gyzetben az √°tl√≥k mer≈ëlegesek egym√°sra, a test√°tl√≥ vet√ºlete mer≈ëleges a vizsg√°lt alap√°tl√≥ra. üîπ 3. L√©p√©s: A h√°rom mer≈ëleges t√©tele kimondja: ha a vet√ºlet mer≈ëleges, akkor az eredeti ferde egyenes is mer≈ëleges. ‚úÖ Megold√°s: A h√°rom mer≈ëleges t√©tele." },
            { question: "Mi a 4x¬≤ - 9 kifejez√©s t√©nyez≈ëkre bontott alakja?", options: { a: "(2x - 3)¬≤", b: "(2x - 3)(2x + 3)", c: "(4x - 3)(x + 3)" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Az a¬≤ - b¬≤ = (a - b)(a + b) azonoss√°got kell felismerni. üîπ 2. L√©p√©s: Itt a¬≤ = 4x¬≤ (teh√°t a=2x) √©s b¬≤ = 9 (teh√°t b=3). üîπ 3. L√©p√©s: Behelyettes√≠tve: (2x - 3)(2x + 3). ‚úÖ Megold√°s: (2x - 3)(2x + 3)." },
            { question: "Egy 6 cm sugar√∫, 8 cm magas k√∫p alkot√≥j√°nak hossza...", options: { a: "14 cm", b: "10 cm", c: "2 cm" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A k√∫p sugara (r), magass√°ga (m) √©s alkot√≥ja (a) egy der√©ksz√∂g≈± h√°romsz√∂get alkotnak, ahol az alkot√≥ az √°tfog√≥. üîπ 2. L√©p√©s: Pitagorasz-t√©tel: 6¬≤ + 8¬≤ = a¬≤. 36 + 64 = 100. a¬≤ = 100. a = 10 cm. ‚úÖ Megold√°s: 10 cm." },
            { question: "Melyik NEM hat√°roz meg egy√©rtelm≈±en egy s√≠kot?", options: { a: "k√©t p√°rhuzamos egyenes", b: "h√°rom, egy egyenesre illeszked≈ë pont", c: "k√©t metsz≈ë egyenes" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ha a h√°rom pont egy egyenesen van, az olyan, mintha egy tengely lenne. üîπ 2. L√©p√©s: Ezen a tengelyen v√©gtelen sok s√≠kot lehet '√°tforgatni'. ‚úÖ Megold√°s: H√°rom, egy egyenesre illeszked≈ë pont." },
            { question: "Egy 10 cm √©l≈± kocka felsz√≠n√©n a legr√∂videbb √∫t az egyik cs√∫csb√≥l a szemk√∂zti cs√∫csba...", options: { a: "kb. 22,4 cm.", b: "30 cm.", c: "kb. 17,3 cm." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Ehhez a kocka testh√°l√≥j√°t kell haszn√°lni. Kiter√≠t√ºnk k√©t szomsz√©dos lapot, ami egy 20x10-es t√©glalapot ad. üîπ 2. L√©p√©s: A legr√∂videbb √∫t ennek a t√©glalapnak az √°tl√≥ja. Pitagorasz-t√©tel: 10¬≤ + 20¬≤ = c¬≤. 100+400=500. c = ‚àö500 ‚âà 22,36 cm. ‚úÖ Megold√°s: kb. 22,4 cm." },
            { question: "Mi a (3; -4) pont t√°vols√°ga az orig√≥t√≥l?", options: { a: "7", b: "5", c: "1" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A pont, az orig√≥ √©s a pont vet√ºletei a tengelyeken egy der√©ksz√∂g≈± h√°romsz√∂get alkotnak. üîπ 2. L√©p√©s: A befog√≥k hossza 3 √©s 4. A t√°vols√°g az √°tfog√≥. Pitagorasz-t√©tel: 3¬≤ + 4¬≤ = c¬≤. 9+16=25. c=5. ‚úÖ Megold√°s: 5." },
            { question: "Mi az f(x) = (Alapter√ºlet * x) / 3 k√©plet?", options: { a: "A g√∫la t√©rfogata az x magass√°g f√ºggv√©ny√©ben.", b: "A has√°b felsz√≠ne az x alap√©l f√ºggv√©ny√©ben.", c: "A k√∂r ter√ºlete az x sug√°r f√ºggv√©ny√©ben." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A k√©pletben (Alapter√ºlet * magass√°g) / 3 szerepel, ami a g√∫la t√©rfogat√°nak k√©plete. üîπ 2. L√©p√©s: Itt a magass√°got jel√∂li az x, teh√°t a t√©rfogatot kapjuk a magass√°g f√ºggv√©ny√©ben. ‚úÖ Megold√°s: A g√∫la t√©rfogata az x magass√°g f√ºggv√©ny√©ben." },
            { question: "Melyik diagramt√≠pus mutatja a legjobban egy eg√©sz ar√°nyait?", options: { a: "vonaldiagram", b: "k√∂rdiagram", c: "oszlopdiagram" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A k√∂rdiagram a teljes k√∂rt (100%) osztja fel szeletekre. üîπ 2. L√©p√©s: A szeletek m√©rete ar√°nyos az egyes kateg√≥ri√°k r√©szesed√©s√©vel, √≠gy kiv√°l√≥an szeml√©lteti az ar√°nyokat. ‚úÖ Megold√°s: K√∂rdiagram." },
            { question: "Mekkora egy kocka k√©t szomsz√©dos lapj√°nak lapsz√∂ge?", options: { a: "45¬∞", b: "60¬∞", c: "90¬∞" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A kocka szomsz√©dos lapjai mer≈ëlegesek egym√°sra. üîπ 2. L√©p√©s: A mer≈ëleges s√≠kok hajl√°ssz√∂ge, azaz lapsz√∂ge defin√≠ci√≥ szerint 90¬∞. ‚úÖ Megold√°s: 90¬∞." },
            { question: "Egy 10 cm √©l≈± kocka test√°tl√≥j√°nak hossza?", options: { a: "kb. 14,1 cm", b: "kb. 17,3 cm", c: "10 cm" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A test√°tl√≥ (D), az √©l (a) √©s a lap√°tl√≥ (d) der√©ksz√∂g≈± h√°romsz√∂get alkotnak. d¬≤ = 10¬≤+10¬≤=200. üîπ 2. L√©p√©s: D¬≤ = d¬≤ + a¬≤ = 200 + 10¬≤ = 300. D = ‚àö300 = 10‚àö3 ‚âà 17,32 cm. ‚úÖ Megold√°s: kb. 17,3 cm." },
            { question: "Az (x+5)(x-5) szorzat mivel egyenl≈ë?", options: { a: "x¬≤ + 25", b: "x¬≤ - 25", c: "x¬≤ - 10x + 25" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Az (a+b)(a-b) = a¬≤ - b¬≤ nevezetes azonoss√°got kell felismerni. üîπ 2. L√©p√©s: Itt a=x √©s b=5. Behelyettes√≠tve: x¬≤ - 5¬≤. ‚úÖ Megold√°s: x¬≤ - 25." }
        ];
        
        const questionsContainer = document.getElementById('questions-container');
        const topEvaluationBlock = document.getElementById('top-evaluation');

        let shuffledData;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function shuffleOptions(options) {
            const optionsArray = Object.entries(options).map(([key, text]) => ({ key, text }));
            return shuffle([...optionsArray]);
        }

        function renderQuiz() {
            shuffledData = shuffle([...quizData]);
            let questionHTML = '';
            shuffledData.forEach((item, index) => {
                const randomizedOptions = shuffleOptions(item.options);
                const optionLetters = ['a', 'b', 'c'];
                
                let optionsHTML = '';
                randomizedOptions.forEach((option, i) => {
                    const letter = optionLetters[i];
                    const uniqueId = `q${index}${letter}`;
                    optionsHTML += `
                        <label for="${uniqueId}">
                            <input type="radio" name="question${index}" id="${uniqueId}" value="${option.key}">
                            ${letter}) ${option.text}
                        </label>
                    `;
                });

                questionHTML += `
                    <div class="question-block" id="q-block-${index}">
                        <p class="question-text">${index + 1}. ${item.question}</p>
                        <div class="options">${optionsHTML}</div>
                        <div class="explanation" id="explanation-${index}">${item.explanation}</div>
                    </div>
                `;
            });
            questionsContainer.innerHTML = questionHTML;
        }

        function checkAnswers() {
            const pin = topEvaluationBlock.querySelector('.pin-code-input').value;
            const checkBtn = topEvaluationBlock.querySelector('.check-btn');
            const resultContainer = topEvaluationBlock.querySelector('.result-container');
            const adminPanel = topEvaluationBlock.querySelector('.admin-panel');

            const MASTER_PIN = '121909';
            const isMaster = pin === MASTER_PIN;
            const isStudent = (parseInt(pin) >= 100001 && parseInt(pin) <= 100020);

            if (!isMaster && !isStudent) {
                alert('√ârv√©nytelen PIN k√≥d! K√©rj√ºk, adjon meg egy √©rv√©nyes tanul√≥i (100001-100020) vagy mester PIN-t.');
                return;
            }

            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            if (!isMaster && answeredQuestions < shuffledData.length) {
                alert(`K√©rj√ºk, v√°laszolj az √∂sszes k√©rd√©sre! Jelenleg ${answeredQuestions}/${shuffledData.length} k√©rd√©sre v√°laszolt√°l.`);
                return;
            }

            let score = 0;
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.disabled = true);
            checkBtn.disabled = true;
            topEvaluationBlock.querySelector('.pin-code-input').disabled = true;

            shuffledData.forEach((item, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const explanationDiv = document.getElementById(`explanation-${index}`);
                explanationDiv.style.display = 'block';

                if (isMaster) {
                    document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                        if (radio.value === item.correctAnswer) {
                            radio.parentElement.classList.add('correct-answer', 'master-correct');
                        }
                    });
                } else {
                     if (selectedOption) {
                        const selectedLabel = selectedOption.parentElement;
                        if (selectedOption.value === item.correctAnswer) {
                            score++;
                            selectedLabel.classList.add('correct-answer', 'label-correct');
                        } else {
                            selectedLabel.classList.add('incorrect-answer', 'label-incorrect');
                             document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                                if (radio.value === item.correctAnswer) {
                                    radio.parentElement.classList.add('correct-answer');
                                }
                            });
                        }
                    } else { 
                         document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                            if (radio.value === item.correctAnswer) {
                                radio.parentElement.classList.add('correct-answer');
                            }
                        });
                    }
                }
            });

            const percentage = ((score / shuffledData.length) * 100).toFixed(1);
            if (!isMaster) {
                resultContainer.innerHTML = `Eredm√©nyed: ${score} / ${shuffledData.length} (${percentage}%)`;
            } else {
                 resultContainer.innerHTML = `Mester m√≥d: Helyes v√°laszok √©s magyar√°zatok felfedve.`;
            }


            if (isMaster) {
                adminPanel.style.display = 'block';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
            
            const mainCheckBtn = topEvaluationBlock.querySelector('.check-btn');
            const mainPinInput = topEvaluationBlock.querySelector('.pin-code-input');

            mainCheckBtn.addEventListener('click', checkAnswers);
            mainPinInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    checkAnswers();
                }
            });
        });

    </script>
</body>
</html>