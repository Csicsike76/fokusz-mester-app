<!-- ===============================================
  FÃJLNÃ‰V: kviz_intervallumok_abrazolas.html
  TÃ‰MA: Intervallumok Ã¡brÃ¡zolÃ¡sa a szÃ¡mtengelyen
  25 kÃ©rdÃ©s â€“ helyes vÃ¡laszÂ­eloszlÃ¡s: 8Ã—a, 9Ã—b, 8Ã—c
  Mester PIN: 121909
  TanulÃ³i PIN-ek: 100001â€“100020
==================================================== -->
<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>GyakorlÃ³ KvÃ­z â€“ Intervallumok Ã¡brÃ¡zolÃ¡sa a szÃ¡mtengelyen</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --green:#28a745; --green-dark:#1e7e34; --red:#dc3545; --red-dark:#c82333;
      --blue:#007bff; --blue-dark:#0056b3; --light:#f8f9fa; --dark:#343a40;
      --master:#ff6b35;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Roboto,sans-serif;background:var(--light);color:var(--dark);line-height:1.6;padding:1rem}
    .header{background:linear-gradient(135deg,var(--blue),var(--blue-dark));color:#fff;text-align:center;padding:2rem;margin-bottom:2rem;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.1)}
    .header h1{font-size:2rem;margin-bottom:.5rem;font-weight:600}
    .header .subtitle{font-size:1.1rem;opacity:.9;font-weight:300}
    .master-mode{background:var(--master);color:#fff;padding:.5rem 1rem;border-radius:20px;margin:1rem 0;text-align:center;font-weight:600;display:none;animation:pulse 2s infinite}
    @keyframes pulse{0%{opacity:1}50%{opacity:.7}100%{opacity:1}}
    .question{background:#fff;border:1px solid #e1e8ed;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .question h3{font-size:1.1rem;margin-bottom:1rem;font-weight:500}
    .answer-option{display:block;padding:.8rem;margin:.5rem 0;border-radius:6px;cursor:pointer;transition:.2s;border:2px solid transparent;position:relative}
    .answer-option:hover{background:#f1f3f4;border-color:#e8eaed}
    .answer-option input{margin-right:.8rem;transform:scale(1.1)}
    .correct{background:var(--green)!important;color:#fff!important;border-color:var(--green-dark)!important}
    .correct::after{content:"âœ…";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .wrong{background:var(--red)!important;color:#fff!important;border-color:var(--red-dark)!important}
    .wrong::after{content:"âŒ";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .master-correct{background:var(--green)!important;color:#fff!important;border-color:var(--green-dark)!important}
    .master-correct::after{content:"ğŸ¯";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .explanation{display:none;margin-top:1rem;padding:1rem;background:#e8f4f8;border-left:4px solid var(--blue);border-radius:4px;font-size:.95rem}
    .explanation.show{display:block}
    .pin-area{background:#fff;border:2px solid var(--blue);border-radius:8px;padding:2rem;margin:2rem 0;text-align:center}
    .pin-area input{padding:.8rem;border:2px solid #ddd;border-radius:6px;width:140px;text-align:center;font-size:1.1rem;font-weight:500}
    .btn{display:inline-block;background:var(--blue);color:#fff;padding:.8rem 1.5rem;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:.3s;font-size:1rem}
    .btn:hover{background:var(--blue-dark)}
    .btn-master{background:var(--master)}
    .btn-master:hover{background:#e55a2b}
    .score-box{display:none;background:#fff;border:3px solid var(--green);border-radius:10px;padding:2rem;margin:2rem 0;text-align:center}
    .score-box h2{color:var(--green-dark);font-size:2rem;margin-bottom:1rem}
    .score-box .score{font-size:3rem;font-weight:700;color:var(--green)}
    .admin-panel{display:none;background:#f8f9fa;border:2px dashed var(--master);border-radius:8px;padding:1.5rem;margin:2rem 0}
    .admin-panel pre{background:#fff;padding:1rem;border-radius:4px;border:1px solid #ddd;white-space:pre-wrap;max-height:300px;overflow-y:auto}
    .progress-bar{background:#e9ecef;height:6px;border-radius:3px;margin:1rem 0}
    .progress-fill{background:var(--blue);height:100%;transition:width .3s ease;width:0%}
  </style>
</head>
<body>

<div class="header">
  <h1>ğŸ¯ GyakorlÃ³ KvÃ­z</h1>
  <p class="subtitle">Intervallumok Ã¡brÃ¡zolÃ¡sa a szÃ¡mtengelyen</p>
</div>

<div class="master-mode" id="masterMode">ğŸ”‘ MESTER MÃ“D AKTÃV â€“ helyes vÃ¡laszok jelÃ¶lve</div>

<div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

<form id="quizForm" autocomplete="off">
<!--â€“â€“â€“â€“ 25 kÃ©rdÃ©s â€“ 8Ã—a, 9Ã—b, 8Ã—c â€“â€“â€“â€“â€“-->

<!-- 1 (a) -->
<div class="question" data-answer="a">
  <h3>1. Melyik jelÃ¶lÃ©s adja meg helyesen a zÃ¡rt intervallumot, amely 2-tÅ‘l 5-ig tart?</h3>
  <label class="answer-option"><input type="radio" name="q1" value="a">[2, 5]</label>
  <label class="answer-option"><input type="radio" name="q1" value="b">(2, 5)</label>
  <label class="answer-option"><input type="radio" name="q1" value="c">(2, 5]</label>
  <div class="explanation">MindkÃ©t vÃ©gpont benne van, ezÃ©rt zÃ¡rt: [2, 5].</div>
</div>

<!-- 2 (b) -->
<div class="question" data-answer="b">
  <h3>2. Melyik Ã¡llÃ­tÃ¡s igaz a (âˆ’âˆ, 3) intervallumra?</h3>
  <label class="answer-option"><input type="radio" name="q2" value="a">Tartalmazza a 3-at</label>
  <label class="answer-option"><input type="radio" name="q2" value="b">Nyitott vÃ©gpontja van 3-nÃ¡l</label>
  <label class="answer-option"><input type="radio" name="q2" value="c">Csak pozitÃ­v szÃ¡mokat tartalmaz</label>
  <div class="explanation">(âˆ’âˆ, 3) balra hatÃ¡rtalan, 3 nincs benne â†’ nyitott vÃ©g.</div>
</div>

<!-- 3 (a) -->
<div class="question" data-answer="a">
  <h3>3. Hogyan jelÃ¶ljÃ¼k a balra nyitott, jobbra zÃ¡rt intervallumot âˆ’3 Ã©s 2 kÃ¶zÃ¶tt?</h3>
  <label class="answer-option"><input type="radio" name="q3" value="a">(âˆ’3, 2]</label>
  <label class="answer-option"><input type="radio" name="q3" value="b">[âˆ’3, 2)</label>
  <label class="answer-option"><input type="radio" name="q3" value="c">(âˆ’3, 2)</label>
  <div class="explanation">Balra nyitott â†’ kerek, jobbra zÃ¡rt â†’ szÃ¶gletes: (âˆ’3, 2].</div>
</div>

<!-- 4 (c) -->
<div class="question" data-answer="c">
  <h3>4. Mekkora a (4, 6] intervallum hossza?</h3>
  <label class="answer-option"><input type="radio" name="q4" value="a">1</label>
  <label class="answer-option"><input type="radio" name="q4" value="b">2</label>
  <label class="answer-option"><input type="radio" name="q4" value="c">2 egysÃ©g (vÃ©gpontok kÃ¶zti tÃ¡volsÃ¡g)</label>
  <div class="explanation">6âˆ’4 = 2 egysÃ©g; a nyitottsÃ¡g/zÃ¡rtsÃ¡g a hosszt nem befolyÃ¡solja.</div>
</div>

<!-- 5 (a) -->
<div class="question" data-answer="a">
  <h3>5. A (âˆ’2, âˆ) intervallum mely pontban kezdÅ‘dik a tengelyen?</h3>
  <label class="answer-option"><input type="radio" name="q5" value="a">Nyitott kÃ¶r âˆ’2-nÃ©l, onnan jobbra tart vÃ©gtelenig</label>
  <label class="answer-option"><input type="radio" name="q5" value="b">ZÃ¡rt kÃ¶r âˆ’2-nÃ©l, onnan balra tart vÃ©gtelenig</label>
  <label class="answer-option"><input type="radio" name="q5" value="c">ZÃ¡rt kÃ¶r âˆ’2-nÃ©l, onnan jobbra tart vÃ©gtelenig</label>
  <div class="explanation">A â€(â€ jel nyitott vÃ©gpontot jelent.</div>
</div>

<!-- 6 (c) -->
<div class="question" data-answer="c">
  <h3>6. Mely szÃ¡m NEM tartozik a [âˆ’1, 1) intervallumba?</h3>
  <label class="answer-option"><input type="radio" name="q6" value="a">0</label>
  <label class="answer-option"><input type="radio" name="q6" value="b">âˆ’1</label>
  <label class="answer-option"><input type="radio" name="q6" value="c">1</label>
  <div class="explanation">A jobb vÃ©gpont nyitott, ezÃ©rt 1 nincs benne.</div>
</div>

<!-- 7 (b) -->
<div class="question" data-answer="b">
  <h3>7. Mit jelent geometriailag a (a, b) nyÃ­lt intervallum?</h3>
  <label class="answer-option"><input type="radio" name="q7" value="a">Csak a vÃ©gpontok jelÃ¶lÃ©se a tengelyen</label>
  <label class="answer-option"><input type="radio" name="q7" value="b">A kÃ©t vÃ©gpont kÃ¶zti Ã¶sszes pont, a vÃ©gpontok nÃ©lkÃ¼l</label>
  <label class="answer-option"><input type="radio" name="q7" value="c">A kÃ©t vÃ©gpont Ã©s a kÃ¶ztÃ¼k levÅ‘ pontok is</label>
  <div class="explanation">NyÃ­lt intervallum â†’ vÃ©gpontok nem rÃ©szei.</div>
</div>

<!-- 8 (a) -->
<div class="question" data-answer="a">
  <h3>8. A [0, 0] intervallum micsoda?</h3>
  <label class="answer-option"><input type="radio" name="q8" value="a">Egyetlen pont, a 0</label>
  <label class="answer-option"><input type="radio" name="q8" value="b">Ãœres halmaz</label>
  <label class="answer-option"><input type="radio" name="q8" value="c">VÃ©gtelen sok pont</label>
  <div class="explanation">Az azonos vÃ©gpontÃº zÃ¡rt intervallum egy pontot tartalmaz.</div>
</div>

<!-- 9 (b) -->
<div class="question" data-answer="b">
  <h3>9. Ha x âˆˆ (âˆ’5, âˆ’2], melyik Ã¡llÃ­tÃ¡s igaz?</h3>
  <label class="answer-option"><input type="radio" name="q9" value="a">x â‰¤ âˆ’5</label>
  <label class="answer-option"><input type="radio" name="q9" value="b">âˆ’5 < x â‰¤ âˆ’2</label>
  <label class="answer-option"><input type="radio" name="q9" value="c">x â‰¥ âˆ’2</label>
  <div class="explanation">Balra nyitott, jobbra zÃ¡rt intervallum definÃ­ciÃ³ja.</div>
</div>

<!-- 10 (b) -->
<div class="question" data-answer="b">
  <h3>10. Melyik intervallum felel meg a |x| < 3 feltÃ©telnek?</h3>
  <label class="answer-option"><input type="radio" name="q10" value="a">(âˆ’3, 3]</label>
  <label class="answer-option"><input type="radio" name="q10" value="b">(âˆ’3, 3)</label>
  <label class="answer-option"><input type="radio" name="q10" value="c">[âˆ’3, 3]</label>
  <div class="explanation">SzigorÃº kisebb â†’ nyÃ­lt intervallum.</div>
</div>

<!-- 11 (a) -->
<div class="question" data-answer="a">
  <h3>11. Milyen intervallum jelÃ¶li a 2 â‰¤ x < 6 feltÃ©telt?</h3>
  <label class="answer-option"><input type="radio" name="q11" value="a">[2, 6)</label>
  <label class="answer-option"><input type="radio" name="q11" value="b">(2, 6]</label>
  <label class="answer-option"><input type="radio" name="q11" value="c">(2, 6)</label>
  <div class="explanation">Balra zÃ¡rt, jobbra nyitott: [2, 6).</div>
</div>

<!-- 12 (c) -->
<div class="question" data-answer="c">
  <h3>12. Melyik halmaz NEM azonos a (âˆ’âˆ, 0) intervallummal?</h3>
  <label class="answer-option"><input type="radio" name="q12" value="a">A negatÃ­v valÃ³s szÃ¡mok</label>
  <label class="answer-option"><input type="radio" name="q12" value="b">{x âˆˆ â„ | x < 0}</label>
  <label class="answer-option"><input type="radio" name="q12" value="c">{x âˆˆ â„ | x â‰¤ 0}</label>
  <div class="explanation">A â‰¤ jel mÃ¡r tartalmazza a 0-Ã¡t, ami nincs az intervallumban.</div>
</div>

<!-- 13 (b) -->
<div class="question" data-answer="b">
  <h3>13. A szÃ¡mtengelyen mely szÃ­nkÃ³d jelÃ¶li gyakran a zÃ¡rt vÃ©gpontot?</h3>
  <label class="answer-option"><input type="radio" name="q13" value="a">Ãœres kÃ¶r</label>
  <label class="answer-option"><input type="radio" name="q13" value="b">KitÃ¶ltÃ¶tt (teljes) kÃ¶r</label>
  <label class="answer-option"><input type="radio" name="q13" value="c">X jel</label>
  <div class="explanation">A kitÃ¶ltÃ¶tt kÃ¶r vagy pont jelzi, hogy a vÃ©gpont benne van.</div>
</div>

<!-- 14 (c) -->
<div class="question" data-answer="c">
  <h3>14. Az (âˆ’2, 5) Ã©s [1, 7] metszetÃ©nek hossza mennyi?</h3>
  <label class="answer-option"><input type="radio" name="q14" value="a">2</label>
  <label class="answer-option"><input type="radio" name="q14" value="b">4</label>
  <label class="answer-option"><input type="radio" name="q14" value="c">4 egysÃ©g (1-tÅ‘l 5-ig)</label>
  <div class="explanation">Metszet = [1, 5) â†’ hossz 5âˆ’1 = 4.</div>
</div>

<!-- 15 (a) -->
<div class="question" data-answer="a">
  <h3>15. Melyik jelkÃ©pezi a (a, b] intervallum nyitott vÃ©gpontjÃ¡t?</h3>
  <label class="answer-option"><input type="radio" name="q15" value="a">Ãœres kÃ¶r</label>
  <label class="answer-option"><input type="radio" name="q15" value="b">KitÃ¶ltÃ¶tt kÃ¶r</label>
  <label class="answer-option"><input type="radio" name="q15" value="c">NÃ©gyszÃ¶g</label>
  <div class="explanation">Ãœres kÃ¶r = nyitott; kitÃ¶ltÃ¶tt = zÃ¡rt.</div>
</div>

<!-- 16 (b) -->
<div class="question" data-answer="b">
  <h3>16. Ha (âˆ’3, 2) âŠ‚ A, akkor melyik szÃ¡m biztosan NEM tartozik A-hoz?</h3>
  <label class="answer-option"><input type="radio" name="q16" value="a">0</label>
  <label class="answer-option"><input type="radio" name="q16" value="b">âˆ’3</label>
  <label class="answer-option"><input type="radio" name="q16" value="c">1,5</label>
  <div class="explanation">âˆ’3 nincs a nyÃ­lt intervallumban, Ã­gy A-ban sem kÃ¶telezÅ‘en.</div>
</div>

<!-- 17 (c) -->
<div class="question" data-answer="c">
  <h3>17. A (0, âˆ) Ã©s (âˆ’âˆ, 5] uniÃ³ja mely intervallum?</h3>
  <label class="answer-option"><input type="radio" name="q17" value="a">(0, 5]</label>
  <label class="answer-option"><input type="radio" name="q17" value="b">(âˆ’âˆ, 0)</label>
  <label class="answer-option"><input type="radio" name="q17" value="c">(âˆ’âˆ, âˆ) (az egÃ©sz â„)</label>
  <div class="explanation">A kÃ©t rÃ©sz egyÃ¼tt lefedi az Ã¶sszes valÃ³s szÃ¡mot.</div>
</div>

<!-- 18 (a) -->
<div class="question" data-answer="a">
  <h3>18. Melyik intervallum jelÃ¶li, hogy x = 3 is megengedett, de x > 3 nem?</h3>
  <label class="answer-option"><input type="radio" name="q18" value="a">(âˆ’âˆ, 3]</label>
  <label class="answer-option"><input type="radio" name="q18" value="b">[3, âˆ)</label>
  <label class="answer-option"><input type="radio" name="q18" value="c">(âˆ’âˆ, 3)</label>
  <div class="explanation">Balra tart vÃ©gtelenig, zÃ¡rt 3-nÃ¡l.</div>
</div>

<!-- 19 (b) -->
<div class="question" data-answer="b">
  <h3>19. A (2, 5) âˆ© [5, 8) eredmÃ©nye?</h3>
  <label class="answer-option"><input type="radio" name="q19" value="a">(2, 8)</label>
  <label class="answer-option"><input type="radio" name="q19" value="b">âˆ… (Ã¼res halmaz)</label>
  <label class="answer-option"><input type="radio" name="q19" value="c">{5}</label>
  <div class="explanation">Az egyik nyÃ­lt, mÃ¡sik zÃ¡rt, de 5 egyikben sem kÃ¶zÃ¶s, Ã­gy nincs kÃ¶zÃ¶s pont.</div>
</div>

<!-- 20 (b) -->
<div class="question" data-answer="b">
  <h3>20. Melyik Ã­rÃ¡smÃ³d felel meg a zÃ¡rt-nyÃ­lt intervallum grafikus jelÃ¶lÃ©sÃ©nek: â—â”€â”€â”€â”€â—‹ ?</h3>
  <label class="answer-option"><input type="radio" name="q20" value="a">(a, b)</label>
  <label class="answer-option"><input type="radio" name="q20" value="b">[a, b)</label>
  <label class="answer-option"><input type="radio" name="q20" value="c">(a, b]</label>
  <div class="explanation">â— = zÃ¡rt, â—‹ = nyitott: [a, b).</div>
</div>

<!-- 21 (c) -->
<div class="question" data-answer="c">
  <h3>21. Melyik szÃ¡m NEM rÃ©sze a (âˆ’Ï€, Ï€] intervallumnak?</h3>
  <label class="answer-option"><input type="radio" name="q21" value="a">0</label>
  <label class="answer-option"><input type="radio" name="q21" value="b">Ï€</label>
  <label class="answer-option"><input type="radio" name="q21" value="c">âˆ’Ï€</label>
  <div class="explanation">Balra nyitott, Ã­gy âˆ’Ï€ kimarad, Ï€ benne van.</div>
</div>

<!-- 22 (a) -->
<div class="question" data-answer="a">
  <h3>22. Ha egy intervallum hossza nulla, akkor az â€¦</h3>
  <label class="answer-option"><input type="radio" name="q22" value="a">egypontos intervallum</label>
  <label class="answer-option"><input type="radio" name="q22" value="b">vÃ©gtelen intervallum</label>
  <label class="answer-option"><input type="radio" name="q22" value="c">Ã¼res intervallum</label>
  <div class="explanation">Az [a, a] tÃ­pusÃº intervallum egyetlen pontbÃ³l Ã¡ll.</div>
</div>

<!-- 23 (b) -->
<div class="question" data-answer="b">
  <h3>23. Melyik egyenlÅ‘tlensÃ©g felel meg a nyÃ­lt intervallumnak (1, 4)?</h3>
  <label class="answer-option"><input type="radio" name="q23" value="a">1 â‰¤ x â‰¤ 4</label>
  <label class="answer-option"><input type="radio" name="q23" value="b">1 < x < 4</label>
  <label class="answer-option"><input type="radio" name="q23" value="c">1 â‰¤ x < 4</label>
  <div class="explanation">NyÃ­lt = szigorÃº < .</div>
</div>

<!-- 24 (c) -->
<div class="question" data-answer="c">
  <h3>24. Melyik intervallum NEM metszÅ‘dik a (7, 9) intervallummal?</h3>
  <label class="answer-option"><input type="radio" name="q24" value="a">(8, 10)</label>
  <label class="answer-option"><input type="radio" name="q24" value="b">[9, 12]</label>
  <label class="answer-option"><input type="radio" name="q24" value="c">(5, 7]</label>
  <div class="explanation">(5, 7] legfeljebb a 7-et tartalmazza, amely nincs a nyÃ­lt (7, 9)-ben.</div>
</div>

<!-- 25 (c) -->
<div class="question" data-answer="c">
  <h3>25. Ha (a, b) âŠ‚ (âˆ’âˆ, b), akkor â€¦</h3>
  <label class="answer-option"><input type="radio" name="q25" value="a">a â‰¥ 0</label>
  <label class="answer-option"><input type="radio" name="q25" value="b">a = âˆ’âˆ</label>
  <label class="answer-option"><input type="radio" name="q25" value="c">b vÃ©ges szÃ¡m, a tetszÅ‘leges, de b nem âˆ’âˆ</label>
  <div class="explanation">(âˆ’âˆ, b) balra hatÃ¡rtalan, ezÃ©rt b-nek vÃ©gesnek kell lennie, a bÃ¡rmi lehet kisebb nÃ¡la.</div>
</div>

<!--â€“â€“â€“â€“ PIN â€“â€“â€“â€“-->
<div class="pin-area">
  <h3>ğŸ” PIN-kÃ³d ellenÅ‘rzÃ©s</h3>
  <p>Ãrd be a 6 szÃ¡mjegyÅ± PIN-kÃ³dot, majd nyomj Entert vagy kattints az â€EllenÅ‘rzÃ©sâ€ gombra!</p>
  <input type="text" id="pinInput" maxlength="6" placeholder="PIN-kÃ³d" />
  <br><br>
  <button type="button" class="btn" id="checkBtn">ğŸ” EllenÅ‘rzÃ©s</button>
  <button type="button" class="btn btn-master" id="masterBtn" style="display:none;">ğŸ”‘ Mester kiÃ©rtÃ©kelÃ©s</button>
</div>

<!--â€“â€“â€“â€“ EREDMÃ‰NY â€“â€“â€“â€“-->
<div class="score-box" id="scoreBox">
  <h2>ğŸ“Š EredmÃ©ny</h2>
  <div class="score" id="finalScore">0 / 25</div>
  <p id="performance"></p>
</div>

<!--â€“â€“â€“â€“ ADMIN â€“â€“â€“â€“-->
<div class="admin-panel" id="adminPanel">
  <h3>ğŸ› ï¸ Admin panel</h3>
  <pre id="adminData"></pre>
</div>
</form>

<script>
(function(){
  const MASTER_PIN="121909";
  const STUDENT_PINS=Array.from({length:20},(_,i)=>String(100001+i));

  const pinInput=document.getElementById('pinInput');
  const masterMode=document.getElementById('masterMode');
  const masterBtn=document.getElementById('masterBtn');
  const checkBtn=document.getElementById('checkBtn');
  const progressBar=document.getElementById('progressBar');
  const scoreBox=document.getElementById('scoreBox');
  const finalScore=document.getElementById('finalScore');
  const performance=document.getElementById('performance');
  const adminPanel=document.getElementById('adminPanel');
  const adminData=document.getElementById('adminData');
  const form=document.getElementById('quizForm');

  let isMaster=false;

  function highlightCorrect(){
    document.querySelectorAll('.question').forEach(q=>{
      q.querySelectorAll('.answer-option').forEach(op=>{
        op.classList.toggle('master-correct',
          op.querySelector('input').value===q.dataset.answer);
      });
    });
  }
  function removeHighlight(){
    document.querySelectorAll('.master-correct')
      .forEach(el=>el.classList.remove('master-correct'));
  }

  pinInput.addEventListener('input',()=>{
    isMaster=pinInput.value.trim()===MASTER_PIN;
    masterMode.style.display=isMaster?'block':'none';
    masterBtn.style.display=isMaster?'inline-block':'none';
    checkBtn.style.display=isMaster?'none':'inline-block';
    document.querySelectorAll('.explanation')
            .forEach(e=>e.classList.toggle('show',isMaster));
    isMaster?highlightCorrect():removeHighlight();
  });

  /* progress */
  function updateProgress(){
    const answered=[...document.querySelectorAll('.question')]
      .filter(q=>[...q.querySelectorAll('input')].some(i=>i.checked)).length;
    progressBar.style.width=(answered/25*100)+'%';
  }
  document.querySelectorAll('input[type="radio"]')
          .forEach(r=>r.addEventListener('change',updateProgress));

  function evaluate(master=false){
    let correct=0,log=[];
    document.querySelectorAll('.question').forEach((q,idx)=>{
      const ans=q.dataset.answer;
      const sel=q.querySelector('input:checked')?.value||null;
      q.querySelectorAll('.answer-option').forEach(op=>{
        const inp=op.querySelector('input');
        inp.disabled=true;
        op.classList.remove('master-correct');
        if(inp.value===ans){
          op.classList.add('correct');
          if(sel===ans) correct++;
        }else if(inp.checked){op.classList.add('wrong');}
      });
      q.querySelector('.explanation').classList.add('show');
      log.push(`Q${idx+1}: ${sel||'â€“'} | helyes: ${ans}`);
    });
    progressBar.style.width='100%';
    const pct=Math.round(correct/25*100);
    finalScore.textContent=`${correct} / 25`;
    performance.textContent=
      pct>=92?'ğŸ† KivÃ¡lÃ³!'
      :pct>=80?'ğŸ‘ NagyszerÅ±!'
      :pct>=60?'ğŸ“š KÃ¶zepes, gyakorolj!'
      :'ğŸ’ª PrÃ³bÃ¡ld Ãºjra!';
    performance.style.color=pct>=80?'#28a745':pct>=60?'#ffc107':'#dc3545';
    scoreBox.style.display='block';
    if(master){
      adminPanel.style.display='block';
      adminData.textContent=log.join('\n')+
        `\n\nPontossÃ¡g: ${pct}%`;
    }
  }

  checkBtn.onclick=()=>{
    const pin=pinInput.value.trim();
    if(!STUDENT_PINS.includes(pin)){
      alert('âŒ Ã‰rvÃ©nytelen PIN!');
      return;
    }
    if(![...document.querySelectorAll('.question')]
        .every(q=>q.querySelector('input:checked'))){
      alert('âš ï¸ Minden kÃ©rdÃ©sre vÃ¡laszolj!');
      return;
    }
    evaluate(false);
  };
  masterBtn.onclick=()=>evaluate(true);
  pinInput.addEventListener('keydown',e=>{
    if(e.key==='Enter'){
      e.preventDefault();
      (isMaster?masterBtn:checkBtn).click();
    }
  });
})();
</script>

</body>
</html>
