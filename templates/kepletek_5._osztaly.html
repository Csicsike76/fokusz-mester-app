<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <title>5. Osztály - Matematika Képletek és Tételek</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/stilus.css') }}">
    <style>
        .section-wrapper {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            padding: 2.5rem;
            border-radius: 12px;
            margin-top: -2rem;
            box-shadow: 0 6px 18px rgba(0,0,0,0.1);
        }
        .header h1 { text-shadow: 0px 2px 8px rgba(0, 0, 0, 0.7); }
        .header p { text-shadow: 0px 1px 5px rgba(0, 0, 0, 0.6); }

        /* Specifikus stílusok az oldalhoz */
        .formula-card { background: var(--feher); border-radius: 12px; box-shadow: var(--card-shadow); margin-bottom: 2rem; padding: 2rem; border-left: 5px solid var(--piros); }
        .formula-title { font-family: 'Roboto Slab', serif; font-size: 1.8rem; margin-bottom: 1rem; }
        .formula-explanation { margin-bottom: 1.5rem; line-height: 1.7; }
        .formula-expression { font-size: 1.8rem; font-weight: bold; background: #fff1f2; padding: 1rem; border-radius: 8px; text-align: center; }
        .formula-var { position: relative; cursor: pointer; border-bottom: 2px dotted var(--piros); }
        .tooltip-text { visibility: hidden; width: 180px; background-color: var(--sotet); color: var(--feher); text-align: center; border-radius: 6px; padding: 5px 10px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -90px; opacity: 0; transition: opacity 0.3s; font-size: 0.9rem; }
        .formula-var:hover .tooltip-text { visibility: visible; opacity: 1; }
        .button-group { text-align: right; margin-top: 1rem; display: flex; justify-content: flex-end; gap: 0.5rem; flex-wrap: wrap; }
        .example-area { display: none; margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid #e2e8f0; }
        .example-area p { background: #f8fafc; padding: 1rem; border-radius: 8px; border: 1px solid #e2e8f0; }
    </style>
</head>
<body>
    
    <video autoplay muted loop id="bg-video">
      <source src="{{ url_for('static', filename='video/video.mp4') }}" type="video/mp4">
    </video>
    
    {% include 'navigacio.html' %}

    <div class="content-wrapper">
        <header class="header">
            <div class="container">
                <h1>5. Osztály - Matematika</h1>
                <p>Képletek és Tételek Részletes Magyarázattal</p>
            </div>
        </header>

        <main>
            <h1>Matematika Segédlet - 5. Osztály</h1>

            <section id="fejezet1">
                <h2>1. Természetes számok</h2>
                
                <div class="card" id="fejezet1-1">
                    <h3>1.1. Műveleti sorrend</h3>
                    <p>A matematikai műveleteket szigorú sorrendben kell elvégezni a helyes eredmény érdekében. Először a zárójelben lévő, majd a szorzás/osztás, és végül az összeadás/kivonás műveleteket végezzük el, balról jobbra haladva.</p>
                    <div class="formula">
                        <b>Szabály:</b>
                        1. Zárójelben lévő műveletek
                        2. Szorzás és osztás (balról jobbra)
                        3. Összeadás és kivonás (balról jobbra)
                    </div>
                    <div class="example">
                        <b>Példa:</b> Számítsd ki: <span style="font-weight:bold;">10 + (6 - 2) * 3</span>
                        <b>Lépésről lépésre:</b>
                        1. Zárójel: (6 - 2) = 4
                        2. A kifejezés most: 10 + 4 * 3
                        3. Szorzás: 4 * 3 = 12
                        4. A kifejezés most: 10 + 12
                        5. Összeadás: 10 + 12 = 22
                    </div>
                    <a href="{{ url_for('kviz_muveleti_sorrend') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>

                <div class="card" id="fejezet1-2">
                    <h3>1.2. Oszthatósági szabályok</h3>
                    <p>Ezek a szabályok segítenek gyorsan eldönteni, hogy egy szám osztható-e egy másikkal anélkül, hogy elvégeznénk az osztást.</p>
                    <div class="formula">
                        <b>Alapvető szabályok:</b>
                        • <b>2-vel:</b> Ha a szám páros (0, 2, 4, 6, 8-ra végződik).
                        • <b>5-tel:</b> Ha a szám 0-ra vagy 5-re végződik.
                        • <b>10-zel:</b> Ha a szám 0-ra végződik.
                        • <b>3-mal:</b> Ha a számjegyeinek összege osztható 3-mal.
                        • <b>9-cel:</b> Ha a számjegyeinek összege osztható 9-cel.
                    </div>
                    <div class="example">
                        <b>Példa:</b> Osztható-e a <b>135</b> 3-mal és 5-tel?
                        <b>Lépésről lépésre:</b>
                        1. <b>5-tel oszthatóság:</b> A szám 5-re végződik, tehát osztható 5-tel.
                        2. <b>3-mal oszthatóság:</b> A számjegyek összege: 1 + 3 + 5 = 9.
                        3. Mivel 9 osztható 3-mal, ezért a 135 is osztható 3-mal.
                    </div>
                    <a href="{{ url_for('kviz_oszthatosag') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>

                <div class="card" id="fejezet1-3">
                    <h3>1.3. Legnagyobb közös osztó (LNKO) és legkisebb közös többszörös (LKKT)</h3>
                    <p><b>LNKO:</b> A legnagyobb természetes szám, amellyel két vagy több szám maradék nélkül osztható. <br><b>LKKT:</b> A legkisebb pozitív szám, amely mindkét (vagy az összes) számnak többszöröse.</p>
                    <div class="formula">
                        <b>Meghatározás lépései:</b>
                        1. Prímtényezős felbontás.
                        2. LNKO: A közös prímtényezőket a legalacsonyabb hatványon összeszorozzuk.
                        3. LKKT: Az összes prímtényezőt a legmagasabb hatványon összeszorozzuk.
                    </div>
                    <div class="example">
                        <b>Példa:</b> LNKO és LKKT a <b>12</b> és <b>18</b> esetén.
                        <b>Lépésről lépésre:</b>
                        1. Felbontás: 12 = 2² * 3;  18 = 2 * 3²
                        2. LNKO: A közös prímek a 2 és a 3. A legalacsonyabb hatványok: 2¹ és 3¹. LNKO(12, 18) = 2 * 3 = 6.
                        3. LKKT: Az összes prím a 2 és a 3. A legmagasabb hatványok: 2² és 3². LKKT(12, 18) = 2² * 3² = 4 * 9 = 36.
                    </div>
                    <a href="{{ url_for('kviz_oszto_tobbszoros') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
            </section>
            
            <section id="fejezet2">
                <h2>2. Törtek és tizedes törtek</h2>
                <div class="card" id="fejezet2-1">
                    <h3>2.1. Törtek összeadása és kivonása</h3>
                    <p>Törteket csak akkor tudunk összeadni vagy kivonni, ha a nevezőjük azonos. Ha a nevezők különbözőek, először közös nevezőre kell hozni a törteket (bővítéssel).</p>
                    <div class="formula">
                        <b>Képlet (közös nevező esetén):</b> a/c + b/c = (a+b)/c
                    </div>
                    <div class="example">
                        <b>Példa:</b> Mennyi <span style="font-weight:bold;">1/2 + 1/3</span> ?
                        <b>Lépésről lépésre:</b>
                        1. <b>Közös nevező keresése:</b> A 2 és a 3 legkisebb közös többszöröse a 6.
                        2. <b>Bővítés:</b> Az első törtet 3-mal, a másodikat 2-vel bővítjük. 1/2 = 3/6;  1/3 = 2/6.
                        3. <b>Összeadás:</b> 3/6 + 2/6 = (3+2)/6 = 5/6.
                    </div>
                    <a href="{{ url_for('kviz_muveletek_tortekkel') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet2-2">
                    <h3>2.2. Törtek szorzása és osztása</h3>
                    <p><b>Szorzás:</b> A számlálót a számlálóval, a nevezőt a nevezővel szorozzuk. <br><b>Osztás:</b> Egy törttel úgy osztunk, hogy a reciprokával szorzunk.</p>
                    <div class="formula">
                        <b>Képletek:</b>
                        (a/b) * (c/d) = (a*c) / (b*d)<br>
                        (a/b) / (c/d) = (a/b) * (d/c)
                    </div>
                    <div class="example">
                        <b>Példa (osztás):</b> Mennyi <span style="font-weight:bold;">2/3 : 4/5</span> ?
                        <b>Lépésről lépésre:</b>
                        1. <b>Reciprok vétel:</b> A 4/5 reciproka 5/4.
                        2. <b>Szorzás:</b> 2/3 * 5/4 = (2*5) / (3*4) = 10/12.
                        3. <b>Egyszerűsítés:</b> A 10/12 törtet 2-vel egyszerűsítve 5/6-ot kapunk.
                    </div>
                    <a href="{{ url_for('kviz_muveletek_tortekkel') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet2-3">
                    <h3>2.3. Műveletek tizedes törtekkel</h3>
                    <p>A tizedes törtekkel végzett műveleteknél a legfontosabb a helyiértékek helyes kezelése. Összeadásnál és kivonásnál a tizedesvesszőket mindig egymás alá írjuk.</p>
                    <div class="formula">
                        <b>Szabály (szorzás):</b>
                        1. Elvégezzük a szorzást a tizedesvesszők nélkül.
                        2. Az eredményben annyi tizedesjegyet választunk le, amennyi a tényezőkben összesen volt.
                    </div>
                    <div class="example">
                        <b>Példa:</b> Mennyi <span style="font-weight:bold;">1,2 * 0,3</span> ?
                        <b>Lépésről lépésre:</b>
                        1. <b>Szorzás vessző nélkül:</b> 12 * 3 = 36.
                        2. <b>Tizedesjegyek száma:</b> Az 1,2-ben egy, a 0,3-ban egy, tehát összesen 1+1=2 tizedesjegy van.
                        3. <b>Vessző elhelyezése:</b> A 36-ban két tizedesjegyet leválasztva 0,36-ot kapunk.
                    </div>
                    <a href="{{ url_for('kviz_tizedes_tortek') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
            </section>

            <section id="fejezet3">
                <h2>3. Geometria alapjai</h2>
                <div class="card" id="fejezet3-1">
                    <h3>3.1. Szögek típusai</h3>
                    <p>A szögeket mértékük szerint csoportosítjuk. A legfontosabb alaptípusok ismerete elengedhetetlen a geometriai feladatokhoz.</p>
                    <div class="formula">
                        <b>Típusok:</b>
                        • <b>Hegyesszög:</b> 0° < α < 90°
                        • <b>Derékszög:</b> α = 90°
                        • <b>Tompaszög:</b> 90° < α < 180°
                        • <b>Egyenesszög:</b> α = 180°
                        • <b>Teljesszög:</b> α = 360°
                    </div>
                    <div class="example">
                        <b>Példa:</b>
                        Egy 120°-os szög tompaszög, mert 90° és 180° közé esik.
                    </div>
                    <a href="{{ url_for('kviz_szogek') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet3-2">
                    <h3>3.2. Kerület és terület</h3>
                    <p>A kerület a síkidom határoló vonalainak hossza, a terület pedig a síkidom által lefedett terület mértéke.</p>
                    <div class="formula">
                        <b>Alap képletek:</b>
                        • <b>Négyzet:</b> Kerület = 4*a; Terület = a*a
                        • <b>Téglalap:</b> Kerület = 2*(a+b); Terület = a*b
                    </div>
                    <div class="example">
                        <b>Példa:</b> Egy téglalap oldalai 5 cm és 10 cm.
                        <b>Lépésről lépésre:</b>
                        1. <b>Kerület:</b> K = 2 * (5 + 10) = 2 * 15 = 30 cm.
                        2. <b>Terület:</b> T = 5 * 10 = 50 cm².
                    </div>
                    <a href="{{ url_for('kviz_keruletterulet') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet3-3">
                    <h3>3.3. Térfogat és felszín (Téglatest)</h3>
                    <p>A téglatest egy háromdimenziós test. A felszíne a határoló lapok területeinek összege, a térfogata pedig a test által elfoglalt tér mértéke.</p>
                    <div class="formula">
                        <b>Képletek (élek: a, b, c):</b>
                        • <b>Felszín:</b> A = 2 * (a*b + a*c + b*c)
                        • <b>Térfogat:</b> V = a * b * c
                    </div>
                    <div class="example">
                        <b>Példa:</b> Egy téglatest élei 2 cm, 3 cm, 5 cm.
                        <b>Lépésről lépésre:</b>
                        1. <b>Felszín:</b> A = 2 * (2*3 + 2*5 + 3*5) = 2 * (6 + 10 + 15) = 2 * 31 = 62 cm².
                        2. <b>Térfogat:</b> V = 2 * 3 * 5 = 30 cm³.
                    </div>
                    <a href="{{ url_for('kviz_kocka_teglatest') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
            </section>
            
            <section id="fejezet4">
                <h2>4. Mértékegységek</h2>
                <div class="card" id="fejezet4-1">
                    <h3>4.1. Hosszúság mértékegységei</h3>
                    <p>A hosszúság alapmértékegysége a méter (m). A váltószám a szomszédos mértékegységek között általában 10.</p>
                    <div class="formula">
                        <b>Gyakori váltószámok:</b>
                        1 km = 1000 m
                        1 m = 10 dm = 100 cm = 1000 mm
                    </div>
                    <div class="example">
                        <b>Példa:</b> Váltsd át 3,5 kilométert centiméterre!
                        <b>Lépésről lépésre:</b>
                        1. <b>km → m:</b> 3,5 km = 3,5 * 1000 = 3500 m.
                        2. <b>m → cm:</b> 3500 m = 3500 * 100 = 350 000 cm.
                    </div>
                    <a href="{{ url_for('kviz_mertekegyseg_hossztel') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet4-2">
                    <h3>4.2. Tömeg mértékegységei</h3>
                    <p>A tömeg alapmértékegysége a kilogramm (kg). Itt is fontos a váltószámok ismerete.</p>
                    <div class="formula">
                        <b>Gyakori váltószámok:</b>
                        1 t = 1000 kg
                        1 kg = 100 dkg = 1000 g
                    </div>
                    <div class="example">
                        <b>Példa:</b> Válts át 420 dekagrammot kilogrammra!
                        <b>Lépésről lépésre:</b>
                        1. <b>Váltószám:</b> 1 kg = 100 dkg, tehát dkg-ból kg-ba váltáshoz 100-zal kell osztani.
                        2. <b>Osztás:</b> 420 / 100 = 4,2 kg.
                    </div>
                    <a href="{{ url_for('kviz_mertekegyseg_tomegido') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
                <div class="card" id="fejezet4-3">
                    <h3>4.3. Idő mértékegységei</h3>
                    <p>Az idő mértékegységeinek váltószáma nem tízes alapú, ezért különös figyelmet igényel.</p>
                    <div class="formula">
                        <b>Gyakori váltószámok:</b>
                        1 óra = 60 perc
                        1 perc = 60 másodperc
                        1 nap = 24 óra
                    </div>
                    <div class="example">
                        <b>Példa:</b> Hány perc 2,5 óra?
                        <b>Lépésről lépésre:</b>
                        1. <b>Váltószám:</b> 1 óra = 60 perc.
                        2. <b>Szorzás:</b> 2,5 * 60 = 150 perc.
                    </div>
                    <a href="{{ url_for('kviz_mertekegyseg_tomegido') }}" class="quiz-button">Gyakorló Kvíz a Témakörben →</a>
                </div>
            </section>
        </main>
    </div>
    </div>
    
    <footer>
        <div class="container footer-content">
            <img src="{{ url_for('static', filename='img/csicsike_logo.png') }}" alt="Csicsike Tudástár Logó" class="footer-logo">
            <p>CSICSIKE lábnyoma. © 2025</p>
        </div>
    </footer>
    
    <script src="{{ url_for('static', filename='js/kereso_adatbazis.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.example-toggle').forEach(button => {
                button.addEventListener('click', () => {
                    const exampleArea = button.closest('.formula-card').querySelector('.example-area');
                    const isVisible = exampleArea.style.display === 'block';
                    exampleArea.style.display = isVisible ? 'none' : 'block';
                    button.textContent = isVisible ? 'Mutass egy példát!' : 'Példa elrejtése';
                });
            });
            
            document.querySelectorAll('.gemini-help-btn').forEach(button => {
                const originalText = button.innerHTML;
                button.addEventListener('click', () => {
                    const card = button.closest('.formula-card');
                    const formulaName = card.dataset.formulaName;
                    const formulaExpr = card.dataset.formulaExpression;
                    const formulaExample = card.dataset.formulaExample;

                    const prompt = `Viselkedj úgy, mint egy türelmes és segítőkész 5. osztályos matematika tanár! Egy diák segítséget kért a következővel kapcsolatban: "${formulaName}".\nA feladatod a következő 3 lépésben:\n1. Magyarázd el lépésről lépésre, egyszerű szavakkal, hogy mit jelent ez a fogalom: ${formulaExpr}.\n2. Vezesd végig a diákot a következő példafeladat megoldásán: "${formulaExample}" Magyarázd el minden lépésnél, hogy mit és miért csinálsz!\n3. Adj a diáknak 5 új, egyszerű, gyakorló feladatot (megoldás nélkül), amivel begyakorolhatja ezt a témakört.\nA stílusod legyen bátorító és pozitív! Kezdd a választ így: "Szia! Nagyszerű, hogy segítséget kértél a(z) ${formulaName} megértéséhez. Nézzük meg együtt lépésről lépésre!"`;
                    
                    navigator.clipboard.writeText(prompt.trim()).then(() => {
                        button.innerHTML = '✅ Prompt másolva!';
                        window.open('https://gemini.google.com/app', '_blank');
                        setTimeout(() => { button.innerHTML = originalText; }, 3000);
                    });
                });
            });
        });
    </script>
</body>
</html>