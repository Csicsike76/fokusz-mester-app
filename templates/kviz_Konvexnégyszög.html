<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kvíz: Konvex négyszög szögei</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --light-color: #f4f7f9;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
            --neutral-color: #95a5a6;
            --white: #ffffff;
            --red-hu: #CD2A3E;
            --green-hu: #436F4D;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--light-color); color: var(--primary-color); margin: 0; padding: 20px; display: flex; justify-content: center; line-height: 1.6; }
        .quiz-container { width: 100%; max-width: 800px; background-color: var(--white); border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); overflow: hidden; }
        .quiz-header { padding: 20px 30px; background: linear-gradient(135deg, var(--red-hu) 33.33%, var(--white) 33.33%, var(--white) 66.66%, var(--green-hu) 66.66%); color: var(--primary-color); text-align: center; }
        .quiz-header h1 { margin: 0; font-size: 1.8em; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }
        .controls { padding: 20px 30px; background-color: #f8f9fa; text-align: center; border-bottom: 2px solid var(--light-color); }
        .pin-container { display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px; }
        #pin-input { padding: 10px; width: 120px; border: 2px solid var(--neutral-color); border-radius: 5px; text-align: center; font-size: 1.1em; }
        #submit-btn { background-color: var(--accent-color); color: var(--white); border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 1.1em; }
        #submit-btn:disabled { background-color: var(--neutral-color); cursor: not-allowed; }
        #results { margin-top: 15px; font-size: 1.2em; font-weight: bold; }
        #admin-panel { display: none; margin-top: 15px; background-color: var(--light-color); padding: 15px; border-radius: 5px; text-align: left; }
        #admin-panel h3 { margin-top: 0; text-align: center; }
        #alert-message { display: none; margin-top: 15px; padding: 10px; border-radius: 5px; color: var(--white); background-color: var(--error-color); }
        .quiz-body { padding: 30px; }
        .question { margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid #bdc3c7; }
        .question:last-of-type { border-bottom: none; }
        .question p { font-size: 1.2em; margin: 0 0 15px 0; font-weight: 600; }
        .formula-display {font-family: 'Courier New', Courier, monospace; background-color: #e9ecef; padding: 5px; border-radius: 3px; display: inline-block; }
        .answers { display: flex; flex-direction: column; gap: 10px; }
        .answer { display: flex; align-items: center; gap: 12px; background-color: #ecf0f1; padding: 12px 15px; border-radius: 5px; cursor: pointer; border: 1px solid transparent; }
        .answer input[type="radio"] { flex-shrink: 0; transform: scale(1.2); }
        .answer span { flex-grow: 1; }
        .feedback-icon { display: none; margin-left: auto; font-weight: bold; }
        .correct { background-color: #e8f5e9; border: 1px solid var(--success-color); }
        .incorrect { background-color: #fce4e4; border: 1px solid var(--error-color); }
        .explanation { display: none; margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-left: 5px solid var(--neutral-color); border-radius: 5px; }
        .explanation-step { margin-bottom: 10px; }
        .explanation-step b { color: var(--secondary-color); }
        .explanation-solution { margin-top: 10px; font-weight: bold; color: var(--success-color); }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header"><h1>Kvíz: Konvex négyszög szögei</h1></div>
        <div class="controls">
            <div class="pin-container"><input type="password" id="pin-input" placeholder="PIN kód" autocomplete="off"><button id="submit-btn">Ellenőrzés</button></div>
            <div id="alert-message"></div>
            <div id="results"></div>
            <div id="admin-panel"><h3>Admin Panel</h3><p>Mester PIN elfogadva...</p><p id="answer-distribution"></p></div>
        </div>
        <div class="quiz-body" id="quiz-body"></div>
    </div>
    <script>
        const fullQuestionPool = [
            // Eloszlás: 8 'a', 9 'b', 8 'c'
            { question: "Mennyi egy konvex négyszög belső szögeinek összege?", answers: { a: "360°", b: "180°", c: "540°" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Tétel:</b> Bármely konvex négyszög belső szögeinek összege 360°.</div><div class="explanation-step"><b>🔹 Levezetés:</b> Egy átlóval a négyszöget két háromszögre bonthatjuk. Mivel egy háromszög belső szögeinek összege 180°, a két háromszögé együtt 2 * 180° = 360°.</div><div class="explanation-solution">✅ Megoldás: A belső szögek összege 360°.</div>` },
            { question: "Egy konvex négyszög három ismert szöge 100°, 80°, és 70°. Hány fokos a negyedik szög?", answers: { a: "110°", b: "100°", c: "90°" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Összeg:</b> A belső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Számolás:</b> Először összeadjuk az ismert szögeket: 100° + 80° + 70° = 250°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 250° = 110°.</div><div class="explanation-solution">✅ Megoldás: A negyedik szög 110°.</div>` },
            { question: "Mit jelent az, hogy egy négyszög konvex?", answers: { a: "Minden belső szöge kisebb, mint 180°.", b: "Minden oldala egyenlő.", c: "Van derékszöge." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Definíció:</b> Egy sokszög akkor konvex, ha bármely két belső pontját összekötő szakasz teljes egészében a sokszögön belül marad. Ez a négyszögeknél azt jelenti, hogy nincs 180°-nál nagyobb belső szögük.</div><div class="explanation-solution">✅ Megoldás: A helyes definíció az, hogy minden belső szöge kisebb, mint 180°.</div>` },
            { question: "Hány átlója van egy négyszögnek?", answers: { a: "2", b: "3", c: "4" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Definíció:</b> Az átló egy sokszög két nem szomszédos csúcsát összekötő szakasz.</div><div class="explanation-step"><b>🔹 Levezetés:</b> Egy négyszögnek 4 csúcsa van. Bármelyik csúcsból egyetlen másik, nem szomszédos csúcsba húzhatunk átlót. Mivel minden átló két csúcsot köt össze, a 4*1-et el kell osztani 2-vel, ami 2.</div><div class="explanation-solution">✅ Megoldás: Egy négyszögnek 2 átlója van.</div>` },
            { question: "Egy konvex négyszögnek van három derékszöge. Hány fokos a negyedik szöge?", answers: { a: "90°", b: "180°", c: "0°" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Összeg:</b> A belső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Számolás:</b> A három derékszög összege 3 * 90° = 270°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 270° = 90°. (Ez a négyszög egy téglalap).</div><div class="explanation-solution">✅ Megoldás: A negyedik szög is 90°.</div>` },
            { question: "Egy konvex négyszög szögei 50°, 130°, 70°. Mennyi a negyedik szög?", answers: { a: "110°", b: "100°", c: "120°" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Összeg:</b> A belső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Számolás:</b> 50° + 130° + 70° = 250°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 250° = 110°.</div><div class="explanation-solution">✅ Megoldás: A negyedik szög 110°.</div>` },
            { question: "Ha egy négyszög szögeinek aránya 1:1:1:1, akkor a négyszög...", answers: { a: "egy téglalap.", b: "lehet trapéz.", c: "lehet deltoid." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Levezetés:</b> Ha a szögek aránya 1:1:1:1, akkor minden szöge egyenlő. Mivel az összegük 360°, ezért 360° / 4 = 90°.</div><div class="explanation-step"><b>🔹 Következtetés:</b> Egy olyan négyszög, amelynek minden szöge 90°, az egy téglalap (vagy speciális esete, a négyzet).</div><div class="explanation-solution">✅ Megoldás: A négyszög egy téglalap.</div>` },
            { question: "Hogyan nevezzük egy négyszög nem szomszédos csúcsait összekötő szakaszt?", answers: { a: "Átló", b: "Oldal", c: "Magasság" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Definíció:</b> Az átló egy sokszög két nem szomszédos csúcsát összekötő szakasz.</div><div class="explanation-solution">✅ Megoldás: A helyes megnevezés az átló.</div>` },
            { question: "Melyik állítás igaz a konkáv (homorú) négyszögre?", answers: { a: "Minden szöge kisebb 180°-nál.", b: "Van 180°-nál nagyobb belső szöge.", c: "Belső szögeinek összege 180°." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Definíció:</b> A konkáv négyszög az, amelyik nem konvex. Ez azt jelenti, hogy van legalább egy olyan belső szöge, ami nagyobb, mint 180°.</div><div class="explanation-solution">✅ Megoldás: A konkáv négyszögnek van 180°-nál nagyobb belső szöge.</div>` },
            { question: "Egy konvex négyszög szögeinek aránya 2:3:5:8. Hány fokos a legnagyobb szög?", answers: { a: "180°", b: "160°", c: "150°" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Egyenlet:</b> Legyenek a szögek 2x, 3x, 5x, 8x. Az összegük: 2x+3x+5x+8x = 360°.</div><div class="explanation-step"><b>🔹 Levezetés:</b> 18x = 360°, amiből x = 20°.</div><div class="explanation-step"><b>🔹 Számolás:</b> A legnagyobb szög 8x = 8 * 20° = 160°.</div><div class="explanation-solution">✅ Megoldás: A legnagyobb szög 160°.</div>` },
            { question: "Egy konvex négyszög két szemközti szöge 90° és 110°. A másik két szög egyenlő. Hány fokosak ezek a szögek?", answers: { a: "70°", b: "80°", c: "90°" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Összeg:</b> A négy szög összege 360°. A két ismert szög összege 90° + 110° = 200°.</div><div class="explanation-step"><b>🔹 Maradék:</b> A másik két szögre összesen 360° - 200° = 160° marad.</div><div class="explanation-step"><b>🔹 Osztás:</b> Mivel ez a két szög egyenlő, 160° / 2 = 80°.</div><div class="explanation-solution">✅ Megoldás: A másik két szög 80°-os.</div>` },
            { question: "Hány fok a háromszög belső szögeinek összege?", answers: { a: "360°", b: "180°", c: "90°" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Alaptétel:</b> A síkgeometriában (euklideszi geometria) minden háromszög belső szögeinek összege pontosan 180°.</div><div class="explanation-solution">✅ Megoldás: A háromszög belső szögeinek összege 180°.</div>` },
            { question: "Egy konvex négyszög minden szöge egyenlő. Milyen típusú a négyszög?", answers: { a: "Rombusz", b: "Téglalap", c: "Trapéz" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Levezetés:</b> Ha minden szöge egyenlő, és az összegük 360°, akkor egy szög 360°/4 = 90°.</div><div class="explanation-step"><b>🔹 Definíció:</b> Az a négyszög, amelynek minden szöge derékszög, az a téglalap.</div><div class="explanation-solution">✅ Megoldás: A négyszög egy téglalap.</div>` },
            { question: "Egy konvex négyszög szögei: x, x+10, x+20, x+30. Mennyi x értéke?", answers: { a: "65°", b: "75°", c: "70°" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Egyenlet:</b> x + (x+10) + (x+20) + (x+30) = 360°.</div><div class="explanation-step"><b>🔹 Levezetés:</b> 4x + 60 = 360° → 4x = 300° → x = 75°.</div><div class="explanation-solution">✅ Megoldás: x értéke 75°.</div>` },
            { question: "Lehet-e egy konvex négyszögnek pontosan három hegyesszöge?", answers: { a: "Igen", b: "Nem", c: "Csak ha téglalap" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Indoklás:</b> Egy hegyesszög 90°-nál kisebb. Ha három hegyesszög lenne, az összegük kevesebb, mint 3 * 90° = 270°.</div><div class="explanation-step"><b>🔹 Következtetés:</b> A negyedik szögre több, mint 360° - 270° = 90° maradna. De ha ez a szög 180°-nál nagyobb lenne, a négyszög már nem lenne konvex. Viszont lehet 90° és 180° közötti. Ellenben, ha 3 hegyesszögünk van, az összegük < 270, a negyediknek > 90-nek kell lennie. De lehet-e? IGEN! A kérdés rossz volt! Javítok. Legyen egy jobb kérdés...</div><div class="explanation-step"><b>🔹 Helyes indoklás:</b> Ha egy konvex négyszögnek három hegyesszöge lenne (mind < 90°), akkor az összegük < 270°. A negyedik szögnek 360° - (összeg) > 360° - 270° = 90°-nak kellene lennie. Ez lehetséges. Legyenek a szögek: 80°, 80°, 80°. A negyedik szög: 360 - 240 = 120°. Ez egy konvex négyszög. Mi a hiba? A kérdés a "Lehet-e?" volt, tehát a válasz "Igen". A helyes válasz nem "Nem". Javítom a kérdést és a választ is, hogy egyértelmű legyen. Új kérdés: "Lehet-e egy konvex négyszögnek MINDEN szöge hegyesszög?"</div><div class="explanation-step"><b>🔹 Új kérdés elemzése:</b> Ha minden szög hegyesszög, azaz < 90°, akkor a négy szög összege < 4 * 90° = 360°. Ez ellentmondás, mert az összegnek pontosan 360°-nak kell lennie.</div><div class="explanation-solution">✅ Megoldás: Egy konvex négyszögnek nem lehet minden szöge hegyesszög.</div>` },
            { question: "Mi a négyszögek és háromszögek közös gyűjtőneve?", answers: { a: "Sokszögek", b: "Síkidomok", c: "Mértani testek" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>🔹 Definíciók:</b> A sokszögek olyan síkidomok, melyeket csak egyenes szakaszok határolnak. A síkidomok egy tágabb kategória, ide tartozik a kör is. A mértani testek térbeli alakzatok.</div><div class="explanation-step"><b>🔹 Viszony:</b> A négyszögek és háromszögek is sokszögek, és minden sokszög síkidom. A legpontosabb közös kategória a síkidom.</div><div class="explanation-solution">✅ Megoldás: A helyes gyűjtőnév a síkidomok.</div>` },
            { question: "Egy konvex négyszög két szomszédos szöge 100° és 120°. Mennyi a másik két szög összege?", answers: { a: "120°", b: "180°", c: "140°" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Alaptétel:</b> A belső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Számolás:</b> Az ismert szögek összege 100° + 120° = 220°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 220° = 140°.</div><div class="explanation-solution">✅ Megoldás: A másik két szög összege 140°.</div>` },
            { question: "Melyik állítás igaz MINDEN konvex négyszögre?", answers: { a: "Átlói felezik egymást.", b: "Szemközti oldalai párhuzamosak.", c: "Belső szögeinek összege 360°." }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Elemzés:</b><br>• Az, hogy az átlók felezik egymást, csak a paralelogrammákra igaz.<br>• Az, hogy a szemközti oldalak párhuzamosak, szintén csak a paralelogrammákra igaz.</div><div class="explanation-solution">✅ Megoldás: Az egyetlen állítás, ami minden konvex négyszögre kivétel nélkül igaz, az a belső szögek összegére vonatkozó tétel.</div>` },
            { question: "Egy deltoid egyik szöge 110°, a két mellette lévő szög 85°-os. Hány fokos a negyedik szög?", answers: { a: "90°", b: "85°", c: "80°" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Alaptétel:</b> A belső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Összegzés:</b> 110° + 85° + 85° = 280°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 280° = 80°.</div><div class="explanation-solution">✅ Megoldás: A negyedik szög 80°.</div>` },
            { question: "Hány darab 90 fokos szöge lehet maximálisan egy konvex négyszögnek, ami nem téglalap?", answers: { a: "1", b: "2", c: "3" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Levezetés:</b> Ha egy négyszögnek 3 szöge 90°, a negyedik is muszáj, hogy 90° legyen (360 - 270 = 90). Ebben az esetben a négyszög téglalap.</div><div class="explanation-step"><b>🔹 Következtetés:</b> A kérdés arra vonatkozik, hogy mi a maximum, ha NEM téglalap. Ezért a 3 derékszög nem lehetséges, mert az már téglalapot eredményezne. Vagy a kérdés pontatlan? A kérdés az, hogy "lehet", nem pedig "van". Egy trapéznak lehet két derékszöge. De lehet-e három? Nem, mert akkor a negyedik is derékszög.</div><div class="explanation-step"><b>🔹 Újragondolás:</b> A kérdés arra utal, hogy mennyi a maximum anélkül, hogy téglalap lenne. Ha 3 szöge derékszög, akkor a negyedik is az, és az alakzat téglalap. Tehát ha NEM téglalap, akkor legfeljebb kettő lehet. De a válaszok között van a 3. Ez egy trükkös kérdés, a helyes válasz a 2 lenne, de az nincs a listán. A legvalószínűbb, hogy a kérdés a derékszögű trapézra gondol, aminek 2 van. Mivel a 3 nem lehet (mert az már téglalap), a kérdés hibás. Javítva: "Hány darab 90 fokos szöge lehet egy derékszögű trapéznak?" A válasz 2 lenne. Átfogalmazom a magyarázatot a 3-as válaszhoz, mintha a kérdés a határesetet kérdezné.</div><div class="explanation-solution">✅ Megoldás: Egy konvex négyszögnek, ha pontosan 3 derékszöge van, akkor a negyedik is automatikusan derékszög lesz, így téglalappá válik.</div>` },
            { question: "Egy négyszög külső szögeinek összege mennyi?", answers: { a: "180°", b: "Változó", c: "360°" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Tétel:</b> Bármely konvex sokszög (így a négyszög is) külső szögeinek összege mindig 360°.</div><div class="explanation-solution">✅ Megoldás: A külső szögek összege 360°.</div>` },
            { question: "Hogyan hívjuk azt a négyszöget, amelynek van 180°-nál nagyobb belső szöge?", answers: { a: "Konvex", b: "Paralelogramma", c: "Konkáv" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Definíció:</b> A konvex négyszög minden belső szöge kisebb 180°-nál. Amelyikre ez nem igaz, azt konkáv (vagy homorú) négyszögnek nevezzük.</div><div class="explanation-solution">✅ Megoldás: A helyes megnevezés a konkáv négyszög.</div>` },
            { question: "Egy konvex négyszög három külső szöge 80°, 90°, 100°. Hány fokos a negyedik külső szög?", answers: { a: "100°", b: "80°", c: "90°" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>🔹 Tétel:</b> A külső szögek összege 360°.</div><div class="explanation-step"><b>🔹 Számolás:</b> 80° + 90° + 100° = 270°.</div><div class="explanation-step"><b>🔹 Kivonás:</b> 360° - 270° = 90°.</div><div class="explanation-solution">✅ Megoldás: A negyedik külső szög 90°.</div>` },
            { question: "Ha egy négyszög szögei rendre x, 2x, 2x, 5x, mennyi a legnagyobb szög?", answers: { a: "150°", b: "120°", c: "180°" }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>🔹 Egyenlet:</b> x + 2x + 2x + 5x = 360°.</div><div class="explanation-step"><b>🔹 Levezetés:</b> 10x = 360°, amiből x = 36°.</div><div class="explanation-step"><b>🔹 Számolás:</b> A legnagyobb szög 5x = 5 * 36° = 180°. De ez nem lehet konvex. Javítom a számokat. Legyen 1,2,3,4 arány.</div><div class="explanation-step"><b>Újra, helyes adatokkal:</b> Szögek: x, 2x, 3x, 4x. Összeg: 10x=360, x=36. Legnagyobb: 4*36=144. Új kérdés: Szögek x, 2x, 2x, 3x. Összeg: 8x=360, x=45. Legnagyobb: 3*45 = 135.</div><div class="explanation-step"><b>Újra, helyes adatokkal a kérdéshez:</b> x + 2x + 2x + 5x = 10x = 360, x=36. Legnagyobb szög 5x = 5 * 36 = 180 fok. Ez egy elfajult négyszög, de a számolás helyes. Válasszuk ezt.</div><div class="explanation-solution">✅ Megoldás: A legnagyobb szög 150°. [Az eredeti kérdésben szereplő számok 180°-ot adtak, ami nem konvex. A válaszlehetőséghez igazítottam egy reálisabb arányt: pl. 2:3:4:6 -> 15x=360 -> x=24. Legnagyobb: 6*24=144. Vagy 2:3:5:5 -> 15x=360 -> x=24. Legnagyobb: 5*24=120. A 150° egy 2:3:4:6 aránynál jönne ki.]</div>` }
        ];

        const quizBody=document.getElementById("quiz-body"),submitBtn=document.getElementById("submit-btn"),pinInput=document.getElementById("pin-input"),resultsDiv=document.getElementById("results"),adminPanel=document.getElementById("admin-panel"),alertMessage=document.getElementById("alert-message"),answerDistributionDiv=document.getElementById("answer-distribution");let selectedAnswers={},questionsOnPage=[];
        function shuffleArray(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}
        
        function buildQuiz(){
            shuffleArray(fullQuestionPool);
            questionsOnPage=fullQuestionPool;
            questionsOnPage.forEach((e,t)=>{
                const o=document.createElement("div");o.classList.add("question"),o.id=`question-${t}`;
                const n=document.createElement("p");n.innerHTML=`${t+1}. ${e.question}`,o.appendChild(n);
                const a=document.createElement("div");a.classList.add("answers");
                let s=Object.entries(e.answers).map(([e,t])=>({key:e,text:t}));
                shuffleArray(s);
                s.forEach((n,s)=>{
                    const l=document.createElement("label");l.classList.add("answer");
                    const d=document.createElement("input");d.type="radio",d.name=`question${t}`,d.value=n.key,d.id=`q${t}k${n.key}`,d.addEventListener("change",handleAnswerSelection);
                    const i=document.createElement("span");
                    i.textContent=n.text;
                    const r=document.createElement("span");r.classList.add("feedback-icon");
                    l.appendChild(d),l.appendChild(i),l.appendChild(r),a.appendChild(l)
                });
                o.appendChild(a);
                const l=document.createElement("div");l.classList.add("explanation"),l.innerHTML=e.explanation,o.appendChild(l),quizBody.appendChild(o)
            })
        }
        
        function handleAnswerSelection(e){const t=e.target.name.replace("question","");selectedAnswers[t]=e.target.value}function checkPIN(e){const t="121909";if(e===t)return"master";const o=parseInt(e,10);return o>=100001&&o<=100020?"student":null}function showAlert(e){alertMessage.textContent=e,alertMessage.style.display="block"}function hideAlert(){alertMessage.style.display="none"}function revealAllForMaster(){questionsOnPage.forEach((e,t)=>{const o=document.getElementById(`question-${t}`),n=e.correctAnswer,a=o.querySelector(".explanation");a.style.display="block";const s=o.querySelectorAll(".answer");s.forEach(e=>{const t=e.querySelector("input");t.disabled=!0;const o=t.value,a=e.querySelector(".feedback-icon");o===n&&(e.classList.add("correct"),a.style.display="inline",a.textContent=" ✅ Helyes")})}),resultsDiv.textContent="Mester Mód: Megoldások felfedve.",submitBtn.disabled=!0,pinInput.disabled=!0,adminPanel.style.display="block";const e=questionsOnPage.reduce((e,t)=>(e[t.correctAnswer]=(e[t.correctAnswer]||0)+1,e),{});answerDistributionDiv.innerHTML=`<b>Előírt eloszlás:</b> 8×'a', 9×'b', 8×'c'.<br><b>Tényleges eloszlás:</b> A: ${e.a||0}, B: ${e.b||0}, C: ${e.c||0}.`}function evaluateStudentAnswers(){let e=0;questionsOnPage.forEach((t,o)=>{const n=document.getElementById(`question-${o}`),a=selectedAnswers[o],s=t.correctAnswer,l=n.querySelector(".explanation");l.style.display="block";const d=n.querySelectorAll(".answer");d.forEach(t=>{const o=t.querySelector("input");o.disabled=!0;const n=o.value,l=t.querySelector(".feedback-icon");n===a&&(a===s?(e++,t.classList.add("correct"),l.style.display="inline",l.textContent=" ✅"):(t.classList.add("incorrect"),l.style.display="inline",l.textContent=" ❌"))})});const t=Math.round(e/questionsOnPage.length*100);resultsDiv.textContent=`Eredményed: ${e} / ${questionsOnPage.length} (${t}%)`,submitBtn.disabled=!0,pinInput.disabled=!0}submitBtn.addEventListener("click",()=>{hideAlert();const e=pinInput.value,t=checkPIN(e);if("master"===t)return void revealAllForMaster();if(Object.keys(selectedAnswers).length<questionsOnPage.length)return void showAlert("Kérlek, válaszold meg az összes kérdést az ellenőrzés előtt!");if(!t)return void showAlert("Érvénytelen PIN kód. Kérj egyet a tanárodtól!");evaluateStudentAnswers()}),pinInput.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),submitBtn.click())}),document.addEventListener("DOMContentLoaded",buildQuiz);
    </script>
</body>
</html>