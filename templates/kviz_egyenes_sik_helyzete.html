<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kv√≠z: Egyenes √©s s√≠k k√∂lcs√∂n√∂s helyzete</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        :root {
            --primary-color: #007BFF;
            --secondary-color: #f1f1f1;
            --background-color: #f8f9fa;
            --text-color: #333;
            --correct-color: #28a745;
            --correct-bg: #d4edda;
            --incorrect-color: #dc3545;
            --incorrect-bg: #f8d7da;
            --neutral-border: #dee2e6;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .quiz-container {
            width: 100%;
            max-width: 800px;
            background-color: #fff;
            border-radius: 15px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        header {
            padding: 20px;
            background: linear-gradient(90deg, #CD2A3E 33.3%, #FFFFFF 33.3%, #FFFFFF 66.6%, #477050 66.6%);
            text-align: center;
        }

        header h1 {
            color: var(--text-color);
            margin: 0;
            font-size: 2em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.2);
        }

        main {
            padding: 30px;
        }

        #quiz-form {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .question-block {
            border: 1px solid var(--neutral-border);
            border-radius: 10px;
            padding: 20px;
            transition: box-shadow 0.3s;
        }

        .question-block:focus-within {
            box-shadow: 0 0 10px rgba(0, 123, 255, 0.25);
        }

        .question-text {
            font-weight: 600;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        .options {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .options label {
            display: flex;
            align-items: center;
            padding: 15px;
            border: 1px solid var(--neutral-border);
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .options label:hover {
            background-color: #f8f9fa;
        }

        .options input[type="radio"] {
            margin-right: 15px;
            accent-color: var(--primary-color);
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background-color: var(--secondary-color);
            border-left: 5px solid var(--primary-color);
            border-radius: 5px;
            display: none;
            font-size: 0.95em;
        }
        
        .explanation strong {
            display: block;
            margin-bottom: 5px;
        }
        
        .evaluation-block {
            margin-bottom: 20px;
        }

        .controls-container {
            padding: 20px;
            background-color: #fdfdfd;
            border: 1px dashed var(--neutral-border);
            border-radius: 10px;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 15px;
        }

        .controls-container label {
            font-weight: 600;
        }

        .pin-code-input {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid var(--neutral-border);
            width: 120px;
            text-align: center;
            font-size: 1em;
        }

        .check-btn {
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.1s;
        }

        .check-btn:hover {
            background-color: #0056b3;
        }
        
        .check-btn:active {
            transform: scale(0.98);
        }
        
        .check-btn:disabled {
            background-color: #aaa;
            cursor: not-allowed;
        }

        .result-container {
            margin-top: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 700;
            min-height: 1.5em;
        }

        .admin-panel {
            margin-top: 10px;
            padding: 15px;
            background-color: #fffbe6;
            border: 1px solid #ffeeba;
            border-radius: 8px;
            text-align: center;
            font-weight: 600;
            color: #856404;
        }

        /* Visszajelz≈ë st√≠lusok */
        .correct-answer {
            background-color: var(--correct-bg) !important;
            border-color: var(--correct-color) !important;
        }

        .incorrect-answer {
            background-color: var(--incorrect-bg) !important;
            border-color: var(--incorrect-color) !important;
        }
        
        .master-correct::before {
            content: '‚úÖ Helyes: ';
            font-weight: bold;
        }

        .label-correct::before {
            content: '‚úÖ ';
        }
        
        .label-incorrect::before {
            content: '‚ùå ';
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            main {
                padding: 15px;
            }
            header h1 {
                font-size: 1.5em;
            }
        }
    </style>
</head>
<body>

    <div class="quiz-container">
        <header>
            <h1>Kv√≠z: Egyenes √©s s√≠k k√∂lcs√∂n√∂s helyzete</h1>
        </header>
        <main>
            <div class="evaluation-block" id="top-evaluation">
                <div class="controls-container">
                    <label for="pin-code-top">PIN k√≥d:</label>
                    <input type="password" id="pin-code-top" class="pin-code-input" autocomplete="new-password">
                    <button type="button" class="check-btn">Ellen≈ërz√©s</button>
                </div>
                <div class="result-container"></div>
                <div class="admin-panel" style="display: none;">
                    <p>Mester m√≥d akt√≠v. V√°laszok eloszl√°sa: 8 'a', 9 'b', 8 'c'.</p>
                </div>
            </div>

            <hr style="border: none; border-top: 1px solid #eee; margin: 30px 0;">

            <form id="quiz-form" autocomplete="off">
                <div id="questions-container"></div>
            </form>
            
        </main>
    </div>

    <script>
        const quizData = [
            { question: "Melyik az a helyzet, amikor egy egyenesnek √©s egy s√≠knak PONTOSAN egy k√∂z√∂s pontja van?", options: { a: "illeszked≈ë", b: "metsz≈ë", c: "p√°rhuzamos" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A h√°rom lehets√©ges helyzetet vizsg√°ljuk. A p√°rhuzamosnak 0, az illeszked≈ënek v√©gtelen sok k√∂z√∂s pontja van. üîπ 2. L√©p√©s: A metsz≈ë az az eset, amikor az egyenes √°td√∂fi a s√≠kot, l√©trehozva egyetlen metsz√©spontot. ‚úÖ Megold√°s: A metsz≈ë helyzet." },
            { question: "H√°ny k√∂z√∂s pontja van egy s√≠knak √©s egy vele p√°rhuzamos egyenesnek?", options: { a: "1", b: "v√©gtelen sok", c: "0" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A p√°rhuzamoss√°g defin√≠ci√≥ja szerint az egyenes √©s a s√≠k soha nem tal√°lkoznak. üîπ 2. L√©p√©s: Ha nincs tal√°lkoz√°si pont, akkor a k√∂z√∂s pontok sz√°ma nulla. ‚úÖ Megold√°s: 0 k√∂z√∂s pontjuk van." },
            { question: "Hogy nevezz√ºk azt az esetet, amikor egy egyenes minden pontja a s√≠kon van?", options: { a: "az egyenes illeszkedik a s√≠kra", b: "az egyenes metszi a s√≠kot", c: "az egyenes kit√©r≈ë a s√≠khoz" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: Ha az egyenes minden pontja a s√≠knak is pontja, akkor v√©gtelen sok k√∂z√∂s pontjuk van. üîπ 2. L√©p√©s: Ezt a helyzetet illeszked√©snek nevezz√ºk. ‚úÖ Megold√°s: Az egyenes illeszkedik a s√≠kra." },
            { question: "Egy asztalon fekv≈ë ceruza milyen helyzetben van az asztal lapj√°val (a s√≠kkal)?", options: { a: "p√°rhuzamos", b: "metsz≈ë", c: "illeszked≈ë" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A ceruza az asztal lapj√°n fekszik. üîπ 2. L√©p√©s: Ez azt jelenti, hogy a ceruza √°ltal reprezent√°lt egyenes minden pontja rajta van az asztal s√≠kj√°n. ‚úÖ Megold√°s: Illeszked≈ë helyzet≈±." },
            { question: "Egy kocka fels≈ë lapj√°nak egyik √©le milyen helyzetben van az als√≥ lap s√≠kj√°val?", options: { a: "p√°rhuzamos", b: "metsz≈ë", c: "illeszked≈ë" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A kocka als√≥ √©s fels≈ë lapja p√°rhuzamos s√≠kok. üîπ 2. L√©p√©s: A fels≈ë lapon l√©v≈ë √©l soha nem fogja metszeni az als√≥ lap s√≠kj√°t, teh√°t p√°rhuzamos vele. ‚úÖ Megold√°s: P√°rhuzamos helyzet≈±." },
            { question: "Egy f√ºgg≈ëlegesen √°ll√≥ z√°szl√≥r√∫d milyen helyzetben van a v√≠zszintes talaj s√≠kj√°val?", options: { a: "p√°rhuzamos", b: "mer≈ëlegesen metszi", c: "illeszkedik r√°" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A z√°szl√≥r√∫d '√°td√∂fi' a talajt egy pontban, teh√°t metszi azt. üîπ 2. L√©p√©s: Mivel a r√∫d f√ºgg≈ëleges a v√≠zszintes talajra, a metsz√©spontn√°l der√©ksz√∂get z√°rnak be, teh√°t a metsz√©s mer≈ëleges. ‚úÖ Megold√°s: Mer≈ëlegesen metszi." },
            { question: "Melyik NEM lehet egy egyenes √©s egy s√≠k k√∂lcs√∂n√∂s helyzete?", options: { a: "kit√©r≈ë", b: "p√°rhuzamos", c: "metsz≈ë" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A 'kit√©r≈ë' helyzetet k√©t egyenes viszony√°ra haszn√°ljuk, amelyek nincsenek egy s√≠kban. üîπ 2. L√©p√©s: Egy egyenes √©s egy s√≠k viszony√°ban ilyen eset nem l√©tezik. Vagy metszi, vagy p√°rhuzamos vele, vagy rajta fekszik. ‚úÖ Megold√°s: A kit√©r≈ë helyzet." },
            { question: "Ha egy egyenes p√°rhuzamos egy, a s√≠kban l√©v≈ë egyenessel, akkor az egyenes...", options: { a: "biztosan metszi a s√≠kot.", b: "p√°rhuzamos a s√≠kkal vagy illeszkedik r√°.", c: "biztosan mer≈ëleges a s√≠kra." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ez a p√°rhuzamoss√°g egyik fontos t√©tele. Ha az egyenes p√°rhuzamos egy s√≠kbeli egyenessel, akkor nem d√∂fheti √°t a s√≠kot. üîπ 2. L√©p√©s: K√©t eset lehets√©ges: vagy 'elcs√∫szik' a s√≠k felett (p√°rhuzamos), vagy ≈ë maga is a s√≠kon van (illeszked≈ë). ‚úÖ Megold√°s: P√°rhuzamos a s√≠kkal vagy illeszkedik r√°." },
            { question: "H√°ny k√∂z√∂s pontja van egy s√≠knak √©s egy r√° illeszked≈ë egyenesnek?", options: { a: "1", b: "v√©gtelen sok", c: "0" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ha az egyenes illeszkedik a s√≠kra, az azt jelenti, hogy minden pontja a s√≠knak is pontja. üîπ 2. L√©p√©s: Mivel egy egyenes v√©gtelen sok pontb√≥l √°ll, ez√©rt v√©gtelen sok k√∂z√∂s pontjuk van. ‚úÖ Megold√°s: V√©gtelen sok." },
            { question: "Mit jelent, ha egy egyenes mer≈ëleges egy s√≠kra?", options: { a: "A s√≠k minden egyenes√©vel p√°rhuzamos.", b: "A s√≠kot 90¬∞-ban metszi √©s a s√≠k minden, a metsz√©sponton √°tmen≈ë egyenes√©re mer≈ëleges.", c: "A s√≠k felett lebeg." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A s√≠kra mer≈ëlegess√©g egy nagyon szigor√∫ felt√©tel. Nem el√©g egyetlen egyenesre mer≈ëlegesnek lenni. üîπ 2. L√©p√©s: A defin√≠ci√≥ szerint az egyenesnek a s√≠k √ñSSZES, a d√∂f√©sponton √°thalad√≥ egyenes√©re mer≈ëlegesnek kell lennie. ‚úÖ Megold√°s: A 'b' opci√≥ a pontos defin√≠ci√≥." },
            { question: "Egy kocka egyik f√ºgg≈ëleges √©le milyen helyzet≈± az alaplap s√≠kj√°val?", options: { a: "mer≈ëlegesen metszi", b: "p√°rhuzamos vele", c: "illeszkedik r√°" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A f√ºgg≈ëleges √©l a kocka egyik als√≥ cs√∫cs√°ban tal√°lkozik az alaplappal, teh√°t metszi azt. üîπ 2. L√©p√©s: Mivel az √©l f√ºgg≈ëleges, az alaplap pedig v√≠zszintes, a metsz√©s mer≈ëleges. ‚úÖ Megold√°s: Mer≈ëlegesen metszi." },
            { question: "Egy s√≠kban fekv≈ë A, B, C pontok milyen s√≠kot hat√°roznak meg?", options: { a: "Pontosan egyet, ha nincsenek egy egyenesen.", b: "Pontosan egyet, ha egy egyenesen vannak.", c: "Soha nem hat√°roznak meg s√≠kot." }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A s√≠k meghat√°roz√°s√°nak egyik alapesete h√°rom pont. üîπ 2. L√©p√©s: A felt√©tel az, hogy a h√°rom pont ne legyen egy egyenesen (kolline√°ris), k√ºl√∂nben v√©gtelen sok s√≠kot lehetne rajtuk √°tfektetni. ‚úÖ Megold√°s: Pontosan egyet, ha nincsenek egy egyenesen." },
            { question: "Egy rep√ºl≈ëg√©p sz√°ll fel a kifut√≥p√°ly√°r√≥l. Milyen helyzetben van a g√©pt√∂rzs egyenese a f√∂ld s√≠kj√°val?", options: { a: "p√°rhuzamos", b: "illeszked≈ë", c: "metsz≈ë" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: Felsz√°ll√°s k√∂zben a g√©p emelkedik, teh√°t t√°volodik a f√∂ld s√≠kj√°t√≥l. üîπ 2. L√©p√©s: Mivel nem p√°rhuzamosan halad a f√∂lddel, a vonala metszi a f√∂ld s√≠kj√°t (ha meghosszabb√≠tan√°nk). ‚úÖ Megold√°s: Metsz≈ë helyzet≈±." },
            { question: "H√°ny egyenes fektethet≈ë √°t egy ponton, ami p√°rhuzamos egy adott s√≠kkal?", options: { a: "egy", b: "kett≈ë", c: "v√©gtelen sok" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: K√©pzeld el az asztal lapj√°t (a s√≠kot) √©s egy pontot felette. üîπ 2. L√©p√©s: Ebben a pontban b√°rmilyen ir√°nyba h√∫zhatsz egy, az asztallal p√°rhuzamos egyenest. Ezek az egyenesek egy, az asztallal p√°rhuzamos s√≠kot hat√°roznak meg. ‚úÖ Megold√°s: V√©gtelen sokat." },
            { question: "Egy szoba mennyezete √©s padl√≥ja...", options: { a: "metsz≈ë s√≠kok.", b: "p√°rhuzamos s√≠kok.", c: "azonos s√≠kok." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A mennyezet √©s a padl√≥ soha nem tal√°lkoznak (ide√°lis esetben). üîπ 2. L√©p√©s: A t√°vols√°guk mindenhol ugyanannyi. Ez a p√°rhuzamos s√≠kok defin√≠ci√≥ja. ‚úÖ Megold√°s: P√°rhuzamos s√≠kok." },
            { question: "Egy kocka lap√°tl√≥ja milyen helyzet≈± azzal a lappal, amelyen fekszik?", options: { a: "illeszked≈ë", b: "p√°rhuzamos", c: "metsz≈ë" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A lap√°tl√≥ a kocka egyik lapj√°nak k√©t szemk√∂zti cs√∫cs√°t k√∂ti √∂ssze. üîπ 2. L√©p√©s: Mivel a k√©t v√©gpontja √©s az √∂sszes k√∂ztes pontja is a lapon van, ez√©rt az √°tl√≥ illeszkedik a lap s√≠kj√°ra. ‚úÖ Megold√°s: Illeszked≈ë." },
            { question: "Egy kocka lap√°tl√≥ja milyen helyzet≈± a szemk√∂zti, vele p√°rhuzamos lappal?", options: { a: "illeszked≈ë", b: "p√°rhuzamos", c: "metsz≈ë" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Az √°tl√≥ az egyik s√≠kon fekszik. A m√°sik s√≠k p√°rhuzamos ezzel a s√≠kkal. üîπ 2. L√©p√©s: Mivel a s√≠kok p√°rhuzamosak, az egyik s√≠kon l√©v≈ë egyenes soha nem metszheti a m√°sik s√≠kot. ‚úÖ Megold√°s: P√°rhuzamos." },
            { question: "A szoba fal√°nak f√ºgg≈ëleges √©le √©s a mennyezet s√≠kja milyen helyzet≈±ek?", options: { a: "metsz≈ëk", b: "p√°rhuzamosak", c: "illeszked≈ëk" }, correctAnswer: "a", explanation: "üîπ 1. L√©p√©s: A fal f√ºgg≈ëleges √©le fel√©r a mennyezetig. üîπ 2. L√©p√©s: A sarokban, ahol a fal √©s a mennyezet tal√°lkozik, van egy k√∂z√∂s pontjuk. Teh√°t metszik egym√°st. ‚úÖ Megold√°s: Metsz≈ëk." },
            { question: "Mi a neve annak az egyenesnek √©s s√≠knak, amiknek v√©gtelen sok k√∂z√∂s pontjuk van?", options: { a: "mer≈ëlegesek", b: "p√°rhuzamosak", c: "illeszked≈ëk" }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: A v√©gtelen sok k√∂z√∂s pont azt jelenti, hogy az egyenes teljes eg√©sz√©ben a s√≠k r√©sze. üîπ 2. L√©p√©s: Ezt a helyzetet illeszked√©snek nevezz√ºk. ‚úÖ Megold√°s: Illeszked≈ëk." },
            { question: "K√©t k√ºl√∂nb√∂z≈ë, egym√°ssal p√°rhuzamos egyenes meghat√°roz...", options: { a: "egy pontot.", b: "egy s√≠kot.", c: "egy testet." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Ez a s√≠kmeghat√°roz√°s egyik alapesete. üîπ 2. L√©p√©s: A k√©t p√°rhuzamos egyenesre mindig r√° lehet fektetni egy √©s csakis egy s√≠kot. ‚úÖ Megold√°s: Egy s√≠kot." },
            { question: "Mi a metszete egy kock√°nak √©s egy s√≠knak, ami √°tmegy a kocka k√∂z√©ppontj√°n?", options: { a: "mindig n√©gyzet", b: "lehet h√°romsz√∂g, n√©gysz√∂g, hatsz√∂g", c: "mindig k√∂r" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Gondolj arra, hogyan lehet elv√°gni egy kock√°t! üîπ 2. L√©p√©s: A v√°g√°s s√≠kj√°t√≥l f√ºgg≈ëen a metszetfel√ºlet lehet h√°romsz√∂g (ha egy sarkot v√°gunk le), n√©gysz√∂g (ha p√°rhuzamosan v√°gunk egy lappal), vagy ak√°r hatsz√∂g is (ha ferd√©n v√°gjuk). ‚úÖ Megold√°s: Lehet h√°romsz√∂g, n√©gysz√∂g, hatsz√∂g." },
            { question: "Egy sz√©k l√°ba mer≈ëleges a padl√≥ra. Ez azt jelenti, hogy a l√°b egyenese...", options: { a: "...p√°rhuzamos a padl√≥ s√≠kj√°val.", b: "...metszi a padl√≥ s√≠kj√°t.", c: "...illeszkedik a padl√≥ s√≠kj√°ra." }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: A mer≈ëlegess√©g a metsz√©s egy speci√°lis esete, ahol a metsz√©spontn√°l a sz√∂g 90¬∞. üîπ 2. L√©p√©s: Teh√°t ha mer≈ëleges, akkor mindenk√©ppen metszi is a s√≠kot. ‚úÖ Megold√°s: Metszi a padl√≥ s√≠kj√°t." },
            { question: "Ha egy e egyenes p√°rhuzamos egy S s√≠kkal, akkor...", options: { a: "e minden, az S s√≠kban fekv≈ë egyenessel p√°rhuzamos.", b: "e a s√≠k minden egyenes√©t metszi.", c: "e p√°rhuzamos a s√≠k v√©gtelen sok egyenes√©vel." }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: K√©pzeld el a plafonnal p√°rhuzamosan tartott ceruz√°t. A plafonon b√°rmilyen ir√°ny√∫ egyenest h√∫zhatsz, a ceruza nem lesz minddel p√°rhuzamos (pl. a r√° mer≈ëlegessel sem). üîπ 2. L√©p√©s: De biztosan tal√°lsz a plafonon v√©gtelen sok olyan egyenest (amik egym√°ssal is p√°rhuzamosak), amikkel a ceruz√°d is p√°rhuzamos lesz. ‚úÖ Megold√°s: e p√°rhuzamos a s√≠k v√©gtelen sok egyenes√©vel." },
            { question: "Melyik √°ll√≠t√°s igaz a t√©rben?", options: { a: "Ha k√©t egyenes mer≈ëleges egy harmadikra, akkor p√°rhuzamosak.", b: "Ha k√©t egyenes nem metszi egym√°st, akkor p√°rhuzamosak.", c: "Ha egy egyenes mer≈ëleges k√©t metsz≈ë egyenesre, akkor mer≈ëleges a s√≠kjukra is." }, correctAnswer: "c", explanation: "üîπ 1. L√©p√©s: Az 'a' √©s 'b' √°ll√≠t√°s a t√©rben nem igaz a kit√©r≈ë helyzet miatt. üîπ 2. L√©p√©s: A 'c' √°ll√≠t√°s a s√≠kra val√≥ mer≈ëlegess√©g egyik fontos t√©tele. Ha egy egyenes mer≈ëleges egy s√≠kot meghat√°roz√≥ k√©t metsz≈ë egyenesre, akkor az eg√©sz s√≠kra mer≈ëleges lesz. ‚úÖ Megold√°s: A 'c' √°ll√≠t√°s igaz." },
            { question: "H√°ny, egym√°ssal p√°rhuzamos s√≠kp√°rja van egy t√©glatestnek?", options: { a: "6", b: "3", c: "12" }, correctAnswer: "b", explanation: "üîπ 1. L√©p√©s: Egy t√©glatestet 6 lap hat√°rol. Ezek p√°rokba rendezhet≈ëk. üîπ 2. L√©p√©s: Van egy als√≥-fels≈ë p√°r, egy els≈ë-h√°ts√≥ p√°r √©s egy jobb-bal oldali p√°r. Ez √∂sszesen 3 p√°rhuzamos s√≠kp√°r. ‚úÖ Megold√°s: 3 p√°rhuzamos s√≠kp√°rja van." }
        ];

        const questionsContainer = document.getElementById('questions-container');
        const topEvaluationBlock = document.getElementById('top-evaluation');

        let shuffledData;

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        
        function shuffleOptions(options) {
            const optionsArray = Object.entries(options).map(([key, text]) => ({ key, text }));
            return shuffle([...optionsArray]);
        }

        function renderQuiz() {
            shuffledData = shuffle([...quizData]);
            let questionHTML = '';
            shuffledData.forEach((item, index) => {
                const randomizedOptions = shuffleOptions(item.options);
                const optionLetters = ['a', 'b', 'c'];
                
                let optionsHTML = '';
                randomizedOptions.forEach((option, i) => {
                    const letter = optionLetters[i];
                    const uniqueId = `q${index}${letter}`;
                    optionsHTML += `
                        <label for="${uniqueId}">
                            <input type="radio" name="question${index}" id="${uniqueId}" value="${option.key}">
                            ${letter}) ${option.text}
                        </label>
                    `;
                });

                questionHTML += `
                    <div class="question-block" id="q-block-${index}">
                        <p class="question-text">${index + 1}. ${item.question}</p>
                        <div class="options">${optionsHTML}</div>
                        <div class="explanation" id="explanation-${index}">${item.explanation}</div>
                    </div>
                `;
            });
            questionsContainer.innerHTML = questionHTML;
        }

        function checkAnswers() {
            const pin = topEvaluationBlock.querySelector('.pin-code-input').value;
            const checkBtn = topEvaluationBlock.querySelector('.check-btn');
            const resultContainer = topEvaluationBlock.querySelector('.result-container');
            const adminPanel = topEvaluationBlock.querySelector('.admin-panel');

            const MASTER_PIN = '121909';
            const isMaster = pin === MASTER_PIN;
            const isStudent = (parseInt(pin) >= 100001 && parseInt(pin) <= 100020);

            if (!isMaster && !isStudent) {
                alert('√ârv√©nytelen PIN k√≥d! K√©rj√ºk, adjon meg egy √©rv√©nyes tanul√≥i (100001-100020) vagy mester PIN-t.');
                return;
            }

            const answeredQuestions = document.querySelectorAll('input[type="radio"]:checked').length;
            if (!isMaster && answeredQuestions < shuffledData.length) {
                alert(`K√©rj√ºk, v√°laszolj az √∂sszes k√©rd√©sre! Jelenleg ${answeredQuestions}/${shuffledData.length} k√©rd√©sre v√°laszolt√°l.`);
                return;
            }

            let score = 0;
            const radioButtons = document.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => radio.disabled = true);
            checkBtn.disabled = true;
            topEvaluationBlock.querySelector('.pin-code-input').disabled = true;

            shuffledData.forEach((item, index) => {
                const selectedOption = document.querySelector(`input[name="question${index}"]:checked`);
                const explanationDiv = document.getElementById(`explanation-${index}`);
                explanationDiv.style.display = 'block';

                if (isMaster) {
                    document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                        if (radio.value === item.correctAnswer) {
                            radio.parentElement.classList.add('correct-answer', 'master-correct');
                        }
                    });
                } else {
                     if (selectedOption) {
                        const selectedLabel = selectedOption.parentElement;
                        if (selectedOption.value === item.correctAnswer) {
                            score++;
                            selectedLabel.classList.add('correct-answer', 'label-correct');
                        } else {
                            selectedLabel.classList.add('incorrect-answer', 'label-incorrect');
                             document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                                if (radio.value === item.correctAnswer) {
                                    radio.parentElement.classList.add('correct-answer');
                                }
                            });
                        }
                    } else { 
                         document.querySelectorAll(`input[name="question${index}"]`).forEach(radio => {
                            if (radio.value === item.correctAnswer) {
                                radio.parentElement.classList.add('correct-answer');
                            }
                        });
                    }
                }
            });

            const percentage = ((score / shuffledData.length) * 100).toFixed(1);
            if (!isMaster) {
                resultContainer.innerHTML = `Eredm√©nyed: ${score} / ${shuffledData.length} (${percentage}%)`;
            } else {
                 resultContainer.innerHTML = `Mester m√≥d: Helyes v√°laszok √©s magyar√°zatok felfedve.`;
            }


            if (isMaster) {
                adminPanel.style.display = 'block';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            renderQuiz();
            
            const mainCheckBtn = topEvaluationBlock.querySelector('.check-btn');
            const mainPinInput = topEvaluationBlock.querySelector('.pin-code-input');

            mainCheckBtn.addEventListener('click', checkAnswers);
            mainPinInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    checkAnswers();
                }
            });
        });

    </script>
</body>
</html>