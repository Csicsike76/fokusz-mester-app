<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>Kvíz: Összehasonlítás, kerekítés</title>
  <style>
    :root {
      --primary-color: #D9534F;
      --secondary-color: #fcf8e3;
      --accent-color: #5BC0DE;
      --text-dark: #333;
      --text-light: #fff;
      --border-color: #ddd;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f7f9;
      color: var(--text-dark);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }
    header {
      background: linear-gradient(90deg, #D9534F, #fcf8e3, #5BC0DE);
      padding: 1.5rem 1rem;
      text-align: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    header h1 {
      margin: 0;
      font-size: 1.8rem;
      color: var(--text-dark);
      text-shadow: 1px 1px 2px rgba(255,255,255,0.7);
    }
    main {
      flex: 1;
      max-width: 900px;
      margin: 2rem auto;
      background: var(--text-light);
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      padding: 2rem;
    }
    .question-block {
      margin-bottom: 1.8rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid var(--border-color);
    }
    .question {
      font-weight: 600;
      font-size: 1.1rem;
      margin-bottom: 0.8rem;
    }
    .answers label {
      display: block;
      margin-bottom: 0.5rem;
      cursor: pointer;
      padding: 0.5rem 0.8rem;
      border-radius: 6px;
      transition: background-color 0.2s;
      border: 1px solid transparent;
    }
    .answers label:hover {
        background-color: #f0f0f0;
    }
    .answers input[type="radio"] {
      margin-right: 0.8em;
      accent-color: var(--primary-color);
    }
    .answers label.correct {
      background-color: #dff0d8;
      border-color: #d6e9c6;
      font-weight: bold;
    }
    .answers label.incorrect {
      background-color: #f2dede;
      border-color: #ebccd1;
    }
    .explanation {
      display: none;
      margin-top: 1rem;
      padding: 0.8rem 1rem;
      background-color: #f7f7fa;
      border-left: 4px solid var(--primary-color);
      border-radius: 4px;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .controls, .pin-section {
      text-align: center;
      padding: 1.5rem;
      background-color: #f9fafb;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .pin-input {
      width: 140px;
      padding: 10px;
      font-size: 1.1em;
      text-align: center;
      border: 1px solid var(--border-color);
      border-radius: 5px;
      margin-right: 10px;
    }
    button {
      padding: 12px 24px;
      font-size: 1em;
      cursor: pointer;
      background-color: var(--primary-color);
      color: var(--text-light);
      border: none;
      border-radius: 5px;
      transition: background-color 0.3s;
    }
    button:hover:not(:disabled) {
      background-color: #c9302c;
    }
    button:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }
    #result {
      margin-top: 1.5rem;
      font-weight: bold;
      font-size: 1.3em;
      text-align: center;
    }
    .admin-panel {
      display: none;
      margin-top: 2rem;
      border: 1px solid var(--border-color);
      padding: 1.5rem;
      background-color: #fffde7;
      border-radius: 8px;
    }
    @media (max-width: 600px) {
      main { padding: 1.5rem 1rem; }
      header h1 { font-size: 1.4rem; }
    }
  </style>
</head>
<body autocomplete="off">
  
  <header>
    <h1>Kvíz: Összehasonlítás, kerekítés</h1>
  </header>

  <main>
    <div class="pin-section">
      <input type="password" id="pin" class="pin-input" placeholder="PIN-kód" autocomplete="off">
      <button type="button" id="checkBtn">Ellenőrzés</button>
      <div id="result"></div>
    </div>
    
    <form id="quiz-form" autocomplete="off">
      <!-- A kérdések ide generálódnak -->
    </form>
    
    <div class="admin-panel" id="admin-panel">
      <h3>Adminisztrációs panel</h3>
      <p>Mester PIN-kóddal sikeresen bejelentkezve.</p>
    </div>
  </main>

  <script>
    const MASTER_PIN = '121909';
    const studentPins = new Set();
    function createInitialPins() {
        for (let i = 1; i <= 20; i++) {
            studentPins.add((100000 + i).toString());
        }
    }

    const questions = [
        { q: "Melyik szám a nagyobb: 10 234 vagy 9 876?", a: "10 234", b: "9 876", c: "Egyenlőek", correct: "a", exp: "Számok összehasonlításakor először a számjegyek számát nézzük. A 10 234 ötjegyű, a 9 876 négyjegyű, tehát a 10 234 a nagyobb." },
        { q: "Mi a 478 szám tízesekre kerekített értéke?", a: "470", b: "480", c: "500", correct: "b", exp: "Tízesre kerekítéshez az egyesek helyén álló számjegyet (8) kell nézni. Mivel ez 5 vagy annál nagyobb, felfelé kerekítünk. Ez azt jelenti, hogy a tízesek helyén álló 7-es eggyel nő, 8-as lesz. Az eredmény 480." },
        { q: "Melyik relációs jel kerüljön a pontok helyére: 1234 ... 1243?", a: ">", b: "<", c: "=", correct: "b", exp: "Mindkét szám négyjegyű. A legmagasabb helyiértéktől haladva hasonlítjuk össze a számjegyeket. Az ezres és százas helyiérték megegyezik. A tízes helyiértéken 3 < 4, tehát 1234 < 1243." },
        { q: "Mi a 8 450 szám százasokra kerekített értéke?", a: "8400", b: "8000", c: "8500", correct: "c", exp: "Százasra kerekítéshez a tízesek helyén álló számjegyet (5) kell nézni. Mivel ez 5 vagy annál nagyobb, felfelé kerekítünk. A százasok helyén álló 4-es eggyel nő, 5-ös lesz. Az eredmény 8500." },
        { q: "Melyik a legkisebb szám?", a: "5067", b: "5607", c: "5076", correct: "a", exp: "Mindhárom szám négyjegyű, és az ezres helyiértéken 5-ös áll. A százasokat összehasonlítva a 0 a legkisebb, tehát az 5067 és 5076 közül kell választani. A tízeseket nézve 6 < 7, tehát az 5067 a legkisebb." },
        { q: "Mi a 299 szám tízesekre kerekített értéke?", a: "290", b: "300", c: "200", correct: "b", exp: "Tízesre kerekítéshez az egyesek helyén álló 9-est nézzük. Mivel ez 5 vagy nagyobb, felfelé kerekítünk. A tízesek helyén álló 9-esből 10-es lenne, ami 0 tízes és 1 százas maradékot jelent. A százasok helyén álló 2-eshez hozzáadva az 1-et, 3-at kapunk. Az eredmény 300." },
        { q: "Hány olyan egész szám van, ami tízesekre kerekítve 80?", a: "9", b: "10", c: "11", correct: "b", exp: "Azok a számok, amiket 80-ra kerekítünk, a 75-től (felfelé kerekítve 80) a 84-ig (lefelé kerekítve 80) tartanak. A {75, 76, 77, 78, 79, 80, 81, 82, 83, 84} halmaznak 10 eleme van." },
        { q: "Melyik állítás igaz a kerekítésre?", a: "A kerekítés mindig növeli a szám értékét.", b: "A kerekítés egy közelítő érték megadását jelenti.", c: "A kerekítés mindig csökkenti a szám értékét.", correct: "b", exp: "A kerekítés célja, hogy egy számot egy egyszerűbb, 'kerekebb', de hozzá közeli értékkel helyettesítsünk. Ez a közelítő érték lehet nagyobb (felfelé kerekítés) vagy kisebb (lefelé kerekítés) is az eredetinél." },
        { q: "Mi a 99 501 szám ezresekre kerekített értéke?", a: "99 000", b: "100 000", c: "99 500", correct: "b", exp: "Ezresekre kerekítéshez a százasok helyén álló 5-öst kell nézni. Mivel ez 5, felfelé kerekítünk. A 99 ezresből így 100 ezres lesz, ami 100 000." },
        { q: "Tedd növekvő sorrendbe: 3210, 3120, 3201.", a: "3120, 3201, 3210", b: "3210, 3201, 3120", c: "3120, 3210, 3201", correct: "a", exp: "Mindhárom szám négyjegyű, az ezresek helyén 3-as áll. A százasokat nézve a 3120 a legkisebb. A másik kettőnél a tízeseket hasonlítjuk össze: 0 < 1, tehát a 3201 a kisebb. A helyes sorrend: 3120, 3201, 3210." },
        { q: "Hogyan kell leírni a < jelet?", a: "Kisebb vagy egyenlő", b: "Szigorúan kisebb", c: "Nagyobb", correct: "b", exp: "A < jel a 'szigorúan kisebb' reláció jele. A ≤ jelenti a 'kisebb vagy egyenlő'-t." },
        { q: "Melyik a legnagyobb négyjegyű, különböző számjegyekből álló szám?", a: "9999", b: "9876", c: "1234", correct: "b", exp: "A legnagyobb számot úgy kapjuk, ha a legnagyobb helyiértékre a legnagyobb számjegyet írjuk, majd csökkenő sorrendben folytatjuk a maradék legnagyobbakkal: 9, 8, 7, 6." },
        { q: "Melyik állítás igaz az 5432 és 5423 számokra?", a: "5432 < 5423", b: "5432 > 5423", c: "5432 = 5423", correct: "b", exp: "Az első két számjegy (ezres, százas) megegyezik. A tízes helyiértéken 3 > 2, tehát az 5432 a nagyobb szám." },
        { q: "Mi a 14 990 szám ezresekre kerekített értéke?", a: "14 000", b: "15 000", c: "10 000", correct: "b", exp: "Azresekre kerekítéshez a százasok helyén álló 9-est kell nézni. Mivel ez 5-nél nagyobb, felfelé kerekítünk. A 14 ezresből így 15 ezres lesz, azaz 15 000." },
        { q: "Melyik szám van a 450 és 550 között?", a: "449", b: "551", c: "501", correct: "c", exp: "A 449 kisebb, mint 450. Az 551 nagyobb, mint 550. Az 501 a két szám között helyezkedik el." },
        { q: "Mi a 4999 százasokra kerekített értéke?", a: "4900", b: "5000", c: "4000", correct: "b", exp: "Százasokra kerekítéshez a tízesek helyén álló 9-est nézzük. Mivel ez nagy, felfelé kerekítünk. A 49 százasból így 50 százas lesz, ami 5000." },
        { q: "Melyik relációt használjuk, ha azt akarjuk mondani, hogy 'x nem nagyobb, mint y'?", a: "x > y", b: "x ≥ y", c: "x ≤ y", correct: "c", exp: "Ha 'x' nem nagyobb, mint 'y', az azt jelenti, hogy vagy kisebb nála, vagy egyenlő vele. Ezt a 'kisebb vagy egyenlő' relációval fejezzük ki: x ≤ y." },
        { q: "Tedd csökkenő sorrendbe: 9090, 9900, 9009.", a: "9900, 9090, 9009", b: "9009, 9090, 9900", c: "9900, 9009, 9090", correct: "a", exp: "Mindhárom szám négyjegyű és 9-essel kezdődik. A százasokat nézve a 9900 a legnagyobb. A másik kettőnél a tízeseket hasonlítjuk össze: 9 > 0, tehát a 9090 a nagyobb. A helyes csökkenő sorrend: 9900, 9090, 9009." },
        { q: "A 7824 számban melyik számjegynek a legnagyobb a helyiértéke?", a: "A 7-esnek.", b: "A 8-asnak.", c: "A 4-esnek.", correct: "a", exp: "A helyiérték balról jobbra haladva csökken. A 7-es az ezres helyiértéken áll, ami a legmagasabb a számban, ezért az ő helyiértéke a legnagyobb." },
        { q: "Mi a 45 123 789 szám milliókra kerekített értéke?", a: "45 000 000", b: "46 000 000", c: "50 000 000", correct: "a", exp: "Milliókra kerekítéshez a százezresek helyén álló számjegyet (1) kell nézni. Mivel ez 5-nél kisebb, lefelé kerekítünk. A 45 millió marad, a többi helyiértékre 0 kerül." },
        { q: "Hány darab négyjegyű természetes szám létezik?", a: "9999", b: "8999", c: "9000", correct: "c", exp: "A legnagyobb négyjegyű szám 9999. Ebből kivonjuk az összes kisebb (egy-, két-, háromjegyű) számot, amiből 999 van. 9999 - 999 = 9000. Vagy: az első helyre 9-féle, a többire 10-10-10-féle számjegy kerülhet, 9⋅10⋅10⋅10 = 9000." },
        { q: "Melyik állítás írja le a számok trichotómiáját?", a: "Egy szám lehet páros, páratlan vagy nulla.", b: "Bármely két számra (a, b) igaz, hogy a<b, a=b, vagy a>b.", c: "Egy szám lehet pozitív, negatív vagy egész.", correct: "b", exp: "A trichotómia tulajdonsága azt jelenti, hogy bármely két számot összehasonlítva a három lehetséges reláció (<, =, >) közül pontosan egy teljesül." },
        { q: "Melyik a legkisebb ötjegyű szám, aminek minden számjegye különböző?", a: "10234", b: "12345", c: "10000", correct: "a", exp: "A legkisebb számot úgy kapjuk, ha a legkisebb számjegyeket használjuk. A tízezres helyiértékre a legkisebb nem nulla számjegy (1) kerül. A többire a maradék legkisebbek növekvő sorrendben: 0, 2, 3, 4. Így a szám: 10234." },
        { q: "Mi a 199 szám százasokra kerekített értéke?", a: "100", b: "200", c: "190", correct: "b", exp: "Százasokra kerekítéshez a tízesek helyén álló 9-est nézzük. Mivel ez 5 vagy annál nagyobb, felfelé kerekítünk. A százasok helyén álló 1-es eggyel nő, 2-es lesz. Az eredmény 200." },
        { q: "Mi az alaki érték és a valódi érték különbsége a 754 szám 7-es számjegyére nézve?", a: "Nincs különbség.", b: "Az alaki érték 7, a valódi 700.", c: "Az alaki érték 700, a valódi 7.", correct: "b", exp: "Az alaki érték mindig maga a számjegy (7). A valódi érték a helyiértékkel megszorzott érték, ami itt 7 × 100 = 700." }
    ];

    function shuffle(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
    }

    const quizForm = document.getElementById('quiz-form');
    function populateQuiz() {
      shuffle(questions);
      quizForm.innerHTML = '';
      questions.forEach((item, i) => {
        const block = document.createElement('div');
        block.className = 'question-block';
        block.innerHTML = `
          <div class="question">${i + 1}. ${item.q}</div>
          <div class="answers">
            <label><input type="radio" name="q${i}" value="a"/> a) ${item.a}</label>
            <label><input type="radio" name="q${i}" value="b"/> b) ${item.b}</label>
            <label><input type="radio" name="q${i}" value="c"/> c) ${item.c}</label>
          </div>
          <div class="explanation" id="exp${i}">${item.exp}</div>
        `;
        quizForm.appendChild(block);
      });
    }

    function areAllQuestionsAnswered() {
      for (let i = 0; i < questions.length; i++) {
        if (!quizForm.querySelector(`input[name="q${i}"]:checked`)) return false;
      }
      return true;
    }

    function isPinValid(pin) {
        return pin === MASTER_PIN || studentPins.has(pin);
    }

    function evaluateQuiz(isMaster = false) {
      let score = 0;
      questions.forEach((q, i) => {
        const selectedOption = quizForm.querySelector(`input[name="q${i}"]:checked`);
        const explanation = document.getElementById(`exp${i}`);
        const answerLabels = quizForm.querySelector(`input[name="q${i}"]`).parentElement.parentElement.querySelectorAll('label');
        
        if (selectedOption) {
            const parentLabel = selectedOption.parentElement;
            if (selectedOption.value === q.correct) {
                score++;
                parentLabel.classList.add('correct');
                parentLabel.innerHTML = `✅ ${parentLabel.innerHTML}`;
            } else {
                parentLabel.classList.add('incorrect');
                parentLabel.innerHTML = `❌ ${parentLabel.innerHTML}`;
                const correctLabel = answerLabels[q.correct.charCodeAt(0) - 97];
                correctLabel.classList.add('correct');
            }
        } else if (isMaster) {
             const correctLabel = answerLabels[q.correct.charCodeAt(0) - 97];
             correctLabel.classList.add('correct');
        }
        
        if (selectedOption || isMaster) {
            explanation.style.display = 'block';
        }
        
        quizForm.querySelectorAll(`input[name="q${i}"]`).forEach(input => input.disabled = true);
      });

      if (isMaster) score = questions.length;
      const percentage = ((score / questions.length) * 100).toFixed(0);
      document.getElementById('result').innerHTML = `Eredmény: <b>${score}/${questions.length}</b> (${percentage}%)`;
      document.getElementById('checkBtn').disabled = true;
      document.getElementById('pin').disabled = true;
    }
    
    function masterMode() {
        questions.forEach((q, i) => {
            const correctRadio = quizForm.querySelector(`input[name="q${i}"][value="${q.correct}"]`);
            if (correctRadio) correctRadio.checked = true;
        });
        evaluateQuiz(true);
        document.getElementById('admin-panel').style.display = 'block';
    }

    function checkAnswers() {
        const pin = document.getElementById('pin').value;
        if (!isPinValid(pin)) {
            alert('Érvénytelen PIN-kód! Kérlek, próbáld újra.');
            return;
        }

        if (pin === MASTER_PIN) {
            masterMode();
            return;
        }

        if (!areAllQuestionsAnswered()) {
            alert('Kérlek, válaszolj az összes kérdésre az ellenőrzés előtt!');
            return;
        }
        
        evaluateQuiz();
    }

    document.getElementById('checkBtn').addEventListener('click', checkAnswers);
    document.getElementById('pin').addEventListener('keypress', (event) => {
        if (event.key === 'Enter') {
            event.preventDefault();
            checkAnswers();
        }
    });

    // Induláskor
    window.onload = function() {
        createInitialPins();
        populateQuiz();
    };

  </script>
</body>
</html>