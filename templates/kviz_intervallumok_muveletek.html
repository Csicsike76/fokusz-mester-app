<!-- ===============================================
  FÁJLNÉV: kviz_intervallumok_muveletek.html
  TÉMA: Intervallumokkal végzett műveletek
  25 kérdés – helyes válasz­eloszlás: 8×a, 9×b, 8×c
  Mester PIN: 121909
  Tanulói PIN-ek: 100001–100020
==================================================== -->
<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>Gyakorló Kvíz – Intervallumokkal végzett műveletek</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --green:#28a745; --green-dark:#1e7e34; --red:#dc3545; --red-dark:#c82333;
      --blue:#007bff; --blue-dark:#0056b3; --light:#f8f9fa; --dark:#343a40;
      --master:#ff6b35;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{font-family:Roboto,sans-serif;background:var(--light);color:var(--dark);line-height:1.6;padding:1rem}
    .header{background:linear-gradient(135deg,var(--blue),var(--blue-dark));color:#fff;text-align:center;padding:2rem;margin-bottom:2rem;border-radius:10px;box-shadow:0 4px 15px rgba(0,0,0,.1)}
    .header h1{font-size:2rem;margin-bottom:.5rem;font-weight:600}
    .header .subtitle{font-size:1.1rem;opacity:.9;font-weight:300}
    .master-mode{background:var(--master);color:#fff;padding:.5rem 1rem;border-radius:20px;margin:1rem 0;text-align:center;font-weight:600;display:none;animation:pulse 2s infinite}
    @keyframes pulse{0%{opacity:1}50%{opacity:.7}100%{opacity:1}}
    .question{background:#fff;border:1px solid #e1e8ed;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;box-shadow:0 2px 8px rgba(0,0,0,.06)}
    .question h3{font-size:1.1rem;margin-bottom:1rem;font-weight:500}
    .answer-option{display:block;padding:.8rem;margin:.5rem 0;border-radius:6px;cursor:pointer;transition:.2s;border:2px solid transparent;position:relative}
    .answer-option:hover{background:#f1f3f4;border-color:#e8eaed}
    .answer-option input{margin-right:.8rem;transform:scale(1.1)}
    .correct{background:var(--green)!important;color:#fff!important;border-color:var(--green-dark)!important}
    .correct::after{content:"✅";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .wrong{background:var(--red)!important;color:#fff!important;border-color:var(--red-dark)!important}
    .wrong::after{content:"❌";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .master-correct{background:var(--green)!important;color:#fff!important;border-color:var(--green-dark)!important}
    .master-correct::after{content:"🎯";position:absolute;right:15px;top:50%;transform:translateY(-50%);font-size:1.2rem}
    .explanation{display:none;margin-top:1rem;padding:1rem;background:#e8f4f8;border-left:4px solid var(--blue);border-radius:4px;font-size:.95rem}
    .explanation.show{display:block}
    .pin-area{background:#fff;border:2px solid var(--blue);border-radius:8px;padding:2rem;margin:2rem 0;text-align:center}
    .pin-area input{padding:.8rem;border:2px solid #ddd;border-radius:6px;width:140px;text-align:center;font-size:1.1rem;font-weight:500}
    .btn{display:inline-block;background:var(--blue);color:#fff;padding:.8rem 1.5rem;border:none;border-radius:6px;font-weight:500;cursor:pointer;transition:.3s;font-size:1rem}
    .btn:hover{background:var(--blue-dark)}
    .btn-master{background:var(--master)}
    .btn-master:hover{background:#e55a2b}
    .score-box{display:none;background:#fff;border:3px solid var(--green);border-radius:10px;padding:2rem;margin:2rem 0;text-align:center}
    .score-box h2{color:var(--green-dark);font-size:2rem;margin-bottom:1rem}
    .score-box .score{font-size:3rem;font-weight:700;color:var(--green)}
    .admin-panel{display:none;background:#f8f9fa;border:2px dashed var(--master);border-radius:8px;padding:1.5rem;margin:2rem 0}
    .admin-panel pre{background:#fff;padding:1rem;border-radius:4px;border:1px solid #ddd;white-space:pre-wrap;max-height:300px;overflow-y:auto}
    .progress-bar{background:#e9ecef;height:6px;border-radius:3px;margin:1rem 0}
    .progress-fill{background:var(--blue);height:100%;transition:width .3s ease;width:0%}
  </style>
</head>
<body>

<div class="header">
  <h1>🎯 Gyakorló Kvíz</h1>
  <p class="subtitle">Intervallumokkal végzett műveletek</p>
</div>

<div class="master-mode" id="masterMode">🔑 MESTER MÓD AKTÍV – helyes válaszok jelölve</div>

<div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

<form id="quizForm" autocomplete="off">
  <!-- 1 (a) -->
  <div class="question" data-answer="a">
    <h3>1. Melyik művelet eredménye [1,3] ∪ (2,5] intervallumban?</h3>
    <label class="answer-option"><input type="radio" name="q1" value="a">[1,5]</label>
    <label class="answer-option"><input type="radio" name="q1" value="b">(1,5)</label>
    <label class="answer-option"><input type="radio" name="q1" value="c">[1,3] ∪ (2,5]</label>
    <div class="explanation">Unió: a kezdőpont az 1, a végpont az 5, a nyitottságot a legnyitottabb végpont határozza → [1,5].</div>
  </div>
  <!-- 2 (b) -->
  <div class="question" data-answer="b">
    <h3>2. A [−2,2] ∩ (1,4) metszet milyen intervallum?</h3>
    <label class="answer-option"><input type="radio" name="q2" value="a">(−2,4)</label>
    <label class="answer-option"><input type="radio" name="q2" value="b">(1,2]</label>
    <label class="answer-option"><input type="radio" name="q2" value="c">[−2,2]</label>
    <div class="explanation">Metszet: közös rész 1-től 2-ig, zárt a 2-nél és nyílt az 1-nél → (1,2].</div>
  </div>
  <!-- 3 (a) -->
  <div class="question" data-answer="a">
    <h3>3. Mi az eredménye [0,1) ∪ [1,2] intervallumokra?</h3>
    <label class="answer-option"><input type="radio" name="q3" value="a">[0,2]</label>
    <label class="answer-option"><input type="radio" name="q3" value="b">(0,2)</label>
    <label class="answer-option"><input type="radio" name="q3" value="c">[0,1) ∪ [1,2]</label>
    <div class="explanation">Az unió lefedi 0-tól 2-ig mindkét végpont zárt → [0,2].</div>
  </div>
  <!-- 4 (c) -->
  <div class="question" data-answer="c">
    <h3>4. Ha A=(−∞,0) és B=[0,∞), akkor A ∩ B = ?</h3>
    <label class="answer-option"><input type="radio" name="q4" value="a">(−∞,∞)</label>
    <label class="answer-option"><input type="radio" name="q4" value="b">[0,0]</label>
    <label class="answer-option"><input type="radio" name="q4" value="c">∅</label>
    <div class="explanation">Nincs közös pont, mert 0 az egyikben nyílt, a másikban zárt → üres metszet.</div>
  </div>
  <!-- 5 (a) -->
  <div class="question" data-answer="a">
    <h3>5. A (−1,3) \ [0,2] eredménye?</h3>
    <label class="answer-option"><input type="radio" name="q5" value="a">(−1,0) ∪ (2,3)</label>
    <label class="answer-option"><input type="radio" name="q5" value="b">(−1,2)</label>
    <label class="answer-option"><input type="radio" name="q5" value="c">[0,2]</label>
    <div class="explanation">Különbség: első intervallumból eltávolítjuk [0,2] részét → (−1,0) és (2,3).</div>
  </div>
  <!-- 6 (c) -->
  <div class="question" data-answer="c">
    <h3>6. Melyik ábrázolás mutatja helyesen A ∩ C, ha A=[1,4], B=[3,6], C=[2,5]?</h3>
    <label class="answer-option"><input type="radio" name="q6" value="a">[2,5]</label>
    <label class="answer-option"><input type="radio" name="q6" value="b">[1,6]</label>
    <label class="answer-option"><input type="radio" name="q6" value="c">[2,4]</label>
    <div class="explanation">Metszet A és C között: közös rész 2-től 4-ig, zárt intervallum.</div>
  </div>
  <!-- 7 (b) -->
  <div class="question" data-answer="b">
    <h3>7. Mi az (A ∪ B) \ C eredménye, ha A=[0,2], B=[3,5], C=[1,4]?</h3>
    <label class="answer-option"><input type="radio" name="q7" value="a">[0,2] ∪ [3,5]</label>
    <label class="answer-option"><input type="radio" name="q7" value="b">[0,1) ∪ (4,5]</label>
    <label class="answer-option"><input type="radio" name="q7" value="c">[1,4]</label>
    <div class="explanation">Unió [0,2]∪[3,5], eltávolítjuk [1,4] részét → [0,1) és (4,5].</div>
  </div>
  <!-- 8 (a) -->
  <div class="question" data-answer="a">
    <h3>8. Hogyan írható fel a ℝ teljes halmaz intervallumként?</h3>
    <label class="answer-option"><input type="radio" name="q8" value="a">(−∞,∞)</label>
    <label class="answer-option"><input type="radio" name="q8" value="b">[0,∞)</label>
    <label class="answer-option"><input type="radio" name="q8" value="c">(0,1)</label>
    <div class="explanation">Az összes valós szám: (−∞,∞).</div>
  </div>
  <!-- 9 (b) -->
  <div class="question" data-answer="b">
    <h3>9. Melyik intervallum metszete önmaga?</h3>
    <label class="answer-option"><input type="radio" name="q9" value="a">(a,b)</label>
    <label class="answer-option"><input type="radio" name="q9" value="b">(a,b) ∩ (a,b) = (a,b)</label>
    <label class="answer-option"><input type="radio" name="q9" value="c">(a,b) ∩ [a,b] = ∅</label>
    <div class="explanation">Minden A metsz A önmaga: A ∩ A = A.</div>
  </div>
  <!-- 10 (b) -->
  <div class="question" data-answer="b">
    <h3>10. Ha A ⊂ B, mi igaz A ∪ B-re?</h3>
    <label class="answer-option"><input type="radio" name="q10" value="a">A ∪ B = A</label>
    <label class="answer-option"><input type="radio" name="q10" value="b">A ∪ B = B</label>
    <label class="answer-option"><input type="radio" name="q10" value="c">(A ∪ B) ∩ A = ∅</label>
    <div class="explanation">Ha A részhalmaz B-nek, az unió = B.</div>
  </div>
  <!-- 11 (a) -->
  <div class="question" data-answer="a">
    <h3>11. Melyik művelet distributív a metszet felett?</h3>
    <label class="answer-option"><input type="radio" name="q11" value="a">(A ∪ B) ∩ C = (A ∩ C) ∪ (B ∩ C)</label>
    <label class="answer-option"><input type="radio" name="q11" value="b">A ∩ (B ∪ C) = A ∪ (B ∩ C)</label>
    <label class="answer-option"><input type="radio" name="q11" value="c">A ∩ (B ∩ C) = A ∪ (B ∪ C)</label>
    <div class="explanation">Disztributivitás: metszet az unió felett mint A ∩ (B ∪ C) = (A ∩ B) ∪ (A ∩ C).</div>
  </div>
  <!-- 12 (c) -->
  <div class="question" data-answer="c">
    <h3>12. Melyik a metszet és unió ellentéte De Morgan szabálya szerint?</h3>
    <label class="answer-option"><input type="radio" name="q12" value="a">(A ∩ B)' = A' ∩ B'</label>
    <label class="answer-option"><input type="radio" name="q12" value="b">(A ∪ B)' = A' ∪ B'</label>
    <label class="answer-option"><input type="radio" name="q12" value="c">(A ∩ B)' = A' ∪ B'</label>
    <div class="explanation">De Morgan: (A ∩ B)' = A' ∪ B'.</div>
  </div>
  <!-- 13 (b) -->
  <div class="question" data-answer="b">
    <h3>13. Hogyan írjuk fel a B komplemenst (B′) egy U alaphalmazban?</h3>
    <label class="answer-option"><input type="radio" name="q13" value="a">B′ = B</label>
    <label class="answer-option"><input type="radio" name="q13" value="b">B′ = U \ B</label>
    <label class="answer-option"><input type="radio" name="q13" value="c">B′ = ∅</label>
    <div class="explanation">Komplementer: U-ból kivesszük B elemeit.</div>
  </div>
  <!-- 14 (c) -->
  <div class="question" data-answer="c">
    <h3>14. Mennyi a (A \ B) ∪ (B \ A) eredménye?</h3>
    <label class="answer-option"><input type="radio" name="q14" value="a">A ∩ B</label>
    <label class="answer-option"><input type="radio" name="q14" value="b">A ∪ B</label>
    <label class="answer-option"><input type="radio" name="q14" value="c">A szimmetrikus differenciája (A Δ B)</label>
    <div class="explanation">Ez a definíciója az A Δ B-nek.</div>
  </div>
  <!-- 15 (a) -->
  <div class="question" data-answer="a">
    <h3>15. Melyik mutatja, hogy két intervallum diszjunkt?</h3>
    <label class="answer-option"><input type="radio" name="q15" value="a">Metszetük üres</label>
    <label class="answer-option"><input type="radio" name="q15" value="b">Uniójuk az egész ℝ</label>
    <label class="answer-option"><input type="radio" name="q15" value="c">Azonos végpontjaik vannak</label>
    <div class="explanation">Diszjunkt = nincs közös pont → metszet üres.</div>
  </div>
  <!-- 16 (b) -->
  <div class="question" data-answer="b">
    <h3>16. Ha (a,b) ⊆ ℝ, mi igaz (a,b) ∩ ℝ?</h3>
    <label class="answer-option"><input type="radio" name="q16" value="a">∅</label>
    <label class="answer-option"><input type="radio" name="q16" value="b">(a,b)</label>
    <label class="answer-option"><input type="radio" name="q16" value="c">ℝ</label>
    <div class="explanation">Metszet a saját univérzumával önmaga.</div>
  </div>
  <!-- 17 (c) -->
  <div class="question" data-answer="c">
    <h3>17. Mi a (−∞,0) ∪ (0,∞) uniója?</h3>
    <label class="answer-option"><input type="radio" name="q17" value="a">[−∞,∞]</label>
    <label class="answer-option"><input type="radio" name="q17" value="b">(−∞,∞)</label>
    <label class="answer-option"><input type="radio" name="q17" value="c">ℝ \ {0}</label>
    <div class="explanation">Minden valós szám, kivéve 0 → ℝ \ {0}.</div>
  </div>
  <!-- 18 (a) -->
  <div class="question" data-answer="a">
    <h3>18. Melyik kitöltött intervallum tartalmazza mindkét végpontot?</h3>
    <label class="answer-option"><input type="radio" name="q18" value="a">[a,b]</label>
    <label class="answer-option"><input type="radio" name="q18" value="b">(a,b)</label>
    <label class="answer-option"><input type="radio" name="q18" value="c">[a,b)</label>
    <div class="explanation">Szögletes zárójel mindkét oldalon = zárt intervallum.</div>
  </div>
  <!-- 19 (b) -->
  <div class="question" data-answer="b">
    <h3>19. A (2,6) ∩ [6,8) metszete?</h3>
    <label class="answer-option"><input type="radio" name="q19" value="a">{6}</label>
    <label class="answer-option"><input type="radio" name="q19" value="b">∅</label>
    <label class="answer-option"><input type="radio" name="q19" value="c">(6,6)</label>
    <div class="explanation">2,6 nyílt → 6 nincs benne → üres metszet.</div>
  </div>
  <!-- 20 (b) -->
  <div class="question" data-answer="b">
    <h3>20. Melyik intervallum nyílt mindkét végponton?</h3>
    <label class="answer-option"><input type="radio" name="q20" value="a">[a,b]</label>
    <label class="answer-option"><input type="radio" name="q20" value="b">(a,b)</label>
    <label class="answer-option"><input type="radio" name="q20" value="c">[a,b)</label>
    <div class="explanation">Mindkét vég nyitott → (a,b).</div>
  </div>
  <!-- 21 (c) -->
  <div class="question" data-answer="c">
    <h3>21. Melyik írja le a félnyílt intervallumot?</h3>
    <label class="answer-option"><input type="radio" name="q21" value="a">[a,b]</label>
    <label class="answer-option"><input type="radio" name="q21" value="b">(a,b)</label>
    <label class="answer-option"><input type="radio" name="q21" value="c">[a,b)</label>
    <div class="explanation">Zárt bal, nyílt jobb = [a,b).</div>
  </div>
  <!-- 22 (a) -->
  <div class="question" data-answer="a">
    <h3>22. Ha az intervallum hossza pozitív, akkor …</h3>
    <label class="answer-option"><input type="radio" name="q22" value="a">két különböző végpontja van</label>
    <label class="answer-option"><input type="radio" name="q22" value="b">zárt intervallum</label>
    <label class="answer-option"><input type="radio" name="q22" value="c">nyílt intervallum</label>
    <div class="explanation">Pozitív hossz → a végpontok különböznek.</div>
  </div>
  <!-- 23 (b) -->
  <div class="question" data-answer="b">
    <h3>23. Melyik intervallum tartalmazza a 0–1 közepét?</h3>
    <label class="answer-option"><input type="radio" name="q23" value="a">[0,1]</label>
    <label class="answer-option"><input type="radio" name="q23" value="b">(0,1)</label>
    <label class="answer-option"><input type="radio" name="q23" value="c">[0,0.5]</label>
    <div class="explanation">Középső pont 0.5, ami (0,1)-ben van.</div>
  </div>
  <!-- 24 (c) -->
  <div class="question" data-answer="c">
    <h3>24. Melyik nem intervallum?</h3>
    <label class="answer-option"><input type="radio" name="q24" value="a">[a,a]</label>
    <label class="answer-option"><input type="radio" name="q24" value="b">(−∞,∞)</label>
    <label class="answer-option"><input type="radio" name="q24" value="c">{1,2,3}</label>
    <div class="explanation">Készletek is lehetnek, de nem intervallumok.</div>
  </div>
  <!-- 25 (a) -->
  <div class="question" data-answer="a">
    <h3>25. Melyik feltétel írható fel intervallumként?</h3>
    <label class="answer-option"><input type="radio" name="q25" value="a">{x | a ≤ x ≤ b}</label>
    <label class="answer-option"><input type="radio" name="q25" value="b">{x | x ≠ a}</label>
    <label class="answer-option"><input type="radio" name="q25" value="c">{x | x > a vagy x < b}</label>
    <div class="explanation">Intervallum: folytonos tartomány feltételekkel.</div>
  </div>

  <!-- PIN -->
  <div class="pin-area">
    <h3>🔐 PIN-kód ellenőrzés</h3>
    <p>Írd be a 6 számjegyű PIN-kódot, majd Enter vagy „Ellenőrzés”!</p>
    <input type="text" id="pinInput" maxlength="6" placeholder="PIN-kód" />
    <br><br>
    <button type="button" class="btn" id="checkBtn">🔍 Ellenőrzés</button>
    <button type="button" class="btn btn-master" id="masterBtn" style="display:none;">🔑 Mester kiértékelés</button>
  </div>

  <!-- Eredmény -->
  <div class="score-box" id="scoreBox">
    <h2>📊 Eredmény</h2>
    <div class="score" id="finalScore">0 / 25</div>
    <p id="performance"></p>
  </div>

  <!-- Admin -->
  <div class="admin-panel" id="adminPanel">
    <h3>🛠️ Admin panel</h3>
    <pre id="adminData"></pre>
  </div>
</form>

<script>
(function(){
  const MASTER_PIN="121909";
  const STUDENT_PINS=Array.from({length:20},(_,i)=>String(100001+i));

  const pinInput=document.getElementById('pinInput');
  const masterMode=document.getElementById('masterMode');
  const masterBtn=document.getElementById('masterBtn');
  const checkBtn=document.getElementById('checkBtn');
  const progressBar=document.getElementById('progressBar');
  const scoreBox=document.getElementById('scoreBox');
  const finalScore=document.getElementById('finalScore');
  const performance=document.getElementById('performance');
  const adminPanel=document.getElementById('adminPanel');
  const adminData=document.getElementById('adminData');

  let isMaster=false;

  function highlightCorrect(){
    document.querySelectorAll('.question').forEach(q=>{
      q.querySelectorAll('.answer-option').forEach(op=>{
        op.classList.toggle('master-correct',
          op.querySelector('input').value===q.dataset.answer);
      });
    });
  }
  function removeHighlight(){
    document.querySelectorAll('.master-correct')
      .forEach(el=>el.classList.remove('master-correct'));
  }

  pinInput.addEventListener('input',()=>{
    isMaster=pinInput.value.trim()===MASTER_PIN;
    masterMode.style.display=isMaster?'block':'none';
    masterBtn.style.display=isMaster?'inline-block':'none';
    checkBtn.style.display=isMaster?'none':'inline-block';
    document.querySelectorAll('.explanation')
            .forEach(e=>e.classList.toggle('show',isMaster));
    isMaster?highlightCorrect():removeHighlight();
  });

  function updateProgress(){
    const answered=[...document.querySelectorAll('.question')]
      .filter(q=>[...q.querySelectorAll('input')].some(i=>i.checked)).length;
    progressBar.style.width=(answered/25*100)+'%';
  }
  document.querySelectorAll('input[type="radio"]')
          .forEach(r=>r.addEventListener('change',updateProgress));

  function evaluate(master=false){
    let correct=0,log=[];
    document.querySelectorAll('.question').forEach((q,idx)=>{
      const ans=q.dataset.answer;
      const sel=q.querySelector('input:checked')?.value||null;
      q.querySelectorAll('.answer-option').forEach(op=>{
        const inp=op.querySelector('input');
        inp.disabled=true;
        op.classList.remove('master-correct');
        if(inp.value===ans){
          op.classList.add('correct');
          if(sel===ans) correct++;
        } else if(inp.checked){
          op.classList.add('wrong');
        }
      });
      q.querySelector('.explanation').classList.add('show');
      log.push(`Q${idx+1}: ${sel||'–'} | helyes: ${ans}`);
    });
    progressBar.style.width='100%';
    const pct=Math.round(correct/25*100);
    finalScore.textContent=`${correct} / 25`;
    performance.textContent=
      pct>=92?'🏆 Kiváló!'
      :pct>=80?'👍 Nagyszerű!'
      :pct>=60?'📚 Közepes, gyakorolj!'
      :'💪 Próbáld újra!';
    performance.style.color=pct>=80?'#28a745':pct>=60?'#ffc107':'#dc3545';
    scoreBox.style.display='block';
    if(master){
      adminPanel.style.display='block';
      adminData.textContent=log.join('\n')+`\n\nPontosság: ${pct}%`;
    }
  }

  checkBtn.onclick=()=>{
    const pin=pinInput.value.trim();
    if(!STUDENT_PINS.includes(pin)){
      alert('❌ Érvénytelen PIN!');
      return;
    }
    if(![...document.querySelectorAll('.question')]
        .every(q=>q.querySelector('input:checked'))){
      alert('⚠️ Minden kérdésre válaszolj!');
      return;
    }
    evaluate(false);
  };
  masterBtn.onclick=()=>evaluate(true);
  pinInput.addEventListener('keydown',e=>{
    if(e.key==='Enter'){
      e.preventDefault();
      (isMaster?masterBtn:checkBtn).click();
    }
  });
})();
</script>

</body>
</html>
