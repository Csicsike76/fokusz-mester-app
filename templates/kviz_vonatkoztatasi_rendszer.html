<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kv√≠z: Vonatkoztat√°si rendszer</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --light-color: #f4f7f9;
            --success-color: #2ecc71;
            --error-color: #e74c3c;
            --neutral-color: #95a5a6;
            --white: #ffffff;
            --red-hu: #CD2A3E;
            --green-hu: #436F4D;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: var(--light-color); color: var(--primary-color); margin: 0; padding: 20px; display: flex; justify-content: center; line-height: 1.6; }
        .quiz-container { width: 100%; max-width: 800px; background-color: var(--white); border-radius: 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); overflow: hidden; }
        .quiz-header { padding: 20px 30px; background: linear-gradient(135deg, var(--red-hu) 33.33%, var(--white) 33.33%, var(--white) 66.66%, var(--green-hu) 66.66%); color: var(--primary-color); text-align: center; }
        .quiz-header h1 { margin: 0; font-size: 1.8em; text-shadow: 1px 1px 2px rgba(0,0,0,0.2); }
        .controls { padding: 20px 30px; background-color: #f8f9fa; text-align: center; border-bottom: 2px solid var(--light-color); }
        .pin-container { display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px; }
        #pin-input { padding: 10px; width: 120px; border: 2px solid var(--neutral-color); border-radius: 5px; text-align: center; font-size: 1.1em; }
        #submit-btn { background-color: var(--accent-color); color: var(--white); border: none; padding: 12px 25px; border-radius: 5px; cursor: pointer; font-size: 1.1em; }
        #submit-btn:disabled { background-color: var(--neutral-color); cursor: not-allowed; }
        #results { margin-top: 15px; font-size: 1.2em; font-weight: bold; }
        #admin-panel { display: none; margin-top: 15px; background-color: var(--light-color); padding: 15px; border-radius: 5px; text-align: left; }
        #admin-panel h3 { margin-top: 0; text-align: center; }
        #alert-message { display: none; margin-top: 15px; padding: 10px; border-radius: 5px; color: var(--white); background-color: var(--error-color); }
        .quiz-body { padding: 30px; }
        .question { margin-bottom: 25px; padding-bottom: 20px; border-bottom: 1px solid #bdc3c7; }
        .question:last-of-type { border-bottom: none; }
        .question p { font-size: 1.2em; margin: 0 0 15px 0; font-weight: 600; }
        .formula-display {font-family: 'Courier New', Courier, monospace; background-color: #e9ecef; padding: 5px; border-radius: 3px; display: inline-block; }
        .answers { display: flex; flex-direction: column; gap: 10px; }
        .answer { display: flex; align-items: center; gap: 12px; background-color: #ecf0f1; padding: 12px 15px; border-radius: 5px; cursor: pointer; border: 1px solid transparent; }
        .answer input[type="radio"] { flex-shrink: 0; transform: scale(1.2); }
        .answer span { flex-grow: 1; }
        .feedback-icon { display: none; margin-left: auto; font-weight: bold; }
        .correct { background-color: #e8f5e9; border: 1px solid var(--success-color); }
        .incorrect { background-color: #fce4e4; border: 1px solid var(--error-color); }
        .explanation { display: none; margin-top: 15px; padding: 15px; background-color: #f8f9fa; border-left: 5px solid var(--neutral-color); border-radius: 5px; }
        .explanation-step { margin-bottom: 10px; }
        .explanation-step b { color: var(--secondary-color); }
        .explanation-solution { margin-top: 10px; font-weight: bold; color: var(--success-color); }
    </style>
</head>
<body>
    <div class="quiz-container">
        <div class="quiz-header"><h1>Kv√≠z: Vonatkoztat√°si rendszer</h1></div>
        <div class="controls">
            <div class="pin-container"><input type="password" id="pin-input" placeholder="PIN k√≥d" autocomplete="off"><button id="submit-btn">Ellen≈ërz√©s</button></div>
            <div id="alert-message"></div>
            <div id="results"></div>
            <div id="admin-panel"><h3>Admin Panel</h3><p>Mester PIN elfogadva...</p><p id="answer-distribution"></p></div>
        </div>
        <div class="quiz-body" id="quiz-body"></div>
    </div>
    <script>
        const fullQuestionPool = [
            // Eloszl√°s: 8 'a', 9 'b', 8 'c'
            { question: "Egy vonaton √ºl≈ë utas a mellette l√©v≈ë f√°hoz k√©pest...", answers: { a: "nyugalomban van.", b: "mozg√°sban van.", c: "hol mozog, hol nem." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Vonatkoztat√°si test:</b> A vonatkoztat√°si test a fa.</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Mivel a vonat halad, az utas t√°vols√°ga a f√°t√≥l folyamatosan v√°ltozik. Ez a mozg√°s defin√≠ci√≥ja.</div><div class="explanation-solution">‚úÖ Megold√°s: Az utas a f√°hoz k√©pest mozg√°sban van.</div>` },
            { question: "Mi az a p√°lya?", answers: { a: "A mozg√≥ test √°ltal le√≠rt vonal.", b: "A test sebess√©ge.", c: "A test kiindul√°si helye." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Defin√≠ci√≥:</b> A p√°lya az a g√∂rbe (vagy egyenes), amelyen a test v√©gighalad a mozg√°sa sor√°n.</div><div class="explanation-solution">‚úÖ Megold√°s: A p√°lya a mozg√≥ test √°ltal le√≠rt vonal.</div>` },
            { question: "Melyik NEM sz√ºks√©ges egy vonatkoztat√°si rendszer teljes le√≠r√°s√°hoz?", answers: { a: "Egy vonatkoztat√°si test", b: "A mozg√≥ test t√∂mege", c: "Egy koordin√°ta-rendszer" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Vonatkoztat√°si rendszer elemei:</b> A mozg√°s le√≠r√°s√°hoz kell egy test, amihez viszony√≠tunk, egy koordin√°ta-rendszer, amiben m√©rj√ºk a helyzet√©t, √©s egy √≥ra, amivel m√©rj√ºk az id≈ët. A t√∂meg a tehetetlens√©g m√©rt√©ke, nem a mozg√°s le√≠r√°s√°nak felt√©tele.</div><div class="explanation-solution">‚úÖ Megold√°s: A mozg√≥ test t√∂mege nem r√©sze a vonatkoztat√°si rendszernek.</div>` },
            { question: "Egy aut√≥ utasa a sof≈ërh√∂z k√©pest...", answers: { a: "...nyugalomban van.", b: "...mozg√°sban van.", c: "...gyorsul." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Vonatkoztat√°si test:</b> A vonatkoztat√°si test a sof≈ër.</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Mivel az utas √©s a sof≈ër helyzete egym√°shoz k√©pest nem v√°ltozik az aut√≥ban, az utas a sof≈ërh√∂z k√©pest nyugalomban van.</div><div class="explanation-solution">‚úÖ Megold√°s: Az utas a sof≈ërh√∂z k√©pest nyugalomban van.</div>` },
            { question: "Mi a viszony√≠t√°si pont?", answers: { a: "A test, amihez a mozg√°st viszony√≠tjuk.", b: "A mozg√≥ test.", c: "A mozg√°s v√©gpontja." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Defin√≠ci√≥:</b> A viszony√≠t√°si pont (vagy vonatkoztat√°si test) az a test, amelyet nyugalomban l√©v≈ënek tekint√ºnk, √©s ehhez k√©pest √≠rjuk le a t√∂bbi test mozg√°s√°t.</div><div class="explanation-solution">‚úÖ Megold√°s: A viszony√≠t√°si pont az a test, amihez a mozg√°st viszony√≠tjuk.</div>` },
            { question: "A F√∂ld a Naphoz k√©pest...", answers: { a: "...mozg√°sban van.", b: "...nyugalomban van.", c: "...hol mozog, hol nem." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Csillag√°szati mozg√°s:</b> A F√∂ld kering a Nap k√∂r√ºl, teh√°t a helyzete a Naphoz k√©pest folyamatosan v√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A F√∂ld a Naphoz k√©pest mozg√°sban van.</div>` },
            { question: "K√©t egym√°s mellett, azonos sebess√©ggel halad√≥ aut√≥ sof≈ërjei egym√°shoz k√©pest...", answers: { a: "...nyugalomban vannak.", b: "...mozg√°sban vannak.", c: "...ellent√©tes ir√°nyban mozognak." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Elemz√©s:</b> Mivel a k√©t aut√≥ sebess√©ge √©s halad√°si ir√°nya megegyezik, a k√∂z√∂tt√ºk l√©v≈ë t√°vols√°g √©s a helyzet√ºk egym√°shoz k√©pest nem v√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A sof≈ër√∂k egym√°shoz k√©pest nyugalomban vannak.</div>` },
            { question: "Mit nevez√ºnk mozg√≥ testnek?", answers: { a: "Amelyiknek van sebess√©ge.", b: "Amelyiknek a helyzete megv√°ltozik egy vonatkoztat√°si testhez k√©pest.", c: "Amelyikre er≈ë hat." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Defin√≠ci√≥:</b> A mozg√°s alapvet≈ë defin√≠ci√≥ja a helyzetv√°ltoztat√°s. Egy test akkor mozog, ha a helyzete egy m√°sik, v√°lasztott testhez k√©pest az id≈ë m√∫l√°s√°val megv√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A mozg√≥ test helyzete megv√°ltozik egy vonatkoztat√°si testhez k√©pest.</div>` },
            { question: "A Hold a F√∂ldh√∂z k√©pest...", answers: { a: "Nyugalomban van.", b: "Mozg√°sban van.", c: "Csak teliholdkor mozog." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Csillag√°szati mozg√°s:</b> A Hold kering a F√∂ld k√∂r√ºl, ez√©rt a helyzete a F√∂ldh√∂z k√©pest folyamatosan v√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A Hold mozg√°sban van a F√∂ldh√∂z k√©pest.</div>` },
            { question: "Egy liftben √°ll√≥ szem√©ly a lift fal√°hoz k√©pest...", answers: { a: "Mindig nyugalomban van.", b: "Mindig mozg√°sban van.", c: "Csak akkor van nyugalomban, ha a lift √°ll." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Vonatkoztat√°si test:</b> A vonatkoztat√°si test a lift fala.</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Ak√°r mozog a lift, ak√°r √°ll, a benne √°ll√≥ szem√©ly helyzete a falhoz k√©pest nem v√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A lift fal√°hoz k√©pest a szem√©ly mindig nyugalomban van.</div>` },
            { question: "Egy k√∂rhint√°n √ºl≈ë gyerek p√°ly√°ja a k√∂rhinta k√∂z√©ppontj√°hoz k√©pest...", answers: { a: "Egyenes.", b: "K√∂r.", c: "Pont." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ P√°lya defin√≠ci√≥ja:</b> A p√°lya a mozg√≥ test √°ltal le√≠rt vonal.</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Ahogy a k√∂rhinta forog, a rajta √ºl≈ë gyerek egy k√∂r alak√∫ p√°ly√°t √≠r le a k√∂rhinta k√∂z√©ppontja k√∂r√ºl.</div><div class="explanation-solution">‚úÖ Megold√°s: A gyerek p√°ly√°ja k√∂r alak√∫.</div>` },
            { question: "A Nap a Tej√∫trendszer k√∂z√©ppontj√°hoz k√©pest...", answers: { a: "Nyugalomban van.", b: "Mozg√°sban van.", c: "Kil√©pett a Tej√∫trendszerb≈ël." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Kozmol√≥gia:</b> A Naprendszer√ºnk, a Nappal egy√ºtt, kering a galaxisunk, a Tej√∫trendszer k√∂z√©ppontja k√∂r√ºl. Egy teljes k√∂rt kb. 220-250 milli√≥ √©v alatt tesz meg.</div><div class="explanation-solution">‚úÖ Megold√°s: A Nap mozg√°sban van a Tej√∫trendszer k√∂z√©ppontj√°hoz k√©pest.</div>` },
            { question: "Melyik √°ll√≠t√°s √≠rja le a mozg√°s relativit√°s√°t?", answers: { a: "Minden test mozog.", b: "Egy test lehet egyszerre mozg√°sban √©s nyugalomban is.", c: "A nyugalom csak l√°tszat." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ P√©lda:</b> Egy vonaton √ºl≈ë utas a vonathoz k√©pest nyugalomban van, de a F√∂ldh√∂z k√©pest mozg√°sban. Ez a p√©lda t√∂k√©letesen szeml√©lteti, hogy a mozg√°s √©s a nyugalom a vonatkoztat√°si rendszert≈ël f√ºgg.</div><div class="explanation-solution">‚úÖ Megold√°s: Az az √°ll√≠t√°s, hogy egy test lehet egyszerre mozg√°sban √©s nyugalomban is, √≠rja le a legjobban a relativit√°st.</div>` },
            { question: "Egy bicikli kerek√©n l√©v≈ë szelep p√°ly√°ja a bicikli tengely√©hez k√©pest...", answers: { a: "Egyenes", b: "K√∂r", c: "Ciklois" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Vonatkoztat√°si test:</b> A vonatkoztat√°si test a bicikli tengelye.</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Ahogy a ker√©k forog, a szelep a tengely k√∂r√ºl egyenletes t√°vols√°gban kering, teh√°t egy k√∂rt √≠r le. (Az √∫ttesthez k√©pest a p√°ly√°ja egy ciklois nev≈± g√∂rbe lenne).</div><div class="explanation-solution">‚úÖ Megold√°s: A szelep p√°ly√°ja k√∂r a tengelyhez k√©pest.</div>` },
            { question: "Mi sz√ºks√©ges egy mozg√°s grafikus √°br√°zol√°s√°hoz?", answers: { a: "Egy test", b: "Egy p√°lya", c: "Egy koordin√°ta-rendszer" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ √Åbr√°zol√°s:</b> A mozg√°st leggyakrabban √∫t-id≈ë vagy sebess√©g-id≈ë grafikonon √°br√°zoljuk, amihez egy koordin√°ta-rendszer (tengelyek, sk√°la) elengedhetetlen.</div><div class="explanation-solution">‚úÖ Megold√°s: A grafikus √°br√°zol√°shoz koordin√°ta-rendszer sz√ºks√©ges.</div>` },
            { question: "Mi az 'elmozdul√°s'?", answers: { a: "A test √°ltal megtett √∫t teljes hossza.", b: "A test sebess√©g√©nek v√°ltoz√°sa.", c: "A test kezdeti √©s v√©gs≈ë helyzet√©t √∂sszek√∂t≈ë vektor." }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ Defin√≠ci√≥:</b> Az elmozdul√°s egy vektormennyis√©g, amely a mozg√°s kezd≈ëpontj√°b√≥l a v√©gpontj√°ba mutat. Nem felt√©tlen√ºl egyezik meg a megtett √∫ttal (pl. egy k√∂rp√°ly√°n egy teljes k√∂r ut√°n a megtett √∫t 2rœÄ, de az elmozdul√°s 0).</div><div class="explanation-solution">‚úÖ Megold√°s: Az elmozdul√°s a kezdeti √©s v√©gs≈ë helyzetet √∂sszek√∂t≈ë vektor.</div>` },
            { question: "Egy foly√≥n lefel√© √∫sz√≥ cs√≥nak a parthoz k√©pest...", answers: { a: "Lassabban halad, mint a v√≠zhez k√©pest.", b: "Ugyanolyan sebess√©ggel halad, mint a v√≠zhez k√©pest.", c: "Gyorsabban halad, mint a v√≠zhez k√©pest." }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ Sebess√©gek √∂sszead√≥d√°sa:</b> A cs√≥nak parthoz viszony√≠tott sebess√©ge a v√≠zhez viszony√≠tott sebess√©g√©nek √©s a foly√≥ sebess√©g√©nek az √∂sszege.</div><div class="explanation-solution">‚úÖ Megold√°s: A cs√≥nak gyorsabban halad a parthoz k√©pest.</div>` },
            { question: "A tanteremben l√©v≈ë t√°bla az iskol√°hoz k√©pest...", answers: { a: "Mozg√°sban van.", b: "Nyugalomban van.", c: "Id≈ënk√©nt mozog." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Elemz√©s:</b> A t√°bla helyzete az iskola √©p√ºlet√©hez viszony√≠tva nem v√°ltozik.</div><div class="explanation-solution">‚úÖ Megold√°s: A t√°bla nyugalomban van az iskol√°hoz k√©pest.</div>` },
            { question: "Egy rep√ºl≈ë utasa nyugalomban van a ... k√©pest.", answers: { a: "F√∂ldh√∂z", b: "rep√ºl≈ëg√©phez", c: "felh≈ëkh√∂z" }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Elemz√©s:</b> Az utas helyzete a rep√ºl≈ëg√©phez, mint vonatkoztat√°si testhez k√©pest, nem v√°ltozik. A F√∂ldh√∂z √©s a felh≈ëkh√∂z k√©pest viszont mozog.</div><div class="explanation-solution">‚úÖ Megold√°s: Az utas a rep√ºl≈ëg√©phez k√©pest van nyugalomban.</div>` },
            { question: "Ha k√©t aut√≥ front√°lisan √ºtk√∂zik, a sebess√©g√ºk egym√°shoz k√©pest...", answers: { a: "azonos.", b: "nulla.", c: "a sebess√©geik √∂sszege." }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ Relat√≠v sebess√©g:</b> Ha k√©t test egym√°ssal szemben mozog, a relat√≠v sebess√©g√ºk (ahogy egym√°shoz k√∂zelednek) a sebess√©geik nagys√°g√°nak √∂sszege.</div><div class="explanation-solution">‚úÖ Megold√°s: A sebess√©g√ºk egym√°shoz k√©pest a sebess√©geik √∂sszege.</div>` },
            { question: "Melyik egy egyenesvonal√∫ mozg√°s p√°ly√°ja?", answers: { a: "K√∂r", b: "Parabola", c: "Egyenes" }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ Defin√≠ci√≥:</b> Az egyenesvonal√∫ mozg√°s defin√≠ci√≥ szerint olyan mozg√°s, amelynek a p√°ly√°ja egyenes.</div><div class="explanation-solution">‚úÖ Megold√°s: A p√°lya egyenes.</div>` },
            { question: "Egy liftben leejtett kulcs a lift padl√≥j√°hoz k√©pest...", answers: { a: "lebeg.", b: "mozg√°sban van.", c: "nyugalomban van." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Elemz√©s:</b> Amikor leejtj√ºk a kulcsot, az szabades√©sbe kezd (a F√∂ldh√∂z k√©pest). Mivel a lift padl√≥j√°hoz viszony√≠tjuk, √©s a kulcs k√∂zeledik hozz√°, ez√©rt mozg√°sban van.</div><div class="explanation-solution">‚úÖ Megold√°s: A kulcs a lift padl√≥j√°hoz k√©pest mozg√°sban van.</div>` },
            { question: "Mi√©rt fontos a vonatkoztat√°si rendszer megad√°sa?", answers: { a: "Mert en√©lk√ºl a mozg√°s le√≠r√°sa nem egy√©rtelm≈±.", b: "Mert en√©lk√ºl a testnek nincs t√∂mege.", c: "Mert csak √≠gy lehet kisz√°molni a s√∫rl√≥d√°st." }, correctAnswer: "a", explanation: `<div class="explanation-step"><b>üîπ Relativit√°s:</b> Ahogy a p√©ld√°k mutatt√°k, egy test egyszerre lehet mozg√°sban √©s nyugalomban, att√≥l f√ºgg≈ëen, mihez viszony√≠tjuk. A f√©lre√©rt√©sek elker√ºl√©se v√©gett mindig meg kell adni, hogy mihez k√©pest √≠rjuk le a mozg√°st.</div><div class="explanation-solution">‚úÖ Megold√°s: A vonatkoztat√°si rendszer megad√°sa n√©lk√ºl a mozg√°s le√≠r√°sa nem egy√©rtelm≈±.</div>` },
            { question: "Az 'abszol√∫t nyugalom' l√©tezik a fizik√°ban?", answers: { a: "Igen, a F√∂ld.", b: "Igen, a Nap.", c: "Nem." }, correctAnswer: "c", explanation: `<div class="explanation-step"><b>üîπ Alapelv:</b> Mivel minden test mozog valami m√°shoz k√©pest (a F√∂ld a Nap k√∂r√ºl, a Nap a galaxisban, a galaxisok egym√°shoz k√©pest), nincs olyan kit√ºntetett pont a vil√°gegyetemben, amihez k√©pest minden m√°st m√©rhetn√©nk, √©s ami "abszol√∫t nyugalomban" lenne.</div><div class="explanation-solution">‚úÖ Megold√°s: Az abszol√∫t nyugalom nem l√©tezik.</div>` },
            { question: "Egy k√∂rp√°ly√°n halad√≥ aut√≥ egy teljes k√∂r ut√°n visszat√©r a kiindul√°si pontba. Mekkora az elmozdul√°sa?", answers: { a: "A k√∂r ker√ºlete.", b: "Nulla.", c: "A k√∂r sugara." }, correctAnswer: "b", explanation: `<div class="explanation-step"><b>üîπ Elmozdul√°s vs. √öt:</b> A megtett √∫t a p√°lya hossza (a k√∂r ker√ºlete). Az elmozdul√°s a kezd≈ë- √©s v√©gpont k√∂z√∂tti legr√∂videbb t√°vols√°g (vektor).</div><div class="explanation-step"><b>üîπ Elemz√©s:</b> Mivel a kezd≈ë- √©s v√©gpont egybeesik, a k√∂zt√ºk l√©v≈ë t√°vols√°g nulla.</div><div class="explanation-solution">‚úÖ Megold√°s: Az elmozdul√°s nulla.</div>` }
        ];

        const quizBody=document.getElementById("quiz-body"),submitBtn=document.getElementById("submit-btn"),pinInput=document.getElementById("pin-input"),resultsDiv=document.getElementById("results"),adminPanel=document.getElementById("admin-panel"),alertMessage=document.getElementById("alert-message"),answerDistributionDiv=document.getElementById("answer-distribution");let selectedAnswers={},questionsOnPage=[];
        function shuffleArray(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}}
        
        function buildQuiz(){
            shuffleArray(fullQuestionPool);
            questionsOnPage=fullQuestionPool;
            questionsOnPage.forEach((e,t)=>{
                const o=document.createElement("div");o.classList.add("question"),o.id=`question-${t}`;
                const n=document.createElement("p");n.innerHTML=`${t+1}. ${e.question}`,o.appendChild(n);
                const a=document.createElement("div");a.classList.add("answers");
                let s=Object.entries(e.answers).map(([e,t])=>({key:e,text:t}));
                shuffleArray(s);
                s.forEach((n,s)=>{
                    const l=document.createElement("label");l.classList.add("answer");
                    const d=document.createElement("input");d.type="radio",d.name=`question${t}`,d.value=n.key,d.id=`q${t}k${n.key}`,d.addEventListener("change",handleAnswerSelection);
                    const i=document.createElement("span");
                    i.textContent=n.text;
                    const r=document.createElement("span");r.classList.add("feedback-icon");
                    l.appendChild(d),l.appendChild(i),l.appendChild(r),a.appendChild(l)
                });
                o.appendChild(a);
                const l=document.createElement("div");l.classList.add("explanation"),l.innerHTML=e.explanation,o.appendChild(l),quizBody.appendChild(o)
            })
        }
        
        function handleAnswerSelection(e){const t=e.target.name.replace("question","");selectedAnswers[t]=e.target.value}function checkPIN(e){const t="121909";if(e===t)return"master";const o=parseInt(e,10);return o>=100001&&o<=100020?"student":null}function showAlert(e){alertMessage.textContent=e,alertMessage.style.display="block"}function hideAlert(){alertMessage.style.display="none"}function revealAllForMaster(){questionsOnPage.forEach((e,t)=>{const o=document.getElementById(`question-${t}`),n=e.correctAnswer,a=o.querySelector(".explanation");a.style.display="block";const s=o.querySelectorAll(".answer");s.forEach(e=>{const t=e.querySelector("input");t.disabled=!0;const o=t.value,a=e.querySelector(".feedback-icon");o===n&&(e.classList.add("correct"),a.style.display="inline",a.textContent=" ‚úÖ Helyes")})}),resultsDiv.textContent="Mester M√≥d: Megold√°sok felfedve.",submitBtn.disabled=!0,pinInput.disabled=!0,adminPanel.style.display="block";const e=questionsOnPage.reduce((e,t)=>(e[t.correctAnswer]=(e[t.correctAnswer]||0)+1,e),{});answerDistributionDiv.innerHTML=`<b>El≈ë√≠rt eloszl√°s:</b> 8√ó'a', 9√ó'b', 8√ó'c'.<br><b>T√©nyleges eloszl√°s:</b> A: ${e.a||0}, B: ${e.b||0}, C: ${e.c||0}.`}function evaluateStudentAnswers(){let e=0;questionsOnPage.forEach((t,o)=>{const n=document.getElementById(`question-${o}`),a=selectedAnswers[o],s=t.correctAnswer,l=n.querySelector(".explanation");l.style.display="block";const d=n.querySelectorAll(".answer");d.forEach(t=>{const o=t.querySelector("input");o.disabled=!0;const n=o.value,l=t.querySelector(".feedback-icon");n===a&&(a===s?(e++,t.classList.add("correct"),l.style.display="inline",l.textContent=" ‚úÖ"):(t.classList.add("incorrect"),l.style.display="inline",l.textContent=" ‚ùå"))})});const t=Math.round(e/questionsOnPage.length*100);resultsDiv.textContent=`Eredm√©nyed: ${e} / ${questionsOnPage.length} (${t}%)`,submitBtn.disabled=!0,pinInput.disabled=!0}submitBtn.addEventListener("click",()=>{hideAlert();const e=pinInput.value,t=checkPIN(e);if("master"===t)return void revealAllForMaster();if(Object.keys(selectedAnswers).length<questionsOnPage.length)return void showAlert("K√©rlek, v√°laszold meg az √∂sszes k√©rd√©st az ellen≈ërz√©s el≈ëtt!");if(!t)return void showAlert("√ârv√©nytelen PIN k√≥d. K√©rj egyet a tan√°rodt√≥l!");evaluateStudentAnswers()}),pinInput.addEventListener("keydown",e=>{"Enter"===e.key&&(e.preventDefault(),submitBtn.click())}),document.addEventListener("DOMContentLoaded",buildQuiz);
    </script>
</body>
</html>